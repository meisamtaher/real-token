import{i as ku,aB as no,p as te,f as wn,aC as G,q as B0}from"./index-XxsA1De3.js";import{p as D0,h as $0}from"./hooks.module-o1hAt1ko.js";function F0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Nu={},Vi={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.walletLogo=void 0;const j0=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};io.walletLogo=j0;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.LINK_API_URL=void 0;so.LINK_API_URL="https://www.walletlink.org";var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.ScopedLocalStorage=void 0;class U0{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}oo.ScopedLocalStorage=U0;var ti={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});const W0=ku;function zc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function H0(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let V0=class extends W0.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")zc(s,this,r);else{const o=s.length,a=H0(s);for(let c=0;c<o;c+=1)zc(a[c],this,r)}return!0}};_n.default=V0;var Lu={exports:{}};Lu.exports;(function(t){(function(e,r){function n(w,u){if(!w)throw new Error(u||"Assertion failed")}function i(w,u){w.super_=u;var g=function(){};g.prototype=u.prototype,w.prototype=new g,w.prototype.constructor=w}function s(w,u,g){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((u==="le"||u==="be")&&(g=u,u=10),this._init(w||0,u||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=no.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,g){return u.cmp(g)>0?u:g},s.min=function(u,g){return u.cmp(g)<0?u:g},s.prototype._init=function(u,g,m){if(typeof u=="number")return this._initNumber(u,g,m);if(typeof u=="object")return this._initArray(u,g,m);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var E=0;u[0]==="-"&&(E++,this.negative=1),E<u.length&&(g===16?this._parseHex(u,E,m):(this._parseBase(u,g,E),m==="le"&&this._initArray(this.toArray(),g,m)))},s.prototype._initNumber=function(u,g,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),g,m)},s.prototype._initArray=function(u,g,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S,T,L=0;if(m==="be")for(E=u.length-1,S=0;E>=0;E-=3)T=u[E]|u[E-1]<<8|u[E-2]<<16,this.words[S]|=T<<L&67108863,this.words[S+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,S++);else if(m==="le")for(E=0,S=0;E<u.length;E+=3)T=u[E]|u[E+1]<<8|u[E+2]<<16,this.words[S]|=T<<L&67108863,this.words[S+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,S++);return this._strip()};function a(w,u){var g=w.charCodeAt(u);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+w)}function c(w,u,g){var m=a(w,g);return g-1>=u&&(m|=a(w,g-1)<<4),m}s.prototype._parseHex=function(u,g,m){this.length=Math.ceil((u.length-g)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S=0,T=0,L;if(m==="be")for(E=u.length-1;E>=g;E-=2)L=c(u,g,E)<<S,this.words[T]|=L&67108863,S>=18?(S-=18,T+=1,this.words[T]|=L>>>26):S+=8;else{var _=u.length-g;for(E=_%2===0?g+1:g;E<u.length;E+=2)L=c(u,g,E)<<S,this.words[T]|=L&67108863,S>=18?(S-=18,T+=1,this.words[T]|=L>>>26):S+=8}this._strip()};function l(w,u,g,m){for(var E=0,S=0,T=Math.min(w.length,g),L=u;L<T;L++){var _=w.charCodeAt(L)-48;E*=m,_>=49?S=_-49+10:_>=17?S=_-17+10:S=_,n(_>=0&&S<m,"Invalid character"),E+=S}return E}s.prototype._parseBase=function(u,g,m){this.words=[0],this.length=1;for(var E=0,S=1;S<=67108863;S*=g)E++;E--,S=S/g|0;for(var T=u.length-m,L=T%E,_=Math.min(T,T-L)+m,d=0,R=m;R<_;R+=E)d=l(u,R,R+E,g),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(L!==0){var Y=1;for(d=l(u,R,u.length,g),R=0;R<L;R++)Y*=g;this.imuln(Y),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red};function p(w,u){w.words=u.words,w.length=u.length,w.negative=u.negative,w.red=u.red}if(s.prototype._move=function(u){p(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,g){u=u||10,g=g|0||1;var m;if(u===16||u==="hex"){m="";for(var E=0,S=0,T=0;T<this.length;T++){var L=this.words[T],_=((L<<E|S)&16777215).toString(16);S=L>>>24-E&16777215,E+=2,E>=26&&(E-=26,T--),S!==0||T!==this.length-1?m=v[6-_.length]+_+m:m=_+m}for(S!==0&&(m=S.toString(16)+m);m.length%g!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],R=O[u];m="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var X=Y.modrn(R).toString(u);Y=Y.idivn(R),Y.isZero()?m=X+m:m=v[d-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%g!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,g){return this.toArrayLike(o,u,g)}),s.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)};var j=function(u,g){return u.allocUnsafe?u.allocUnsafe(g):new u(g)};s.prototype.toArrayLike=function(u,g,m){this._strip();var E=this.byteLength(),S=m||Math.max(1,E);n(E<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var T=j(u,S),L=g==="le"?"LE":"BE";return this["_toArrayLike"+L](T,E),T},s.prototype._toArrayLikeLE=function(u,g){for(var m=0,E=0,S=0,T=0;S<this.length;S++){var L=this.words[S]<<T|E;u[m++]=L&255,m<u.length&&(u[m++]=L>>8&255),m<u.length&&(u[m++]=L>>16&255),T===6?(m<u.length&&(u[m++]=L>>24&255),E=0,T=0):(E=L>>>24,T+=2)}if(m<u.length)for(u[m++]=E;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,g){for(var m=u.length-1,E=0,S=0,T=0;S<this.length;S++){var L=this.words[S]<<T|E;u[m--]=L&255,m>=0&&(u[m--]=L>>8&255),m>=0&&(u[m--]=L>>16&255),T===6?(m>=0&&(u[m--]=L>>24&255),E=0,T=0):(E=L>>>24,T+=2)}if(m>=0)for(u[m--]=E;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var g=u,m=0;return g>=4096&&(m+=13,g>>>=13),g>=64&&(m+=7,g>>>=7),g>=8&&(m+=4,g>>>=4),g>=2&&(m+=2,g>>>=2),m+g},s.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,m=0;return g&8191||(m+=13,g>>>=13),g&127||(m+=7,g>>>=7),g&15||(m+=4,g>>>=4),g&3||(m+=2,g>>>=2),g&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function F(w){for(var u=new Array(w.bitLength()),g=0;g<u.length;g++){var m=g/26|0,E=g%26;u[g]=w.words[m]>>>E&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var m=this._zeroBits(this.words[g]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var m=0;m<g.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=g.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var g,m;this.length>u.length?(g=this,m=u):(g=u,m=this);for(var E=0;E<m.length;E++)this.words[E]=g.words[E]^m.words[E];if(this!==g)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=g.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,m=u%26;this._expand(g),m>0&&g--;for(var E=0;E<g;E++)this.words[E]=~this.words[E]&67108863;return m>0&&(this.words[E]=~this.words[E]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var m=u/26|0,E=u%26;return this._expand(m+1),g?this.words[m]=this.words[m]|1<<E:this.words[m]=this.words[m]&~(1<<E),this._strip()},s.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var m,E;this.length>u.length?(m=this,E=u):(m=u,E=this);for(var S=0,T=0;T<E.length;T++)g=(m.words[T]|0)+(E.words[T]|0)+S,this.words[T]=g&67108863,S=g>>>26;for(;S!==0&&T<m.length;T++)g=(m.words[T]|0)+S,this.words[T]=g&67108863,S=g>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this},s.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,S;m>0?(E=this,S=u):(E=u,S=this);for(var T=0,L=0;L<S.length;L++)g=(E.words[L]|0)-(S.words[L]|0)+T,T=g>>26,this.words[L]=g&67108863;for(;T!==0&&L<E.length;L++)g=(E.words[L]|0)+T,T=g>>26,this.words[L]=g&67108863;if(T===0&&L<E.length&&E!==this)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=Math.max(this.length,L),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function I(w,u,g){g.negative=u.negative^w.negative;var m=w.length+u.length|0;g.length=m,m=m-1|0;var E=w.words[0]|0,S=u.words[0]|0,T=E*S,L=T&67108863,_=T/67108864|0;g.words[0]=L;for(var d=1;d<m;d++){for(var R=_>>>26,Y=_&67108863,X=Math.min(d,u.length-1),k=Math.max(0,d-w.length+1);k<=X;k++){var B=d-k|0;E=w.words[B]|0,S=u.words[k]|0,T=E*S+Y,R+=T/67108864|0,Y=T&67108863}g.words[d]=Y|0,_=R|0}return _!==0?g.words[d]=_|0:g.length--,g._strip()}var N=function(u,g,m){var E=u.words,S=g.words,T=m.words,L=0,_,d,R,Y=E[0]|0,X=Y&8191,k=Y>>>13,B=E[1]|0,V=B&8191,Q=B>>>13,ge=E[2]|0,M=ge&8191,C=ge>>>13,q=E[3]|0,J=q&8191,fe=q>>>13,ye=E[4]|0,ae=ye&8191,Se=ye>>>13,Pt=E[5]|0,Ae=Pt&8191,Ie=Pt>>>13,ot=E[6]|0,Me=ot&8191,Te=ot>>>13,ct=E[7]|0,Ce=ct&8191,b=ct>>>13,f=E[8]|0,h=f&8191,x=f>>>13,P=E[9]|0,$=P&8191,W=P>>>13,de=S[0]|0,he=de&8191,ce=de>>>13,Oe=S[1]|0,ue=Oe&8191,Le=Oe>>>13,An=S[2]|0,Pe=An&8191,Be=An>>>13,Tn=S[3]|0,De=Tn&8191,$e=Tn>>>13,On=S[4]|0,Fe=On&8191,je=On>>>13,kn=S[5]|0,Ue=kn&8191,We=kn>>>13,Nn=S[6]|0,He=Nn&8191,Ve=Nn>>>13,Ln=S[7]|0,ze=Ln&8191,qe=Ln>>>13,Pn=S[8]|0,Ge=Pn&8191,Je=Pn>>>13,Bn=S[9]|0,Ze=Bn&8191,Qe=Bn>>>13;m.negative=u.negative^g.negative,m.length=19,_=Math.imul(X,he),d=Math.imul(X,ce),d=d+Math.imul(k,he)|0,R=Math.imul(k,ce);var Wr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,_=Math.imul(V,he),d=Math.imul(V,ce),d=d+Math.imul(Q,he)|0,R=Math.imul(Q,ce),_=_+Math.imul(X,ue)|0,d=d+Math.imul(X,Le)|0,d=d+Math.imul(k,ue)|0,R=R+Math.imul(k,Le)|0;var Hr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,_=Math.imul(M,he),d=Math.imul(M,ce),d=d+Math.imul(C,he)|0,R=Math.imul(C,ce),_=_+Math.imul(V,ue)|0,d=d+Math.imul(V,Le)|0,d=d+Math.imul(Q,ue)|0,R=R+Math.imul(Q,Le)|0,_=_+Math.imul(X,Pe)|0,d=d+Math.imul(X,Be)|0,d=d+Math.imul(k,Pe)|0,R=R+Math.imul(k,Be)|0;var Vr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,_=Math.imul(J,he),d=Math.imul(J,ce),d=d+Math.imul(fe,he)|0,R=Math.imul(fe,ce),_=_+Math.imul(M,ue)|0,d=d+Math.imul(M,Le)|0,d=d+Math.imul(C,ue)|0,R=R+Math.imul(C,Le)|0,_=_+Math.imul(V,Pe)|0,d=d+Math.imul(V,Be)|0,d=d+Math.imul(Q,Pe)|0,R=R+Math.imul(Q,Be)|0,_=_+Math.imul(X,De)|0,d=d+Math.imul(X,$e)|0,d=d+Math.imul(k,De)|0,R=R+Math.imul(k,$e)|0;var zr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(zr>>>26)|0,zr&=67108863,_=Math.imul(ae,he),d=Math.imul(ae,ce),d=d+Math.imul(Se,he)|0,R=Math.imul(Se,ce),_=_+Math.imul(J,ue)|0,d=d+Math.imul(J,Le)|0,d=d+Math.imul(fe,ue)|0,R=R+Math.imul(fe,Le)|0,_=_+Math.imul(M,Pe)|0,d=d+Math.imul(M,Be)|0,d=d+Math.imul(C,Pe)|0,R=R+Math.imul(C,Be)|0,_=_+Math.imul(V,De)|0,d=d+Math.imul(V,$e)|0,d=d+Math.imul(Q,De)|0,R=R+Math.imul(Q,$e)|0,_=_+Math.imul(X,Fe)|0,d=d+Math.imul(X,je)|0,d=d+Math.imul(k,Fe)|0,R=R+Math.imul(k,je)|0;var qr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(qr>>>26)|0,qr&=67108863,_=Math.imul(Ae,he),d=Math.imul(Ae,ce),d=d+Math.imul(Ie,he)|0,R=Math.imul(Ie,ce),_=_+Math.imul(ae,ue)|0,d=d+Math.imul(ae,Le)|0,d=d+Math.imul(Se,ue)|0,R=R+Math.imul(Se,Le)|0,_=_+Math.imul(J,Pe)|0,d=d+Math.imul(J,Be)|0,d=d+Math.imul(fe,Pe)|0,R=R+Math.imul(fe,Be)|0,_=_+Math.imul(M,De)|0,d=d+Math.imul(M,$e)|0,d=d+Math.imul(C,De)|0,R=R+Math.imul(C,$e)|0,_=_+Math.imul(V,Fe)|0,d=d+Math.imul(V,je)|0,d=d+Math.imul(Q,Fe)|0,R=R+Math.imul(Q,je)|0,_=_+Math.imul(X,Ue)|0,d=d+Math.imul(X,We)|0,d=d+Math.imul(k,Ue)|0,R=R+Math.imul(k,We)|0;var Gr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,_=Math.imul(Me,he),d=Math.imul(Me,ce),d=d+Math.imul(Te,he)|0,R=Math.imul(Te,ce),_=_+Math.imul(Ae,ue)|0,d=d+Math.imul(Ae,Le)|0,d=d+Math.imul(Ie,ue)|0,R=R+Math.imul(Ie,Le)|0,_=_+Math.imul(ae,Pe)|0,d=d+Math.imul(ae,Be)|0,d=d+Math.imul(Se,Pe)|0,R=R+Math.imul(Se,Be)|0,_=_+Math.imul(J,De)|0,d=d+Math.imul(J,$e)|0,d=d+Math.imul(fe,De)|0,R=R+Math.imul(fe,$e)|0,_=_+Math.imul(M,Fe)|0,d=d+Math.imul(M,je)|0,d=d+Math.imul(C,Fe)|0,R=R+Math.imul(C,je)|0,_=_+Math.imul(V,Ue)|0,d=d+Math.imul(V,We)|0,d=d+Math.imul(Q,Ue)|0,R=R+Math.imul(Q,We)|0,_=_+Math.imul(X,He)|0,d=d+Math.imul(X,Ve)|0,d=d+Math.imul(k,He)|0,R=R+Math.imul(k,Ve)|0;var Jr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,_=Math.imul(Ce,he),d=Math.imul(Ce,ce),d=d+Math.imul(b,he)|0,R=Math.imul(b,ce),_=_+Math.imul(Me,ue)|0,d=d+Math.imul(Me,Le)|0,d=d+Math.imul(Te,ue)|0,R=R+Math.imul(Te,Le)|0,_=_+Math.imul(Ae,Pe)|0,d=d+Math.imul(Ae,Be)|0,d=d+Math.imul(Ie,Pe)|0,R=R+Math.imul(Ie,Be)|0,_=_+Math.imul(ae,De)|0,d=d+Math.imul(ae,$e)|0,d=d+Math.imul(Se,De)|0,R=R+Math.imul(Se,$e)|0,_=_+Math.imul(J,Fe)|0,d=d+Math.imul(J,je)|0,d=d+Math.imul(fe,Fe)|0,R=R+Math.imul(fe,je)|0,_=_+Math.imul(M,Ue)|0,d=d+Math.imul(M,We)|0,d=d+Math.imul(C,Ue)|0,R=R+Math.imul(C,We)|0,_=_+Math.imul(V,He)|0,d=d+Math.imul(V,Ve)|0,d=d+Math.imul(Q,He)|0,R=R+Math.imul(Q,Ve)|0,_=_+Math.imul(X,ze)|0,d=d+Math.imul(X,qe)|0,d=d+Math.imul(k,ze)|0,R=R+Math.imul(k,qe)|0;var Zr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,_=Math.imul(h,he),d=Math.imul(h,ce),d=d+Math.imul(x,he)|0,R=Math.imul(x,ce),_=_+Math.imul(Ce,ue)|0,d=d+Math.imul(Ce,Le)|0,d=d+Math.imul(b,ue)|0,R=R+Math.imul(b,Le)|0,_=_+Math.imul(Me,Pe)|0,d=d+Math.imul(Me,Be)|0,d=d+Math.imul(Te,Pe)|0,R=R+Math.imul(Te,Be)|0,_=_+Math.imul(Ae,De)|0,d=d+Math.imul(Ae,$e)|0,d=d+Math.imul(Ie,De)|0,R=R+Math.imul(Ie,$e)|0,_=_+Math.imul(ae,Fe)|0,d=d+Math.imul(ae,je)|0,d=d+Math.imul(Se,Fe)|0,R=R+Math.imul(Se,je)|0,_=_+Math.imul(J,Ue)|0,d=d+Math.imul(J,We)|0,d=d+Math.imul(fe,Ue)|0,R=R+Math.imul(fe,We)|0,_=_+Math.imul(M,He)|0,d=d+Math.imul(M,Ve)|0,d=d+Math.imul(C,He)|0,R=R+Math.imul(C,Ve)|0,_=_+Math.imul(V,ze)|0,d=d+Math.imul(V,qe)|0,d=d+Math.imul(Q,ze)|0,R=R+Math.imul(Q,qe)|0,_=_+Math.imul(X,Ge)|0,d=d+Math.imul(X,Je)|0,d=d+Math.imul(k,Ge)|0,R=R+Math.imul(k,Je)|0;var Qr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,_=Math.imul($,he),d=Math.imul($,ce),d=d+Math.imul(W,he)|0,R=Math.imul(W,ce),_=_+Math.imul(h,ue)|0,d=d+Math.imul(h,Le)|0,d=d+Math.imul(x,ue)|0,R=R+Math.imul(x,Le)|0,_=_+Math.imul(Ce,Pe)|0,d=d+Math.imul(Ce,Be)|0,d=d+Math.imul(b,Pe)|0,R=R+Math.imul(b,Be)|0,_=_+Math.imul(Me,De)|0,d=d+Math.imul(Me,$e)|0,d=d+Math.imul(Te,De)|0,R=R+Math.imul(Te,$e)|0,_=_+Math.imul(Ae,Fe)|0,d=d+Math.imul(Ae,je)|0,d=d+Math.imul(Ie,Fe)|0,R=R+Math.imul(Ie,je)|0,_=_+Math.imul(ae,Ue)|0,d=d+Math.imul(ae,We)|0,d=d+Math.imul(Se,Ue)|0,R=R+Math.imul(Se,We)|0,_=_+Math.imul(J,He)|0,d=d+Math.imul(J,Ve)|0,d=d+Math.imul(fe,He)|0,R=R+Math.imul(fe,Ve)|0,_=_+Math.imul(M,ze)|0,d=d+Math.imul(M,qe)|0,d=d+Math.imul(C,ze)|0,R=R+Math.imul(C,qe)|0,_=_+Math.imul(V,Ge)|0,d=d+Math.imul(V,Je)|0,d=d+Math.imul(Q,Ge)|0,R=R+Math.imul(Q,Je)|0,_=_+Math.imul(X,Ze)|0,d=d+Math.imul(X,Qe)|0,d=d+Math.imul(k,Ze)|0,R=R+Math.imul(k,Qe)|0;var Yr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,_=Math.imul($,ue),d=Math.imul($,Le),d=d+Math.imul(W,ue)|0,R=Math.imul(W,Le),_=_+Math.imul(h,Pe)|0,d=d+Math.imul(h,Be)|0,d=d+Math.imul(x,Pe)|0,R=R+Math.imul(x,Be)|0,_=_+Math.imul(Ce,De)|0,d=d+Math.imul(Ce,$e)|0,d=d+Math.imul(b,De)|0,R=R+Math.imul(b,$e)|0,_=_+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,je)|0,d=d+Math.imul(Te,Fe)|0,R=R+Math.imul(Te,je)|0,_=_+Math.imul(Ae,Ue)|0,d=d+Math.imul(Ae,We)|0,d=d+Math.imul(Ie,Ue)|0,R=R+Math.imul(Ie,We)|0,_=_+Math.imul(ae,He)|0,d=d+Math.imul(ae,Ve)|0,d=d+Math.imul(Se,He)|0,R=R+Math.imul(Se,Ve)|0,_=_+Math.imul(J,ze)|0,d=d+Math.imul(J,qe)|0,d=d+Math.imul(fe,ze)|0,R=R+Math.imul(fe,qe)|0,_=_+Math.imul(M,Ge)|0,d=d+Math.imul(M,Je)|0,d=d+Math.imul(C,Ge)|0,R=R+Math.imul(C,Je)|0,_=_+Math.imul(V,Ze)|0,d=d+Math.imul(V,Qe)|0,d=d+Math.imul(Q,Ze)|0,R=R+Math.imul(Q,Qe)|0;var Kr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,_=Math.imul($,Pe),d=Math.imul($,Be),d=d+Math.imul(W,Pe)|0,R=Math.imul(W,Be),_=_+Math.imul(h,De)|0,d=d+Math.imul(h,$e)|0,d=d+Math.imul(x,De)|0,R=R+Math.imul(x,$e)|0,_=_+Math.imul(Ce,Fe)|0,d=d+Math.imul(Ce,je)|0,d=d+Math.imul(b,Fe)|0,R=R+Math.imul(b,je)|0,_=_+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Te,Ue)|0,R=R+Math.imul(Te,We)|0,_=_+Math.imul(Ae,He)|0,d=d+Math.imul(Ae,Ve)|0,d=d+Math.imul(Ie,He)|0,R=R+Math.imul(Ie,Ve)|0,_=_+Math.imul(ae,ze)|0,d=d+Math.imul(ae,qe)|0,d=d+Math.imul(Se,ze)|0,R=R+Math.imul(Se,qe)|0,_=_+Math.imul(J,Ge)|0,d=d+Math.imul(J,Je)|0,d=d+Math.imul(fe,Ge)|0,R=R+Math.imul(fe,Je)|0,_=_+Math.imul(M,Ze)|0,d=d+Math.imul(M,Qe)|0,d=d+Math.imul(C,Ze)|0,R=R+Math.imul(C,Qe)|0;var Xr=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,_=Math.imul($,De),d=Math.imul($,$e),d=d+Math.imul(W,De)|0,R=Math.imul(W,$e),_=_+Math.imul(h,Fe)|0,d=d+Math.imul(h,je)|0,d=d+Math.imul(x,Fe)|0,R=R+Math.imul(x,je)|0,_=_+Math.imul(Ce,Ue)|0,d=d+Math.imul(Ce,We)|0,d=d+Math.imul(b,Ue)|0,R=R+Math.imul(b,We)|0,_=_+Math.imul(Me,He)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Te,He)|0,R=R+Math.imul(Te,Ve)|0,_=_+Math.imul(Ae,ze)|0,d=d+Math.imul(Ae,qe)|0,d=d+Math.imul(Ie,ze)|0,R=R+Math.imul(Ie,qe)|0,_=_+Math.imul(ae,Ge)|0,d=d+Math.imul(ae,Je)|0,d=d+Math.imul(Se,Ge)|0,R=R+Math.imul(Se,Je)|0,_=_+Math.imul(J,Ze)|0,d=d+Math.imul(J,Qe)|0,d=d+Math.imul(fe,Ze)|0,R=R+Math.imul(fe,Qe)|0;var en=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(en>>>26)|0,en&=67108863,_=Math.imul($,Fe),d=Math.imul($,je),d=d+Math.imul(W,Fe)|0,R=Math.imul(W,je),_=_+Math.imul(h,Ue)|0,d=d+Math.imul(h,We)|0,d=d+Math.imul(x,Ue)|0,R=R+Math.imul(x,We)|0,_=_+Math.imul(Ce,He)|0,d=d+Math.imul(Ce,Ve)|0,d=d+Math.imul(b,He)|0,R=R+Math.imul(b,Ve)|0,_=_+Math.imul(Me,ze)|0,d=d+Math.imul(Me,qe)|0,d=d+Math.imul(Te,ze)|0,R=R+Math.imul(Te,qe)|0,_=_+Math.imul(Ae,Ge)|0,d=d+Math.imul(Ae,Je)|0,d=d+Math.imul(Ie,Ge)|0,R=R+Math.imul(Ie,Je)|0,_=_+Math.imul(ae,Ze)|0,d=d+Math.imul(ae,Qe)|0,d=d+Math.imul(Se,Ze)|0,R=R+Math.imul(Se,Qe)|0;var tn=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul($,Ue),d=Math.imul($,We),d=d+Math.imul(W,Ue)|0,R=Math.imul(W,We),_=_+Math.imul(h,He)|0,d=d+Math.imul(h,Ve)|0,d=d+Math.imul(x,He)|0,R=R+Math.imul(x,Ve)|0,_=_+Math.imul(Ce,ze)|0,d=d+Math.imul(Ce,qe)|0,d=d+Math.imul(b,ze)|0,R=R+Math.imul(b,qe)|0,_=_+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,Je)|0,d=d+Math.imul(Te,Ge)|0,R=R+Math.imul(Te,Je)|0,_=_+Math.imul(Ae,Ze)|0,d=d+Math.imul(Ae,Qe)|0,d=d+Math.imul(Ie,Ze)|0,R=R+Math.imul(Ie,Qe)|0;var fa=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(fa>>>26)|0,fa&=67108863,_=Math.imul($,He),d=Math.imul($,Ve),d=d+Math.imul(W,He)|0,R=Math.imul(W,Ve),_=_+Math.imul(h,ze)|0,d=d+Math.imul(h,qe)|0,d=d+Math.imul(x,ze)|0,R=R+Math.imul(x,qe)|0,_=_+Math.imul(Ce,Ge)|0,d=d+Math.imul(Ce,Je)|0,d=d+Math.imul(b,Ge)|0,R=R+Math.imul(b,Je)|0,_=_+Math.imul(Me,Ze)|0,d=d+Math.imul(Me,Qe)|0,d=d+Math.imul(Te,Ze)|0,R=R+Math.imul(Te,Qe)|0;var ha=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(ha>>>26)|0,ha&=67108863,_=Math.imul($,ze),d=Math.imul($,qe),d=d+Math.imul(W,ze)|0,R=Math.imul(W,qe),_=_+Math.imul(h,Ge)|0,d=d+Math.imul(h,Je)|0,d=d+Math.imul(x,Ge)|0,R=R+Math.imul(x,Je)|0,_=_+Math.imul(Ce,Ze)|0,d=d+Math.imul(Ce,Qe)|0,d=d+Math.imul(b,Ze)|0,R=R+Math.imul(b,Qe)|0;var da=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(da>>>26)|0,da&=67108863,_=Math.imul($,Ge),d=Math.imul($,Je),d=d+Math.imul(W,Ge)|0,R=Math.imul(W,Je),_=_+Math.imul(h,Ze)|0,d=d+Math.imul(h,Qe)|0,d=d+Math.imul(x,Ze)|0,R=R+Math.imul(x,Qe)|0;var pa=(L+_|0)+((d&8191)<<13)|0;L=(R+(d>>>13)|0)+(pa>>>26)|0,pa&=67108863,_=Math.imul($,Ze),d=Math.imul($,Qe),d=d+Math.imul(W,Ze)|0,R=Math.imul(W,Qe);var ga=(L+_|0)+((d&8191)<<13)|0;return L=(R+(d>>>13)|0)+(ga>>>26)|0,ga&=67108863,T[0]=Wr,T[1]=Hr,T[2]=Vr,T[3]=zr,T[4]=qr,T[5]=Gr,T[6]=Jr,T[7]=Zr,T[8]=Qr,T[9]=Yr,T[10]=Kr,T[11]=Xr,T[12]=en,T[13]=tn,T[14]=fa,T[15]=ha,T[16]=da,T[17]=pa,T[18]=ga,L!==0&&(T[19]=L,m.length++),m};Math.imul||(N=I);function D(w,u,g){g.negative=u.negative^w.negative,g.length=w.length+u.length;for(var m=0,E=0,S=0;S<g.length-1;S++){var T=E;E=0;for(var L=m&67108863,_=Math.min(S,u.length-1),d=Math.max(0,S-w.length+1);d<=_;d++){var R=S-d,Y=w.words[R]|0,X=u.words[d]|0,k=Y*X,B=k&67108863;T=T+(k/67108864|0)|0,B=B+L|0,L=B&67108863,T=T+(B>>>26)|0,E+=T>>>26,T&=67108863}g.words[S]=L,m=T,T=E}return m!==0?g.words[S]=m:g.length--,g._strip()}function H(w,u,g){return D(w,u,g)}s.prototype.mulTo=function(u,g){var m,E=this.length+u.length;return this.length===10&&u.length===10?m=N(this,u,g):E<63?m=I(this,u,g):E<1024?m=D(this,u,g):m=H(this,u,g),m},s.prototype.mul=function(u){var g=new s(null);return g.words=new Array(this.length+u.length),this.mulTo(u,g)},s.prototype.mulf=function(u){var g=new s(null);return g.words=new Array(this.length+u.length),H(this,u,g)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var g=u<0;g&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,E=0;E<this.length;E++){var S=(this.words[E]|0)*u,T=(S&67108863)+(m&67108863);m>>=26,m+=S/67108864|0,m+=T>>>26,this.words[E]=T&67108863}return m!==0&&(this.words[E]=m,this.length++),g?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var g=F(u);if(g.length===0)return new s(1);for(var m=this,E=0;E<g.length&&g[E]===0;E++,m=m.sqr());if(++E<g.length)for(var S=m.sqr();E<g.length;E++,S=S.sqr())g[E]!==0&&(m=m.mul(S));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,m=(u-g)/26,E=67108863>>>26-g<<26-g,S;if(g!==0){var T=0;for(S=0;S<this.length;S++){var L=this.words[S]&E,_=(this.words[S]|0)-L<<g;this.words[S]=_|T,T=L>>>26-g}T&&(this.words[S]=T,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,g,m){n(typeof u=="number"&&u>=0);var E;g?E=(g-g%26)/26:E=0;var S=u%26,T=Math.min((u-S)/26,this.length),L=67108863^67108863>>>S<<S,_=m;if(E-=T,E=Math.max(0,E),_){for(var d=0;d<T;d++)_.words[d]=this.words[d];_.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var R=0;for(d=this.length-1;d>=0&&(R!==0||d>=E);d--){var Y=this.words[d]|0;this.words[d]=R<<26-S|Y>>>S,R=Y&L}return _&&R!==0&&(_.words[_.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,g,m){return n(this.negative===0),this.iushrn(u,g,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,m=(u-g)/26,E=1<<g;if(this.length<=m)return!1;var S=this.words[m];return!!(S&E)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,m=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(g!==0&&m++,this.length=Math.min(m,this.length),g!==0){var E=67108863^67108863>>>g<<g;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,g,m){var E=u.length+m,S;this._expand(E);var T,L=0;for(S=0;S<u.length;S++){T=(this.words[S+m]|0)+L;var _=(u.words[S]|0)*g;T-=_&67108863,L=(T>>26)-(_/67108864|0),this.words[S+m]=T&67108863}for(;S<this.length-m;S++)T=(this.words[S+m]|0)+L,L=T>>26,this.words[S+m]=T&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+L,L=T>>26,this.words[S]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,g){var m=this.length-u.length,E=this.clone(),S=u,T=S.words[S.length-1]|0,L=this._countBits(T);m=26-L,m!==0&&(S=S.ushln(m),E.iushln(m),T=S.words[S.length-1]|0);var _=E.length-S.length,d;if(g!=="mod"){d=new s(null),d.length=_+1,d.words=new Array(d.length);for(var R=0;R<d.length;R++)d.words[R]=0}var Y=E.clone()._ishlnsubmul(S,1,_);Y.negative===0&&(E=Y,d&&(d.words[_]=1));for(var X=_-1;X>=0;X--){var k=(E.words[S.length+X]|0)*67108864+(E.words[S.length+X-1]|0);for(k=Math.min(k/T|0,67108863),E._ishlnsubmul(S,k,X);E.negative!==0;)k--,E.negative=0,E._ishlnsubmul(S,1,X),E.isZero()||(E.negative^=1);d&&(d.words[X]=k)}return d&&d._strip(),E._strip(),g!=="div"&&m!==0&&E.iushrn(m),{div:d||null,mod:E}},s.prototype.divmod=function(u,g,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,S,T;return this.negative!==0&&u.negative===0?(T=this.neg().divmod(u,g),g!=="mod"&&(E=T.div.neg()),g!=="div"&&(S=T.mod.neg(),m&&S.negative!==0&&S.iadd(u)),{div:E,mod:S}):this.negative===0&&u.negative!==0?(T=this.divmod(u.neg(),g),g!=="mod"&&(E=T.div.neg()),{div:E,mod:T.mod}):this.negative&u.negative?(T=this.neg().divmod(u.neg(),g),g!=="div"&&(S=T.mod.neg(),m&&S.negative!==0&&S.isub(u)),{div:T.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,g)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var m=g.div.negative!==0?g.mod.isub(u):g.mod,E=u.ushrn(1),S=u.andln(1),T=m.cmp(E);return T<0||S===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,E=0,S=this.length-1;S>=0;S--)E=(m*E+(this.words[S]|0))%u;return g?-E:E},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var m=0,E=this.length-1;E>=0;E--){var S=(this.words[E]|0)+m*67108864;this.words[E]=S/u|0,m=S%u}return this._strip(),g?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,m=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var E=new s(1),S=new s(0),T=new s(0),L=new s(1),_=0;g.isEven()&&m.isEven();)g.iushrn(1),m.iushrn(1),++_;for(var d=m.clone(),R=g.clone();!g.isZero();){for(var Y=0,X=1;!(g.words[0]&X)&&Y<26;++Y,X<<=1);if(Y>0)for(g.iushrn(Y);Y-- >0;)(E.isOdd()||S.isOdd())&&(E.iadd(d),S.isub(R)),E.iushrn(1),S.iushrn(1);for(var k=0,B=1;!(m.words[0]&B)&&k<26;++k,B<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(d),L.isub(R)),T.iushrn(1),L.iushrn(1);g.cmp(m)>=0?(g.isub(m),E.isub(T),S.isub(L)):(m.isub(g),T.isub(E),L.isub(S))}return{a:T,b:L,gcd:m.iushln(_)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,m=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var E=new s(1),S=new s(0),T=m.clone();g.cmpn(1)>0&&m.cmpn(1)>0;){for(var L=0,_=1;!(g.words[0]&_)&&L<26;++L,_<<=1);if(L>0)for(g.iushrn(L);L-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);for(var d=0,R=1;!(m.words[0]&R)&&d<26;++d,R<<=1);if(d>0)for(m.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);g.cmp(m)>=0?(g.isub(m),E.isub(S)):(m.isub(g),S.isub(E))}var Y;return g.cmpn(1)===0?Y=E:Y=S,Y.cmpn(0)<0&&Y.iadd(u),Y},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),m=u.clone();g.negative=0,m.negative=0;for(var E=0;g.isEven()&&m.isEven();E++)g.iushrn(1),m.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=g.cmp(m);if(S<0){var T=g;g=m,m=T}else if(S===0||m.cmpn(1)===0)break;g.isub(m)}while(!0);return m.iushln(E)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,m=(u-g)/26,E=1<<g;if(this.length<=m)return this._expand(m+1),this.words[m]|=E,this;for(var S=E,T=m;S!==0&&T<this.length;T++){var L=this.words[T]|0;L+=S,S=L>>>26,L&=67108863,this.words[T]=L}return S!==0&&(this.words[T]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var m;if(this.length>1)m=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var E=this.words[0]|0;m=E===u?0:E<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,m=this.length-1;m>=0;m--){var E=this.words[m]|0,S=u.words[m]|0;if(E!==S){E<S?g=-1:E>S&&(g=1);break}}return g},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new ne(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var U={k256:null,p224:null,p192:null,p25519:null};function z(w,u){this.name=w,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var g=u,m;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),m=g.bitLength();while(m>this.n);var E=m<this.n?-1:g.ucmp(this.p);return E===0?(g.words[0]=0,g.length=1):E>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},z.prototype.split=function(u,g){u.iushrn(this.n,0,g)},z.prototype.imulK=function(u){return u.imul(this.k)};function ee(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ee,z),ee.prototype.split=function(u,g){for(var m=4194303,E=Math.min(u.length,9),S=0;S<E;S++)g.words[S]=u.words[S];if(g.length=E,u.length<=9){u.words[0]=0,u.length=1;return}var T=u.words[9];for(g.words[g.length++]=T&m,S=10;S<u.length;S++){var L=u.words[S]|0;u.words[S-10]=(L&m)<<4|T>>>22,T=L}T>>>=22,u.words[S-10]=T,T===0&&u.length>10?u.length-=10:u.length-=9},ee.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,m=0;m<u.length;m++){var E=u.words[m]|0;g+=E*977,u.words[m]=g&67108863,g=E*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function K(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,z);function Z(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,z);function se(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(se,z),se.prototype.imulK=function(u){for(var g=0,m=0;m<u.length;m++){var E=(u.words[m]|0)*19+g,S=E&67108863;E>>>=26,u.words[m]=S,g=E}return g!==0&&(u.words[u.length++]=g),u},s._prime=function(u){if(U[u])return U[u];var g;if(u==="k256")g=new ee;else if(u==="p224")g=new K;else if(u==="p192")g=new Z;else if(u==="p25519")g=new se;else throw new Error("Unknown prime "+u);return U[u]=g,g};function ne(w){if(typeof w=="string"){var u=s._prime(w);this.m=u.p,this.prime=u}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}ne.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},ne.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},ne.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},ne.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ne.prototype.add=function(u,g){this._verify2(u,g);var m=u.add(g);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ne.prototype.iadd=function(u,g){this._verify2(u,g);var m=u.iadd(g);return m.cmp(this.m)>=0&&m.isub(this.m),m},ne.prototype.sub=function(u,g){this._verify2(u,g);var m=u.sub(g);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ne.prototype.isub=function(u,g){this._verify2(u,g);var m=u.isub(g);return m.cmpn(0)<0&&m.iadd(this.m),m},ne.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},ne.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},ne.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},ne.prototype.isqr=function(u){return this.imul(u,u.clone())},ne.prototype.sqr=function(u){return this.mul(u,u)},ne.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var E=this.m.subn(1),S=0;!E.isZero()&&E.andln(1)===0;)S++,E.iushrn(1);n(!E.isZero());var T=new s(1).toRed(this),L=T.redNeg(),_=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,_).cmp(L)!==0;)d.redIAdd(L);for(var R=this.pow(d,E),Y=this.pow(u,E.addn(1).iushrn(1)),X=this.pow(u,E),k=S;X.cmp(T)!==0;){for(var B=X,V=0;B.cmp(T)!==0;V++)B=B.redSqr();n(V<k);var Q=this.pow(R,new s(1).iushln(k-V-1));Y=Y.redMul(Q),R=Q.redSqr(),X=X.redMul(R),k=V}return Y},ne.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},ne.prototype.pow=function(u,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var m=4,E=new Array(1<<m);E[0]=new s(1).toRed(this),E[1]=u;for(var S=2;S<E.length;S++)E[S]=this.mul(E[S-1],u);var T=E[0],L=0,_=0,d=g.bitLength()%26;for(d===0&&(d=26),S=g.length-1;S>=0;S--){for(var R=g.words[S],Y=d-1;Y>=0;Y--){var X=R>>Y&1;if(T!==E[0]&&(T=this.sqr(T)),X===0&&L===0){_=0;continue}L<<=1,L|=X,_++,!(_!==m&&(S!==0||Y!==0))&&(T=this.mul(T,E[L]),_=0,L=0)}d=26}return T},ne.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},ne.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},s.mont=function(u){return new oe(u)};function oe(w){ne.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,ne),oe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},oe.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},oe.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(g),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(E).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},oe.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new s(0)._forceRed(this);var m=u.mul(g),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(E).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},oe.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,te)})(Lu);var ao=Lu.exports,yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.EVENTS=void 0;yi.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Yi={},uh={},Nr={},ch=zi;zi.default=zi;zi.stable=hh;zi.stableStringify=hh;var Ws="[...]",lh="[Circular]",gn=[],ln=[];function fh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function zi(t,e,r,n){typeof n>"u"&&(n=fh()),ou(t,"",0,[],void 0,0,n);var i;try{ln.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,dh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var s=gn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Zn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),gn.push([n,r,e,i])):ln.push([e,r,t]):(n[r]=t,gn.push([n,r,e]))}function ou(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Zn(lh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Zn(Ws,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Zn(Ws,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ou(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];ou(t[l],l,a,n,t,s,o)}}n.pop()}}function z0(t,e){return t<e?-1:t>e?1:0}function hh(t,e,r,n){typeof n>"u"&&(n=fh());var i=au(t,"",0,[],void 0,0,n)||t,s;try{ln.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,dh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var o=gn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function au(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Zn(lh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Zn(Ws,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Zn(Ws,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)au(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(z0);for(a=0;a<l.length;a++){var p=l[a];au(t[p],p,a,n,t,s,o),c[p]=t[p]}if(typeof i<"u")gn.push([i,e,t]),i[e]=c;else return c}n.pop()}}function dh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(ln.length>0)for(var n=0;n<ln.length;n++){var i=ln[n];if(i[1]===e&&i[0]===r){r=i[2],ln.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Nr,"__esModule",{value:!0});Nr.EthereumProviderError=Nr.EthereumRpcError=void 0;const q0=ch;let ph=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return q0.default(this.serialize(),Z0,2)}};Nr.EthereumRpcError=ph;let G0=class extends ph{constructor(e,r,n){if(!J0(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Nr.EthereumProviderError=G0;function J0(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Z0(t,e){if(e!=="[Circular]")return e}var Pu={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.errorValues=Lr.errorCodes=void 0;Lr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Lr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Lr,r=Nr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(v,A=i){if(Number.isInteger(v)){const O=v.toString();if(y(e.errorValues,O))return e.errorValues[O].message;if(l(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return A}t.getMessageFromCode=o;function a(v){if(!Number.isInteger(v))return!1;const A=v.toString();return!!(e.errorValues[A]||l(v))}t.isValidCode=a;function c(v,{fallbackError:A=s,shouldIncludeStack:O=!1}={}){var j,F;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const I={};if(v&&typeof v=="object"&&!Array.isArray(v)&&y(v,"code")&&a(v.code)){const D=v;I.code=D.code,D.message&&typeof D.message=="string"?(I.message=D.message,y(D,"data")&&(I.data=D.data)):(I.message=o(I.code),I.data={originalError:p(v)})}else{I.code=A.code;const D=(j=v)===null||j===void 0?void 0:j.message;I.message=D&&typeof D=="string"?D:A.message,I.data={originalError:p(v)}}const N=(F=v)===null||F===void 0?void 0:F.stack;return O&&v&&N&&typeof N=="string"&&(I.stack=N),I}t.serializeError=c;function l(v){return v>=-32099&&v<=-32e3}function p(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function y(v,A){return Object.prototype.hasOwnProperty.call(v,A)}})(Pu);var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.ethErrors=void 0;const Bu=Nr,gh=Pu,mt=Lr;uo.ethErrors={rpc:{parse:t=>Bt(mt.errorCodes.rpc.parse,t),invalidRequest:t=>Bt(mt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Bt(mt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Bt(mt.errorCodes.rpc.methodNotFound,t),internal:t=>Bt(mt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Bt(e,t)},invalidInput:t=>Bt(mt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Bt(mt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Bt(mt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Bt(mt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Bt(mt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Bt(mt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ai(mt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ai(mt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ai(mt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ai(mt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ai(mt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Bu.EthereumProviderError(e,r,n)}}};function Bt(t,e){const[r,n]=yh(e);return new Bu.EthereumRpcError(t,r||gh.getMessageFromCode(t),n)}function Ai(t,e){const[r,n]=yh(e);return new Bu.EthereumProviderError(t,r||gh.getMessageFromCode(t),n)}function yh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Nr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Pu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=uo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Lr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(uh);var Ne={},co={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(co);Object.defineProperty(Ne,"__esModule",{value:!0});Ne.EthereumAddressFromSignedMessageResponse=Ne.SubmitEthereumTransactionResponse=Ne.SignEthereumTransactionResponse=Ne.SignEthereumMessageResponse=Ne.isRequestEthereumAccountsResponse=Ne.SelectProviderResponse=Ne.WatchAssetReponse=Ne.RequestEthereumAccountsResponse=Ne.SwitchEthereumChainResponse=Ne.AddEthereumChainResponse=Ne.isErrorResponse=void 0;const yr=co;function Q0(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Ne.isErrorResponse=Q0;function Y0(t){return{method:yr.Web3Method.addEthereumChain,result:t}}Ne.AddEthereumChainResponse=Y0;function K0(t){return{method:yr.Web3Method.switchEthereumChain,result:t}}Ne.SwitchEthereumChainResponse=K0;function X0(t){return{method:yr.Web3Method.requestEthereumAccounts,result:t}}Ne.RequestEthereumAccountsResponse=X0;function eg(t){return{method:yr.Web3Method.watchAsset,result:t}}Ne.WatchAssetReponse=eg;function tg(t){return{method:yr.Web3Method.selectProvider,result:t}}Ne.SelectProviderResponse=tg;function rg(t){return t&&t.method===yr.Web3Method.requestEthereumAccounts}Ne.isRequestEthereumAccountsResponse=rg;function ng(t){return{method:yr.Web3Method.signEthereumMessage,result:t}}Ne.SignEthereumMessageResponse=ng;function ig(t){return{method:yr.Web3Method.signEthereumTransaction,result:t}}Ne.SignEthereumTransactionResponse=ig;function sg(t){return{method:yr.Web3Method.submitEthereumTransaction,result:t}}Ne.SubmitEthereumTransactionResponse=sg;function og(t){return{method:yr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ne.EthereumAddressFromSignedMessageResponse=og;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.LIB_VERSION=void 0;bi.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=uh,r=Ne,n=bi;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(p){return p!==void 0?(0,e.getMessageFromCode)(p):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(p="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${p}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(p,y){const v=(0,e.serializeError)(o(p),{shouldIncludeStack:!0}),A=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");A.searchParams.set("version",n.LIB_VERSION),A.searchParams.set("code",v.code.toString());const O=a(v.data,y);return O&&A.searchParams.set("method",O),A.searchParams.set("message",v.message),Object.assign(Object.assign({},v),{docUrl:A.href})}t.serializeError=s;function o(p){return typeof p=="string"?{message:p,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(p)?Object.assign(Object.assign({},p),{message:p.errorMessage,code:p.errorCode,data:{method:p.method,result:p.result}}):p}function a(p,y){var v;const A=(v=p)===null||v===void 0?void 0:v.method;if(A)return A;if(y!==void 0)return typeof y=="string"?y:Array.isArray(y)?y.length>0?y[0].method:void 0:y.method}function c(p){var y;if(typeof p=="number")return p;if(l(p))return(y=p.code)!==null&&y!==void 0?y:p.errorCode}t.getErrorCode=c;function l(p){return typeof p=="object"&&p!==null&&(typeof p.code=="number"||typeof p.errorCode=="number")}})(Yi);var vi={},bh={exports:{}},uu={exports:{}};typeof Object.create=="function"?uu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:uu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var er=uu.exports,cu={exports:{}},Ki={},lo={};lo.byteLength=cg;lo.toByteArray=fg;lo.fromByteArray=pg;var lr=[],jt=[],ag=typeof Uint8Array<"u"?Uint8Array:Array,ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dn=0,ug=ya.length;Dn<ug;++Dn)lr[Dn]=ya[Dn],jt[ya.charCodeAt(Dn)]=Dn;jt[45]=62;jt[95]=63;function vh(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function cg(t){var e=vh(t),r=e[0],n=e[1];return(r+n)*3/4-n}function lg(t,e,r){return(e+r)*3/4-r}function fg(t){var e,r=vh(t),n=r[0],i=r[1],s=new ag(lg(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=jt[t.charCodeAt(c)]<<18|jt[t.charCodeAt(c+1)]<<12|jt[t.charCodeAt(c+2)]<<6|jt[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=jt[t.charCodeAt(c)]<<2|jt[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=jt[t.charCodeAt(c)]<<10|jt[t.charCodeAt(c+1)]<<4|jt[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hg(t){return lr[t>>18&63]+lr[t>>12&63]+lr[t>>6&63]+lr[t&63]}function dg(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(hg(n));return i.join("")}function pg(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(dg(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(lr[e>>2]+lr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(lr[e>>10]+lr[e>>4&63]+lr[e<<2&63]+"=")),i.join("")}var Du={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Du.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,p=-7,y=r?i-1:0,v=r?-1:1,A=t[e+y];for(y+=v,s=A&(1<<-p)-1,A>>=-p,p+=a;p>0;s=s*256+t[e+y],y+=v,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+t[e+y],y+=v,p-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(A?-1:1)*o*Math.pow(2,s-n)};Du.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,p=(1<<l)-1,y=p>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,O=n?1:-1,j=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?e+=v/c:e+=v*Math.pow(2,1-y),e*c>=2&&(o++,c/=2),o+y>=p?(a=0,o=p):o+y>=1?(a=(e*c-1)*Math.pow(2,i),o=o+y):(a=e*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;t[r+A]=a&255,A+=O,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+A]=o&255,A+=O,o/=256,l-=8);t[r+A-O]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=lo,r=Du,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const b=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(b,f),b.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(b){if(b>i)throw new RangeError('The value "'+b+'" is invalid for option "size"');const f=new Uint8Array(b);return Object.setPrototypeOf(f,a.prototype),f}function a(b,f,h){if(typeof b=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(b)}return c(b,f,h)}a.poolSize=8192;function c(b,f,h){if(typeof b=="string")return v(b,f);if(ArrayBuffer.isView(b))return O(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ot(b,ArrayBuffer)||b&&ot(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(b,SharedArrayBuffer)||b&&ot(b.buffer,SharedArrayBuffer)))return j(b,f,h);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=b.valueOf&&b.valueOf();if(x!=null&&x!==b)return a.from(x,f,h);const P=F(b);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return a.from(b[Symbol.toPrimitive]("string"),f,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}a.from=function(b,f,h){return c(b,f,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function p(b,f,h){return l(b),b<=0?o(b):f!==void 0?typeof h=="string"?o(b).fill(f,h):o(b).fill(f):o(b)}a.alloc=function(b,f,h){return p(b,f,h)};function y(b){return l(b),o(b<0?0:I(b)|0)}a.allocUnsafe=function(b){return y(b)},a.allocUnsafeSlow=function(b){return y(b)};function v(b,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const h=D(b,f)|0;let x=o(h);const P=x.write(b,f);return P!==h&&(x=x.slice(0,P)),x}function A(b){const f=b.length<0?0:I(b.length)|0,h=o(f);for(let x=0;x<f;x+=1)h[x]=b[x]&255;return h}function O(b){if(ot(b,Uint8Array)){const f=new Uint8Array(b);return j(f.buffer,f.byteOffset,f.byteLength)}return A(b)}function j(b,f,h){if(f<0||b.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<f+(h||0))throw new RangeError('"length" is outside of buffer bounds');let x;return f===void 0&&h===void 0?x=new Uint8Array(b):h===void 0?x=new Uint8Array(b,f):x=new Uint8Array(b,f,h),Object.setPrototypeOf(x,a.prototype),x}function F(b){if(a.isBuffer(b)){const f=I(b.length)|0,h=o(f);return h.length===0||b.copy(h,0,0,f),h}if(b.length!==void 0)return typeof b.length!="number"||Me(b.length)?o(0):A(b);if(b.type==="Buffer"&&Array.isArray(b.data))return A(b.data)}function I(b){if(b>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return b|0}function N(b){return+b!=b&&(b=0),a.alloc(+b)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,h){if(ot(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),ot(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(f)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let x=f.length,P=h.length;for(let $=0,W=Math.min(x,P);$<W;++$)if(f[$]!==h[$]){x=f[$],P=h[$];break}return x<P?-1:P<x?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let x;if(h===void 0)for(h=0,x=0;x<f.length;++x)h+=f[x].length;const P=a.allocUnsafe(h);let $=0;for(x=0;x<f.length;++x){let W=f[x];if(ot(W,Uint8Array))$+W.length>P.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(P,$)):Uint8Array.prototype.set.call(P,W,$);else if(a.isBuffer(W))W.copy(P,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=W.length}return P};function D(b,f){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ot(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const h=b.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&h===0)return 0;let P=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return ae(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Ae(b).length;default:if(P)return x?-1:ae(b).length;f=(""+f).toLowerCase(),P=!0}}a.byteLength=D;function H(b,f,h){let x=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,f>>>=0,h<=f))return"";for(b||(b="utf8");;)switch(b){case"hex":return T(this,f,h);case"utf8":case"utf-8":return u(this,f,h);case"ascii":return E(this,f,h);case"latin1":case"binary":return S(this,f,h);case"base64":return w(this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,f,h);default:if(x)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),x=!0}}a.prototype._isBuffer=!0;function U(b,f,h){const x=b[f];b[f]=b[h],b[h]=x}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)U(this,h,h+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)U(this,h,h+3),U(this,h+1,h+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)U(this,h,h+7),U(this,h+1,h+6),U(this,h+2,h+5),U(this,h+3,h+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?u(this,0,f):H.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const h=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(f,h,x,P,$){if(ot(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),x===void 0&&(x=f?f.length:0),P===void 0&&(P=0),$===void 0&&($=this.length),h<0||x>f.length||P<0||$>this.length)throw new RangeError("out of range index");if(P>=$&&h>=x)return 0;if(P>=$)return-1;if(h>=x)return 1;if(h>>>=0,x>>>=0,P>>>=0,$>>>=0,this===f)return 0;let W=$-P,de=x-h;const he=Math.min(W,de),ce=this.slice(P,$),Oe=f.slice(h,x);for(let ue=0;ue<he;++ue)if(ce[ue]!==Oe[ue]){W=ce[ue],de=Oe[ue];break}return W<de?-1:de<W?1:0};function z(b,f,h,x,P){if(b.length===0)return-1;if(typeof h=="string"?(x=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Me(h)&&(h=P?0:b.length-1),h<0&&(h=b.length+h),h>=b.length){if(P)return-1;h=b.length-1}else if(h<0)if(P)h=0;else return-1;if(typeof f=="string"&&(f=a.from(f,x)),a.isBuffer(f))return f.length===0?-1:ee(b,f,h,x,P);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(b,f,h):Uint8Array.prototype.lastIndexOf.call(b,f,h):ee(b,[f],h,x,P);throw new TypeError("val must be string, number or Buffer")}function ee(b,f,h,x,P){let $=1,W=b.length,de=f.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(b.length<2||f.length<2)return-1;$=2,W/=2,de/=2,h/=2}function he(Oe,ue){return $===1?Oe[ue]:Oe.readUInt16BE(ue*$)}let ce;if(P){let Oe=-1;for(ce=h;ce<W;ce++)if(he(b,ce)===he(f,Oe===-1?0:ce-Oe)){if(Oe===-1&&(Oe=ce),ce-Oe+1===de)return Oe*$}else Oe!==-1&&(ce-=ce-Oe),Oe=-1}else for(h+de>W&&(h=W-de),ce=h;ce>=0;ce--){let Oe=!0;for(let ue=0;ue<de;ue++)if(he(b,ce+ue)!==he(f,ue)){Oe=!1;break}if(Oe)return ce}return-1}a.prototype.includes=function(f,h,x){return this.indexOf(f,h,x)!==-1},a.prototype.indexOf=function(f,h,x){return z(this,f,h,x,!0)},a.prototype.lastIndexOf=function(f,h,x){return z(this,f,h,x,!1)};function K(b,f,h,x){h=Number(h)||0;const P=b.length-h;x?(x=Number(x),x>P&&(x=P)):x=P;const $=f.length;x>$/2&&(x=$/2);let W;for(W=0;W<x;++W){const de=parseInt(f.substr(W*2,2),16);if(Me(de))return W;b[h+W]=de}return W}function Z(b,f,h,x){return Ie(ae(f,b.length-h),b,h,x)}function se(b,f,h,x){return Ie(Se(f),b,h,x)}function ne(b,f,h,x){return Ie(Ae(f),b,h,x)}function oe(b,f,h,x){return Ie(Pt(f,b.length-h),b,h,x)}a.prototype.write=function(f,h,x,P){if(h===void 0)P="utf8",x=this.length,h=0;else if(x===void 0&&typeof h=="string")P=h,x=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(x)?(x=x>>>0,P===void 0&&(P="utf8")):(P=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-h;if((x===void 0||x>$)&&(x=$),f.length>0&&(x<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let W=!1;for(;;)switch(P){case"hex":return K(this,f,h,x);case"utf8":case"utf-8":return Z(this,f,h,x);case"ascii":case"latin1":case"binary":return se(this,f,h,x);case"base64":return ne(this,f,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,f,h,x);default:if(W)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(b,f,h){return f===0&&h===b.length?e.fromByteArray(b):e.fromByteArray(b.slice(f,h))}function u(b,f,h){h=Math.min(b.length,h);const x=[];let P=f;for(;P<h;){const $=b[P];let W=null,de=$>239?4:$>223?3:$>191?2:1;if(P+de<=h){let he,ce,Oe,ue;switch(de){case 1:$<128&&(W=$);break;case 2:he=b[P+1],(he&192)===128&&(ue=($&31)<<6|he&63,ue>127&&(W=ue));break;case 3:he=b[P+1],ce=b[P+2],(he&192)===128&&(ce&192)===128&&(ue=($&15)<<12|(he&63)<<6|ce&63,ue>2047&&(ue<55296||ue>57343)&&(W=ue));break;case 4:he=b[P+1],ce=b[P+2],Oe=b[P+3],(he&192)===128&&(ce&192)===128&&(Oe&192)===128&&(ue=($&15)<<18|(he&63)<<12|(ce&63)<<6|Oe&63,ue>65535&&ue<1114112&&(W=ue))}}W===null?(W=65533,de=1):W>65535&&(W-=65536,x.push(W>>>10&1023|55296),W=56320|W&1023),x.push(W),P+=de}return m(x)}const g=4096;function m(b){const f=b.length;if(f<=g)return String.fromCharCode.apply(String,b);let h="",x=0;for(;x<f;)h+=String.fromCharCode.apply(String,b.slice(x,x+=g));return h}function E(b,f,h){let x="";h=Math.min(b.length,h);for(let P=f;P<h;++P)x+=String.fromCharCode(b[P]&127);return x}function S(b,f,h){let x="";h=Math.min(b.length,h);for(let P=f;P<h;++P)x+=String.fromCharCode(b[P]);return x}function T(b,f,h){const x=b.length;(!f||f<0)&&(f=0),(!h||h<0||h>x)&&(h=x);let P="";for(let $=f;$<h;++$)P+=Te[b[$]];return P}function L(b,f,h){const x=b.slice(f,h);let P="";for(let $=0;$<x.length-1;$+=2)P+=String.fromCharCode(x[$]+x[$+1]*256);return P}a.prototype.slice=function(f,h){const x=this.length;f=~~f,h=h===void 0?x:~~h,f<0?(f+=x,f<0&&(f=0)):f>x&&(f=x),h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),h<f&&(h=f);const P=this.subarray(f,h);return Object.setPrototypeOf(P,a.prototype),P};function _(b,f,h){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+f>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,h,x){f=f>>>0,h=h>>>0,x||_(f,h,this.length);let P=this[f],$=1,W=0;for(;++W<h&&($*=256);)P+=this[f+W]*$;return P},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,h,x){f=f>>>0,h=h>>>0,x||_(f,h,this.length);let P=this[f+--h],$=1;for(;h>0&&($*=256);)P+=this[f+--h]*$;return P},a.prototype.readUint8=a.prototype.readUInt8=function(f,h){return f=f>>>0,h||_(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||_(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||_(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||_(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||_(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=ct(function(f){f=f>>>0,q(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&J(f,this.length-8);const P=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,$=this[++f]+this[++f]*2**8+this[++f]*2**16+x*2**24;return BigInt(P)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=ct(function(f){f=f>>>0,q(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&J(f,this.length-8);const P=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],$=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x;return(BigInt(P)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(f,h,x){f=f>>>0,h=h>>>0,x||_(f,h,this.length);let P=this[f],$=1,W=0;for(;++W<h&&($*=256);)P+=this[f+W]*$;return $*=128,P>=$&&(P-=Math.pow(2,8*h)),P},a.prototype.readIntBE=function(f,h,x){f=f>>>0,h=h>>>0,x||_(f,h,this.length);let P=h,$=1,W=this[f+--P];for(;P>0&&($*=256);)W+=this[f+--P]*$;return $*=128,W>=$&&(W-=Math.pow(2,8*h)),W},a.prototype.readInt8=function(f,h){return f=f>>>0,h||_(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,h){f=f>>>0,h||_(f,2,this.length);const x=this[f]|this[f+1]<<8;return x&32768?x|4294901760:x},a.prototype.readInt16BE=function(f,h){f=f>>>0,h||_(f,2,this.length);const x=this[f+1]|this[f]<<8;return x&32768?x|4294901760:x},a.prototype.readInt32LE=function(f,h){return f=f>>>0,h||_(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,h){return f=f>>>0,h||_(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=ct(function(f){f=f>>>0,q(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&J(f,this.length-8);const P=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(x<<24);return(BigInt(P)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=ct(function(f){f=f>>>0,q(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&J(f,this.length-8);const P=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(P)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x)}),a.prototype.readFloatLE=function(f,h){return f=f>>>0,h||_(f,4,this.length),r.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,h){return f=f>>>0,h||_(f,4,this.length),r.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||_(f,8,this.length),r.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||_(f,8,this.length),r.read(this,f,!1,52,8)};function d(b,f,h,x,P,$){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>P||f<$)throw new RangeError('"value" argument is out of bounds');if(h+x>b.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,h,x,P){if(f=+f,h=h>>>0,x=x>>>0,!P){const de=Math.pow(2,8*x)-1;d(this,f,h,x,de,0)}let $=1,W=0;for(this[h]=f&255;++W<x&&($*=256);)this[h+W]=f/$&255;return h+x},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,h,x,P){if(f=+f,h=h>>>0,x=x>>>0,!P){const de=Math.pow(2,8*x)-1;d(this,f,h,x,de,0)}let $=x-1,W=1;for(this[h+$]=f&255;--$>=0&&(W*=256);)this[h+$]=f/W&255;return h+x},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,1,255,0),this[h]=f&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function R(b,f,h,x,P){C(f,x,P,b,h,7);let $=Number(f&BigInt(4294967295));b[h++]=$,$=$>>8,b[h++]=$,$=$>>8,b[h++]=$,$=$>>8,b[h++]=$;let W=Number(f>>BigInt(32)&BigInt(4294967295));return b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,h}function Y(b,f,h,x,P){C(f,x,P,b,h,7);let $=Number(f&BigInt(4294967295));b[h+7]=$,$=$>>8,b[h+6]=$,$=$>>8,b[h+5]=$,$=$>>8,b[h+4]=$;let W=Number(f>>BigInt(32)&BigInt(4294967295));return b[h+3]=W,W=W>>8,b[h+2]=W,W=W>>8,b[h+1]=W,W=W>>8,b[h]=W,h+8}a.prototype.writeBigUInt64LE=ct(function(f,h=0){return R(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ct(function(f,h=0){return Y(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,h,x,P){if(f=+f,h=h>>>0,!P){const he=Math.pow(2,8*x-1);d(this,f,h,x,he-1,-he)}let $=0,W=1,de=0;for(this[h]=f&255;++$<x&&(W*=256);)f<0&&de===0&&this[h+$-1]!==0&&(de=1),this[h+$]=(f/W>>0)-de&255;return h+x},a.prototype.writeIntBE=function(f,h,x,P){if(f=+f,h=h>>>0,!P){const he=Math.pow(2,8*x-1);d(this,f,h,x,he-1,-he)}let $=x-1,W=1,de=0;for(this[h+$]=f&255;--$>=0&&(W*=256);)f<0&&de===0&&this[h+$+1]!==0&&(de=1),this[h+$]=(f/W>>0)-de&255;return h+x},a.prototype.writeInt8=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},a.prototype.writeInt16LE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeInt16BE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeInt32LE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},a.prototype.writeInt32BE=function(f,h,x){return f=+f,h=h>>>0,x||d(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},a.prototype.writeBigInt64LE=ct(function(f,h=0){return R(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ct(function(f,h=0){return Y(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(b,f,h,x,P,$){if(h+x>b.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function k(b,f,h,x,P){return f=+f,h=h>>>0,P||X(b,f,h,4),r.write(b,f,h,x,23,4),h+4}a.prototype.writeFloatLE=function(f,h,x){return k(this,f,h,!0,x)},a.prototype.writeFloatBE=function(f,h,x){return k(this,f,h,!1,x)};function B(b,f,h,x,P){return f=+f,h=h>>>0,P||X(b,f,h,8),r.write(b,f,h,x,52,8),h+8}a.prototype.writeDoubleLE=function(f,h,x){return B(this,f,h,!0,x)},a.prototype.writeDoubleBE=function(f,h,x){return B(this,f,h,!1,x)},a.prototype.copy=function(f,h,x,P){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(x||(x=0),!P&&P!==0&&(P=this.length),h>=f.length&&(h=f.length),h||(h=0),P>0&&P<x&&(P=x),P===x||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),f.length-h<P-x&&(P=f.length-h+x);const $=P-x;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,x,P):Uint8Array.prototype.set.call(f,this.subarray(x,P),h),$},a.prototype.fill=function(f,h,x,P){if(typeof f=="string"){if(typeof h=="string"?(P=h,h=0,x=this.length):typeof x=="string"&&(P=x,x=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(f.length===1){const W=f.charCodeAt(0);(P==="utf8"&&W<128||P==="latin1")&&(f=W)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<x)throw new RangeError("Out of range index");if(x<=h)return this;h=h>>>0,x=x===void 0?this.length:x>>>0,f||(f=0);let $;if(typeof f=="number")for($=h;$<x;++$)this[$]=f;else{const W=a.isBuffer(f)?f:a.from(f,P),de=W.length;if(de===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for($=0;$<x-h;++$)this[$+h]=W[$%de]}return this};const V={};function Q(b,f,h){V[b]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(b,f){return`The "${b}" argument must be of type number. Received type ${typeof f}`},TypeError),Q("ERR_OUT_OF_RANGE",function(b,f,h){let x=`The value of "${b}" is out of range.`,P=h;return Number.isInteger(h)&&Math.abs(h)>2**32?P=ge(String(h)):typeof h=="bigint"&&(P=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(P=ge(P)),P+="n"),x+=` It must be ${f}. Received ${P}`,x},RangeError);function ge(b){let f="",h=b.length;const x=b[0]==="-"?1:0;for(;h>=x+4;h-=3)f=`_${b.slice(h-3,h)}${f}`;return`${b.slice(0,h)}${f}`}function M(b,f,h){q(f,"offset"),(b[f]===void 0||b[f+h]===void 0)&&J(f,b.length-(h+1))}function C(b,f,h,x,P,$){if(b>h||b<f){const W=typeof f=="bigint"?"n":"";let de;throw $>3?f===0||f===BigInt(0)?de=`>= 0${W} and < 2${W} ** ${($+1)*8}${W}`:de=`>= -(2${W} ** ${($+1)*8-1}${W}) and < 2 ** ${($+1)*8-1}${W}`:de=`>= ${f}${W} and <= ${h}${W}`,new V.ERR_OUT_OF_RANGE("value",de,b)}M(x,P,$)}function q(b,f){if(typeof b!="number")throw new V.ERR_INVALID_ARG_TYPE(f,"number",b)}function J(b,f,h){throw Math.floor(b)!==b?(q(b,h),new V.ERR_OUT_OF_RANGE(h||"offset","an integer",b)):f<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${f}`,b)}const fe=/[^+/0-9A-Za-z-_]/g;function ye(b){if(b=b.split("=")[0],b=b.trim().replace(fe,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function ae(b,f){f=f||1/0;let h;const x=b.length;let P=null;const $=[];for(let W=0;W<x;++W){if(h=b.charCodeAt(W),h>55295&&h<57344){if(!P){if(h>56319){(f-=3)>-1&&$.push(239,191,189);continue}else if(W+1===x){(f-=3)>-1&&$.push(239,191,189);continue}P=h;continue}if(h<56320){(f-=3)>-1&&$.push(239,191,189),P=h;continue}h=(P-55296<<10|h-56320)+65536}else P&&(f-=3)>-1&&$.push(239,191,189);if(P=null,h<128){if((f-=1)<0)break;$.push(h)}else if(h<2048){if((f-=2)<0)break;$.push(h>>6|192,h&63|128)}else if(h<65536){if((f-=3)<0)break;$.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((f-=4)<0)break;$.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return $}function Se(b){const f=[];for(let h=0;h<b.length;++h)f.push(b.charCodeAt(h)&255);return f}function Pt(b,f){let h,x,P;const $=[];for(let W=0;W<b.length&&!((f-=2)<0);++W)h=b.charCodeAt(W),x=h>>8,P=h%256,$.push(P),$.push(x);return $}function Ae(b){return e.toByteArray(ye(b))}function Ie(b,f,h,x){let P;for(P=0;P<x&&!(P+h>=f.length||P>=b.length);++P)f[P+h]=b[P];return P}function ot(b,f){return b instanceof f||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===f.name}function Me(b){return b!==b}const Te=function(){const b="0123456789abcdef",f=new Array(256);for(let h=0;h<16;++h){const x=h*16;for(let P=0;P<16;++P)f[x+P]=b[h]+b[P]}return f}();function ct(b){return typeof BigInt>"u"?Ce:b}function Ce(){throw new Error("BigInt not supported")}})(Ki);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Ki,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(cu,cu.exports);var jr=cu.exports,mh=jr.Buffer;function fo(t,e){this._block=mh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}fo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=mh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};fo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};fo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var mi=fo,gg=er,wh=mi,yg=jr.Buffer,bg=[1518500249,1859775393,-1894007588,-899497514],vg=new Array(80);function Xi(){this.init(),this._w=vg,wh.call(this,64,56)}gg(Xi,wh);Xi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function mg(t){return t<<5|t>>>27}function wg(t){return t<<30|t>>>2}function _g(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Xi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),p=mg(r)+_g(l,n,i,s)+o+e[c]+bg[l]|0;o=s,s=i,i=wg(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Xi.prototype._hash=function(){var t=yg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Eg=Xi,Sg=er,_h=mi,xg=jr.Buffer,Mg=[1518500249,1859775393,-1894007588,-899497514],Cg=new Array(80);function es(){this.init(),this._w=Cg,_h.call(this,64,56)}Sg(es,_h);es.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Ig(t){return t<<1|t>>>31}function Rg(t){return t<<5|t>>>27}function Ag(t){return t<<30|t>>>2}function Tg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}es.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Ig(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),p=Rg(r)+Tg(l,n,i,s)+o+e[c]+Mg[l]|0;o=s,s=i,i=Ag(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};es.prototype._hash=function(){var t=xg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Og=es,kg=er,Eh=mi,Ng=jr.Buffer,Lg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Pg=new Array(64);function ts(){this.init(),this._w=Pg,Eh.call(this,64,56)}kg(ts,Eh);ts.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Bg(t,e,r){return r^t&(e^r)}function Dg(t,e,r){return t&e|r&(t|e)}function $g(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Fg(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function jg(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Ug(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}ts.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,p=0;p<16;++p)e[p]=t.readInt32BE(p*4);for(;p<64;++p)e[p]=Ug(e[p-2])+e[p-7]+jg(e[p-15])+e[p-16]|0;for(var y=0;y<64;++y){var v=l+Fg(o)+Bg(o,a,c)+Lg[y]+e[y]|0,A=$g(r)+Dg(r,n,i)|0;l=c,c=a,a=o,o=s+v|0,s=i,i=n,n=r,r=v+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};ts.prototype._hash=function(){var t=Ng.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Sh=ts,Wg=er,Hg=Sh,Vg=mi,zg=jr.Buffer,qg=new Array(64);function ho(){this.init(),this._w=qg,Vg.call(this,64,56)}Wg(ho,Hg);ho.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ho.prototype._hash=function(){var t=zg.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Gg=ho,Jg=er,xh=mi,Zg=jr.Buffer,qc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Qg=new Array(160);function rs(){this.init(),this._w=Qg,xh.call(this,128,112)}Jg(rs,xh);rs.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Gc(t,e,r){return r^t&(e^r)}function Jc(t,e,r){return t&e|r&(t|e)}function Zc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Qc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Yg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Kg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Xg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ey(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function lt(t,e){return t>>>0<e>>>0?1:0}rs.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,p=this._al|0,y=this._bl|0,v=this._cl|0,A=this._dl|0,O=this._el|0,j=this._fl|0,F=this._gl|0,I=this._hl|0,N=0;N<32;N+=2)e[N]=t.readInt32BE(N*4),e[N+1]=t.readInt32BE(N*4+4);for(;N<160;N+=2){var D=e[N-30],H=e[N-15*2+1],U=Yg(D,H),z=Kg(H,D);D=e[N-2*2],H=e[N-2*2+1];var ee=Xg(D,H),K=ey(H,D),Z=e[N-7*2],se=e[N-7*2+1],ne=e[N-16*2],oe=e[N-16*2+1],w=z+se|0,u=U+Z+lt(w,z)|0;w=w+K|0,u=u+ee+lt(w,K)|0,w=w+oe|0,u=u+ne+lt(w,oe)|0,e[N]=u,e[N+1]=w}for(var g=0;g<160;g+=2){u=e[g],w=e[g+1];var m=Jc(r,n,i),E=Jc(p,y,v),S=Zc(r,p),T=Zc(p,r),L=Qc(o,O),_=Qc(O,o),d=qc[g],R=qc[g+1],Y=Gc(o,a,c),X=Gc(O,j,F),k=I+_|0,B=l+L+lt(k,I)|0;k=k+X|0,B=B+Y+lt(k,X)|0,k=k+R|0,B=B+d+lt(k,R)|0,k=k+w|0,B=B+u+lt(k,w)|0;var V=T+E|0,Q=S+m+lt(V,T)|0;l=c,I=F,c=a,F=j,a=o,j=O,O=A+k|0,o=s+B+lt(O,A)|0,s=i,A=v,i=n,v=y,n=r,y=p,p=k+V|0,r=B+Q+lt(p,k)|0}this._al=this._al+p|0,this._bl=this._bl+y|0,this._cl=this._cl+v|0,this._dl=this._dl+A|0,this._el=this._el+O|0,this._fl=this._fl+j|0,this._gl=this._gl+F|0,this._hl=this._hl+I|0,this._ah=this._ah+r+lt(this._al,p)|0,this._bh=this._bh+n+lt(this._bl,y)|0,this._ch=this._ch+i+lt(this._cl,v)|0,this._dh=this._dh+s+lt(this._dl,A)|0,this._eh=this._eh+o+lt(this._el,O)|0,this._fh=this._fh+a+lt(this._fl,j)|0,this._gh=this._gh+c+lt(this._gl,F)|0,this._hh=this._hh+l+lt(this._hl,I)|0};rs.prototype._hash=function(){var t=Zg.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Mh=rs,ty=er,ry=Mh,ny=mi,iy=jr.Buffer,sy=new Array(160);function po(){this.init(),this._w=sy,ny.call(this,128,112)}ty(po,ry);po.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};po.prototype._hash=function(){var t=iy.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var oy=po,En=bh.exports=function(e){e=e.toLowerCase();var r=En[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};En.sha=Eg;En.sha1=Og;En.sha224=Gg;En.sha256=Sh;En.sha384=oy;En.sha512=Mh;var ay=bh.exports,re={},uy=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Yc=typeof Symbol<"u"&&Symbol,cy=uy,ly=function(){return typeof Yc!="function"||typeof Symbol!="function"||typeof Yc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cy()},Kc={foo:{}},fy=Object,hy=function(){return{__proto__:Kc}.foo===Kc.foo&&!({__proto__:null}instanceof fy)},dy="Function.prototype.bind called on incompatible ",py=Object.prototype.toString,gy=Math.max,yy="[object Function]",Xc=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},by=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},vy=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},my=function(e){var r=this;if(typeof r!="function"||py.apply(r)!==yy)throw new TypeError(dy+r);for(var n=by(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,Xc(n,arguments));return Object(p)===p?p:this}return r.apply(e,Xc(n,arguments))},o=gy(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+vy(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},wy=my,$u=Function.prototype.bind||wy,_y=Function.prototype.call,Ey=Object.prototype.hasOwnProperty,Sy=$u,xy=Sy.call(_y,Ey),we,ri=SyntaxError,Ch=Function,Qn=TypeError,ba=function(t){try{return Ch('"use strict"; return ('+t+").constructor;")()}catch{}},dn=Object.getOwnPropertyDescriptor;if(dn)try{dn({},"")}catch{dn=null}var va=function(){throw new Qn},My=dn?function(){try{return arguments.callee,va}catch{try{return dn(arguments,"callee").get}catch{return va}}}():va,$n=ly(),Cy=hy(),dt=Object.getPrototypeOf||(Cy?function(t){return t.__proto__}:null),zn={},Iy=typeof Uint8Array>"u"||!dt?we:dt(Uint8Array),pn={"%AggregateError%":typeof AggregateError>"u"?we:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?we:ArrayBuffer,"%ArrayIteratorPrototype%":$n&&dt?dt([][Symbol.iterator]()):we,"%AsyncFromSyncIteratorPrototype%":we,"%AsyncFunction%":zn,"%AsyncGenerator%":zn,"%AsyncGeneratorFunction%":zn,"%AsyncIteratorPrototype%":zn,"%Atomics%":typeof Atomics>"u"?we:Atomics,"%BigInt%":typeof BigInt>"u"?we:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?we:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?we:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?we:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?we:Float32Array,"%Float64Array%":typeof Float64Array>"u"?we:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?we:FinalizationRegistry,"%Function%":Ch,"%GeneratorFunction%":zn,"%Int8Array%":typeof Int8Array>"u"?we:Int8Array,"%Int16Array%":typeof Int16Array>"u"?we:Int16Array,"%Int32Array%":typeof Int32Array>"u"?we:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$n&&dt?dt(dt([][Symbol.iterator]())):we,"%JSON%":typeof JSON=="object"?JSON:we,"%Map%":typeof Map>"u"?we:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$n||!dt?we:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?we:Promise,"%Proxy%":typeof Proxy>"u"?we:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?we:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?we:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$n||!dt?we:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?we:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$n&&dt?dt(""[Symbol.iterator]()):we,"%Symbol%":$n?Symbol:we,"%SyntaxError%":ri,"%ThrowTypeError%":My,"%TypedArray%":Iy,"%TypeError%":Qn,"%Uint8Array%":typeof Uint8Array>"u"?we:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?we:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?we:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?we:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?we:WeakMap,"%WeakRef%":typeof WeakRef>"u"?we:WeakRef,"%WeakSet%":typeof WeakSet>"u"?we:WeakSet};if(dt)try{null.error}catch(t){var Ry=dt(dt(t));pn["%Error.prototype%"]=Ry}var Ay=function t(e){var r;if(e==="%AsyncFunction%")r=ba("async function () {}");else if(e==="%GeneratorFunction%")r=ba("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ba("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&dt&&(r=dt(i.prototype))}return pn[e]=r,r},el={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ns=$u,Hs=xy,Ty=ns.call(Function.call,Array.prototype.concat),Oy=ns.call(Function.apply,Array.prototype.splice),tl=ns.call(Function.call,String.prototype.replace),Vs=ns.call(Function.call,String.prototype.slice),ky=ns.call(Function.call,RegExp.prototype.exec),Ny=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ly=/\\(\\)?/g,Py=function(e){var r=Vs(e,0,1),n=Vs(e,-1);if(r==="%"&&n!=="%")throw new ri("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ri("invalid intrinsic syntax, expected opening `%`");var i=[];return tl(e,Ny,function(s,o,a,c){i[i.length]=a?tl(c,Ly,"$1"):o||s}),i},By=function(e,r){var n=e,i;if(Hs(el,n)&&(i=el[n],n="%"+i[0]+"%"),Hs(pn,n)){var s=pn[n];if(s===zn&&(s=Ay(n)),typeof s>"u"&&!r)throw new Qn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ri("intrinsic "+e+" does not exist!")},Sn=function(e,r){if(typeof e!="string"||e.length===0)throw new Qn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qn('"allowMissing" argument must be a boolean');if(ky(/^%?[^%]*%?$/,e)===null)throw new ri("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Py(e),i=n.length>0?n[0]:"",s=By("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],Oy(n,Ty([0,1],l)));for(var p=1,y=!0;p<n.length;p+=1){var v=n[p],A=Vs(v,0,1),O=Vs(v,-1);if((A==='"'||A==="'"||A==="`"||O==='"'||O==="'"||O==="`")&&A!==O)throw new ri("property names with quotes must have matching quotes");if((v==="constructor"||!y)&&(c=!0),i+="."+v,o="%"+i+"%",Hs(pn,o))a=pn[o];else if(a!=null){if(!(v in a)){if(!r)throw new Qn("base intrinsic for "+e+" exists, but the property is not available.");return}if(dn&&p+1>=n.length){var j=dn(a,v);y=!!j,y&&"get"in j&&!("originalValue"in j.get)?a=j.get:a=a[v]}else y=Hs(a,v),a=a[v];y&&!c&&(pn[o]=a)}}return a},Ih={exports:{}},Dy=Sn,lu=Dy("%Object.defineProperty%",!0),fu=function(){if(lu)try{return lu({},"a",{value:1}),!0}catch{return!1}return!1};fu.hasArrayLengthDefineBug=function(){if(!fu())return null;try{return lu([],"length",{value:1}).length!==1}catch{return!0}};var Rh=fu,$y=Sn,Ds=$y("%Object.getOwnPropertyDescriptor%",!0);if(Ds)try{Ds([],"length")}catch{Ds=null}var Ah=Ds,Fy=Rh(),Fu=Sn,Di=Fy&&Fu("%Object.defineProperty%",!0);if(Di)try{Di({},"a",{value:1})}catch{Di=!1}var jy=Fu("%SyntaxError%"),Fn=Fu("%TypeError%"),rl=Ah,Uy=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Fn("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Fn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fn("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!rl&&rl(e,r);if(Di)Di(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new jy("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Th=Sn,nl=Uy,Wy=Rh(),il=Ah,sl=Th("%TypeError%"),Hy=Th("%Math.floor%"),Vy=function(e,r){if(typeof e!="function")throw new sl("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Hy(r)!==r)throw new sl("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&il){var o=il(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Wy?nl(e,"length",r,!0,!0):nl(e,"length",r)),e};(function(t){var e=$u,r=Sn,n=Vy,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(v){if(typeof v!="function")throw new i("a function is required");var A=a(e,o,arguments);return n(A,1+l(0,v.length-(arguments.length-1)),!0)};var p=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p})(Ih);var zy=Ih.exports,Oh=Sn,kh=zy,qy=kh(Oh("String.prototype.indexOf")),Gy=function(e,r){var n=Oh(e,!!r);return typeof n=="function"&&qy(e,".prototype.")>-1?kh(n):n},ju=typeof Map=="function"&&Map.prototype,ma=Object.getOwnPropertyDescriptor&&ju?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,zs=ju&&ma&&typeof ma.get=="function"?ma.get:null,ol=ju&&Map.prototype.forEach,Uu=typeof Set=="function"&&Set.prototype,wa=Object.getOwnPropertyDescriptor&&Uu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,qs=Uu&&wa&&typeof wa.get=="function"?wa.get:null,al=Uu&&Set.prototype.forEach,Jy=typeof WeakMap=="function"&&WeakMap.prototype,$i=Jy?WeakMap.prototype.has:null,Zy=typeof WeakSet=="function"&&WeakSet.prototype,Fi=Zy?WeakSet.prototype.has:null,Qy=typeof WeakRef=="function"&&WeakRef.prototype,ul=Qy?WeakRef.prototype.deref:null,Yy=Boolean.prototype.valueOf,Ky=Object.prototype.toString,Xy=Function.prototype.toString,eb=String.prototype.match,Wu=String.prototype.slice,Or=String.prototype.replace,tb=String.prototype.toUpperCase,cl=String.prototype.toLowerCase,Nh=RegExp.prototype.test,ll=Array.prototype.concat,cr=Array.prototype.join,rb=Array.prototype.slice,fl=Math.floor,hu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_a=Object.getOwnPropertySymbols,du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ni=typeof Symbol=="function"&&typeof Symbol.iterator=="object",St=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ni||!0)?Symbol.toStringTag:null,Lh=Object.prototype.propertyIsEnumerable,hl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function dl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Nh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-fl(-t):fl(t);if(n!==t){var i=String(n),s=Wu.call(e,i.length+1);return Or.call(i,r,"$&_")+"."+Or.call(Or.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Or.call(e,r,"$&_")}var pu=no,pl=pu.custom,gl=Bh(pl)?pl:null,nb=function t(e,r,n,i){var s=r||{};if(Rr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Rr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return $h(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?dl(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?dl(e,l):l}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return gu(e)?"[Array]":"[Object]";var y=_b(s,n);if(typeof i>"u")i=[];else if(Dh(i,e)>=0)return"[Circular]";function v(w,u,g){if(u&&(i=rb.call(i),i.push(u)),g){var m={depth:s.depth};return Rr(s,"quoteStyle")&&(m.quoteStyle=s.quoteStyle),t(w,m,n+1,i)}return t(w,s,n+1,i)}if(typeof e=="function"&&!yl(e)){var A=hb(e),O=Es(e,v);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(O.length>0?" { "+cr.call(O,", ")+" }":"")}if(Bh(e)){var j=ni?Or.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):du.call(e);return typeof e=="object"&&!ni?Ti(j):j}if(vb(e)){for(var F="<"+cl.call(String(e.nodeName)),I=e.attributes||[],N=0;N<I.length;N++)F+=" "+I[N].name+"="+Ph(ib(I[N].value),"double",s);return F+=">",e.childNodes&&e.childNodes.length&&(F+="..."),F+="</"+cl.call(String(e.nodeName))+">",F}if(gu(e)){if(e.length===0)return"[]";var D=Es(e,v);return y&&!wb(D)?"["+yu(D,y)+"]":"[ "+cr.call(D,", ")+" ]"}if(ob(e)){var H=Es(e,v);return!("cause"in Error.prototype)&&"cause"in e&&!Lh.call(e,"cause")?"{ ["+String(e)+"] "+cr.call(ll.call("[cause]: "+v(e.cause),H),", ")+" }":H.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+cr.call(H,", ")+" }"}if(typeof e=="object"&&o){if(gl&&typeof e[gl]=="function"&&pu)return pu(e,{depth:p-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(db(e)){var U=[];return ol&&ol.call(e,function(w,u){U.push(v(u,e,!0)+" => "+v(w,e))}),bl("Map",zs.call(e),U,y)}if(yb(e)){var z=[];return al&&al.call(e,function(w){z.push(v(w,e))}),bl("Set",qs.call(e),z,y)}if(pb(e))return Ea("WeakMap");if(bb(e))return Ea("WeakSet");if(gb(e))return Ea("WeakRef");if(ub(e))return Ti(v(Number(e)));if(lb(e))return Ti(v(hu.call(e)));if(cb(e))return Ti(Yy.call(e));if(ab(e))return Ti(v(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===te)return"{ [object globalThis] }";if(!sb(e)&&!yl(e)){var ee=Es(e,v),K=hl?hl(e)===Object.prototype:e instanceof Object||e.constructor===Object,Z=e instanceof Object?"":"null prototype",se=!K&&St&&Object(e)===e&&St in e?Wu.call(Ur(e),8,-1):Z?"Object":"",ne=K||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",oe=ne+(se||Z?"["+cr.call(ll.call([],se||[],Z||[]),": ")+"] ":"");return ee.length===0?oe+"{}":y?oe+"{"+yu(ee,y)+"}":oe+"{ "+cr.call(ee,", ")+" }"}return String(e)};function Ph(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ib(t){return Or.call(String(t),/"/g,"&quot;")}function gu(t){return Ur(t)==="[object Array]"&&(!St||!(typeof t=="object"&&St in t))}function sb(t){return Ur(t)==="[object Date]"&&(!St||!(typeof t=="object"&&St in t))}function yl(t){return Ur(t)==="[object RegExp]"&&(!St||!(typeof t=="object"&&St in t))}function ob(t){return Ur(t)==="[object Error]"&&(!St||!(typeof t=="object"&&St in t))}function ab(t){return Ur(t)==="[object String]"&&(!St||!(typeof t=="object"&&St in t))}function ub(t){return Ur(t)==="[object Number]"&&(!St||!(typeof t=="object"&&St in t))}function cb(t){return Ur(t)==="[object Boolean]"&&(!St||!(typeof t=="object"&&St in t))}function Bh(t){if(ni)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!du)return!1;try{return du.call(t),!0}catch{}return!1}function lb(t){if(!t||typeof t!="object"||!hu)return!1;try{return hu.call(t),!0}catch{}return!1}var fb=Object.prototype.hasOwnProperty||function(t){return t in this};function Rr(t,e){return fb.call(t,e)}function Ur(t){return Ky.call(t)}function hb(t){if(t.name)return t.name;var e=eb.call(Xy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Dh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function db(t){if(!zs||!t||typeof t!="object")return!1;try{zs.call(t);try{qs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function pb(t){if(!$i||!t||typeof t!="object")return!1;try{$i.call(t,$i);try{Fi.call(t,Fi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function gb(t){if(!ul||!t||typeof t!="object")return!1;try{return ul.call(t),!0}catch{}return!1}function yb(t){if(!qs||!t||typeof t!="object")return!1;try{qs.call(t);try{zs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function bb(t){if(!Fi||!t||typeof t!="object")return!1;try{Fi.call(t,Fi);try{$i.call(t,$i)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function vb(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function $h(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return $h(Wu.call(t,0,e.maxStringLength),e)+n}var i=Or.call(Or.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mb);return Ph(i,"single",e)}function mb(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+tb.call(e.toString(16))}function Ti(t){return"Object("+t+")"}function Ea(t){return t+" { ? }"}function bl(t,e,r,n){var i=n?yu(r,n):cr.call(r,", ");return t+" ("+e+") {"+i+"}"}function wb(t){for(var e=0;e<t.length;e++)if(Dh(t[e],`
`)>=0)return!1;return!0}function _b(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=cr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:cr.call(Array(e+1),r)}}function yu(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+cr.call(t,","+r)+`
`+e.prev}function Es(t,e){var r=gu(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Rr(t,i)?e(t[i],t):""}var s=typeof _a=="function"?_a(t):[],o;if(ni){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Rr(t,c)&&(r&&String(Number(c))===c&&c<t.length||ni&&o["$"+c]instanceof Symbol||(Nh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof _a=="function")for(var l=0;l<s.length;l++)Lh.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var Hu=Sn,wi=Gy,Eb=nb,Sb=Hu("%TypeError%"),Ss=Hu("%WeakMap%",!0),xs=Hu("%Map%",!0),xb=wi("WeakMap.prototype.get",!0),Mb=wi("WeakMap.prototype.set",!0),Cb=wi("WeakMap.prototype.has",!0),Ib=wi("Map.prototype.get",!0),Rb=wi("Map.prototype.set",!0),Ab=wi("Map.prototype.has",!0),Vu=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Tb=function(t,e){var r=Vu(t,e);return r&&r.value},Ob=function(t,e,r){var n=Vu(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},kb=function(t,e){return!!Vu(t,e)},Nb=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Sb("Side channel does not contain "+Eb(s))},get:function(s){if(Ss&&s&&(typeof s=="object"||typeof s=="function")){if(e)return xb(e,s)}else if(xs){if(r)return Ib(r,s)}else if(n)return Tb(n,s)},has:function(s){if(Ss&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Cb(e,s)}else if(xs){if(r)return Ab(r,s)}else if(n)return kb(n,s);return!1},set:function(s,o){Ss&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ss),Mb(e,s,o)):xs?(r||(r=new xs),Rb(r,s,o)):(n||(n={key:{},next:null}),Ob(n,s,o))}};return i},Lb=String.prototype.replace,Pb=/%20/g,Sa={RFC1738:"RFC1738",RFC3986:"RFC3986"},zu={default:Sa.RFC3986,formatters:{RFC1738:function(t){return Lb.call(t,Pb,"+")},RFC3986:function(t){return String(t)}},RFC1738:Sa.RFC1738,RFC3986:Sa.RFC3986},Bb=zu,xa=Object.prototype.hasOwnProperty,on=Array.isArray,nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Db=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(on(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Fh=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},$b=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(on(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xa.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return on(e)&&!on(r)&&(i=Fh(e,n)),on(e)&&on(r)?(r.forEach(function(s,o){if(xa.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return xa.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Fb=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},jb=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ub=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===Bb.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+nr[l];continue}if(l<2048){a=a+(nr[192|l>>6]+nr[128|l&63]);continue}if(l<55296||l>=57344){a=a+(nr[224|l>>12]+nr[128|l>>6&63]+nr[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=nr[240|l>>18]+nr[128|l>>12&63]+nr[128|l>>6&63]+nr[128|l&63]}return a},Wb=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],p=o[l];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:l}),n.push(p))}return Db(r),e},Hb=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Vb=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},zb=function(e,r){return[].concat(e,r)},qb=function(e,r){if(on(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},jh={arrayToObject:Fh,assign:Fb,combine:zb,compact:Wb,decode:jb,encode:Ub,isBuffer:Vb,isRegExp:Hb,maybeMap:qb,merge:$b},Uh=Nb,$s=jh,ji=zu,Gb=Object.prototype.hasOwnProperty,vl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},mr=Array.isArray,Jb=Array.prototype.push,Wh=function(t,e){Jb.apply(t,mr(e)?e:[e])},Zb=Date.prototype.toISOString,ml=ji.default,Et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:$s.encode,encodeValuesOnly:!1,format:ml,formatter:ji.formatters[ml],indices:!1,serializeDate:function(e){return Zb.call(e)},skipNulls:!1,strictNullHandling:!1},Qb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ma={},Yb=function t(e,r,n,i,s,o,a,c,l,p,y,v,A,O,j,F){for(var I=e,N=F,D=0,H=!1;(N=N.get(Ma))!==void 0&&!H;){var U=N.get(e);if(D+=1,typeof U<"u"){if(U===D)throw new RangeError("Cyclic object value");H=!0}typeof N.get(Ma)>"u"&&(D=0)}if(typeof c=="function"?I=c(r,I):I instanceof Date?I=y(I):n==="comma"&&mr(I)&&(I=$s.maybeMap(I,function(m){return m instanceof Date?y(m):m})),I===null){if(s)return a&&!O?a(r,Et.encoder,j,"key",v):r;I=""}if(Qb(I)||$s.isBuffer(I)){if(a){var z=O?r:a(r,Et.encoder,j,"key",v);return[A(z)+"="+A(a(I,Et.encoder,j,"value",v))]}return[A(r)+"="+A(String(I))]}var ee=[];if(typeof I>"u")return ee;var K;if(n==="comma"&&mr(I))O&&a&&(I=$s.maybeMap(I,a)),K=[{value:I.length>0?I.join(",")||null:void 0}];else if(mr(c))K=c;else{var Z=Object.keys(I);K=l?Z.sort(l):Z}for(var se=i&&mr(I)&&I.length===1?r+"[]":r,ne=0;ne<K.length;++ne){var oe=K[ne],w=typeof oe=="object"&&typeof oe.value<"u"?oe.value:I[oe];if(!(o&&w===null)){var u=mr(I)?typeof n=="function"?n(se,oe):se:se+(p?"."+oe:"["+oe+"]");F.set(e,D);var g=Uh();g.set(Ma,F),Wh(ee,t(w,u,n,i,s,o,n==="comma"&&O&&mr(I)?null:a,c,l,p,y,v,A,O,j,g))}}return ee},Kb=function(e){if(!e)return Et;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ji.default;if(typeof e.format<"u"){if(!Gb.call(ji.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ji.formatters[n],s=Et.filter;return(typeof e.filter=="function"||mr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Et.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Et.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,delimiter:typeof e.delimiter>"u"?Et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Et.encode,encoder:typeof e.encoder=="function"?e.encoder:Et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Et.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},Xb=function(t,e){var r=t,n=Kb(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):mr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in vl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=vl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=Uh(),y=0;y<i.length;++y){var v=i[y];n.skipNulls&&r[v]===null||Wh(o,Yb(r[v],v,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var A=o.join(n.delimiter),O=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),A.length>0?O+A:""},ii=jh,bu=Object.prototype.hasOwnProperty,ev=Array.isArray,ft={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ii.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},tv=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Hh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},rv="utf8=%26%2310003%3B",nv="utf8=%E2%9C%93",iv=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===nv?l="utf-8":o[c]===rv&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],y=p.indexOf("]="),v=y===-1?p.indexOf("="):y+1,A,O;v===-1?(A=r.decoder(p,ft.decoder,l,"key"),O=r.strictNullHandling?null:""):(A=r.decoder(p.slice(0,v),ft.decoder,l,"key"),O=ii.maybeMap(Hh(p.slice(v+1),r),function(j){return r.decoder(j,ft.decoder,l,"value")})),O&&r.interpretNumericEntities&&l==="iso-8859-1"&&(O=tv(O)),p.indexOf("[]=")>-1&&(O=ev(O)?[O]:O),bu.call(n,A)?n[A]=ii.combine(n[A],O):n[A]=O}return n},sv=function(t,e,r,n){for(var i=n?e:Hh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},ov=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,p=[];if(l){if(!n.plainObjects&&bu.call(Object.prototype,l)&&!n.allowPrototypes)return;p.push(l)}for(var y=0;n.depth>0&&(c=a.exec(s))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&bu.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),sv(p,r,n,i)}},av=function(e){if(!e)return ft;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ft.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ft.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ft.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ft.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ft.comma,decoder:typeof e.decoder=="function"?e.decoder:ft.decoder,delimiter:typeof e.delimiter=="string"||ii.isRegExp(e.delimiter)?e.delimiter:ft.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ft.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ft.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ft.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ft.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},uv=function(t,e){var r=av(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?iv(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=ov(a,n[a],r,typeof t=="string");i=ii.merge(i,c,r)}return r.allowSparse===!0?i:ii.compact(i)},cv=Xb,lv=uv,fv=zu,hv={formats:fv,parse:lv,stringify:cv},is={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(is);var dv=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0});re.isInIFrame=re.createQrUrl=re.getFavicon=re.range=re.isBigNumber=re.ensureParsedJSONObject=re.ensureBN=re.ensureRegExpString=re.ensureIntNumber=re.ensureBuffer=re.ensureAddressString=re.ensureEvenLengthHexString=re.ensureHexString=re.isHexString=re.prepend0x=re.strip0x=re.has0xPrefix=re.hexStringFromIntNumber=re.intNumberFromHexString=re.bigIntStringFromBN=re.hexStringFromBuffer=re.hexStringToUint8Array=re.uint8ArrayToHex=re.randomBytesHex=void 0;const Ar=dv(ao),pv=hv,xn=Yi,Vt=is,Vh=/^[0-9]*$/,zh=/^[a-f0-9]*$/;function gv(t){return qh(crypto.getRandomValues(new Uint8Array(t)))}re.randomBytesHex=gv;function qh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}re.uint8ArrayToHex=qh;function yv(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}re.hexStringToUint8Array=yv;function bv(t,e=!1){const r=t.toString("hex");return(0,Vt.HexString)(e?"0x"+r:r)}re.hexStringFromBuffer=bv;function vv(t){return(0,Vt.BigIntString)(t.toString(10))}re.bigIntStringFromBN=vv;function mv(t){return(0,Vt.IntNumber)(new Ar.default(os(t,!1),16).toNumber())}re.intNumberFromHexString=mv;function wv(t){return(0,Vt.HexString)("0x"+new Ar.default(t).toString(16))}re.hexStringFromIntNumber=wv;function qu(t){return t.startsWith("0x")||t.startsWith("0X")}re.has0xPrefix=qu;function go(t){return qu(t)?t.slice(2):t}re.strip0x=go;function Gh(t){return qu(t)?"0x"+t.slice(2):"0x"+t}re.prepend0x=Gh;function ss(t){if(typeof t!="string")return!1;const e=go(t).toLowerCase();return zh.test(e)}re.isHexString=ss;function Jh(t,e=!1){if(typeof t=="string"){const r=go(t).toLowerCase();if(zh.test(r))return(0,Vt.HexString)(e?"0x"+r:r)}throw xn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}re.ensureHexString=Jh;function os(t,e=!1){let r=Jh(t,!1);return r.length%2===1&&(r=(0,Vt.HexString)("0"+r)),e?(0,Vt.HexString)("0x"+r):r}re.ensureEvenLengthHexString=os;function _v(t){if(typeof t=="string"){const e=go(t).toLowerCase();if(ss(e)&&e.length===40)return(0,Vt.AddressString)(Gh(e))}throw xn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}re.ensureAddressString=_v;function Ev(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(ss(t)){const e=os(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw xn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}re.ensureBuffer=Ev;function Zh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Vt.IntNumber)(t);if(typeof t=="string"){if(Vh.test(t))return(0,Vt.IntNumber)(Number(t));if(ss(t))return(0,Vt.IntNumber)(new Ar.default(os(t,!1),16).toNumber())}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}re.ensureIntNumber=Zh;function Sv(t){if(t instanceof RegExp)return(0,Vt.RegExpString)(t.toString());throw xn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}re.ensureRegExpString=Sv;function xv(t){if(t!==null&&(Ar.default.isBN(t)||Qh(t)))return new Ar.default(t.toString(10),10);if(typeof t=="number")return new Ar.default(Zh(t));if(typeof t=="string"){if(Vh.test(t))return new Ar.default(t,10);if(ss(t))return new Ar.default(os(t,!1),16)}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}re.ensureBN=xv;function Mv(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw xn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}re.ensureParsedJSONObject=Mv;function Qh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}re.isBigNumber=Qh;function Cv(t,e){return Array.from({length:e-t},(r,n)=>t+n)}re.range=Cv;function Iv(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}re.getFavicon=Iv;function Rv(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,pv.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}re.createQrUrl=Rv;function Av(){try{return window.frameElement!==null}catch{return!1}}re.isInIFrame=Av;Object.defineProperty(vi,"__esModule",{value:!0});vi.Session=void 0;const wl=ay,_l=re,El="session:id",Sl="session:secret",xl="session:linked";class Gu{constructor(e,r,n,i){this._storage=e,this._id=r||(0,_l.randomBytesHex)(16),this._secret=n||(0,_l.randomBytesHex)(32),this._key=new wl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(El),n=e.getItem(xl),i=e.getItem(Sl);return r&&i?new Gu(e,r,i,n==="1"):null}static hash(e){return new wl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(El,this._id),this._storage.setItem(Sl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(xl,this._linked?"1":"0")}}vi.Session=Gu;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.WalletSDKRelayAbstract=Xt.APP_VERSION_KEY=Xt.LOCAL_STORAGE_ADDRESSES_KEY=Xt.WALLET_USER_NAME_KEY=void 0;const Ml=Yi;Xt.WALLET_USER_NAME_KEY="walletUsername";Xt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Xt.APP_VERSION_KEY="AppVersion";class Tv{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ml.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ml.serializeError)(s,e.method);return i})}}Xt.WalletSDKRelayAbstract=Tv;var Yh={};const Cl=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Yh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],p=t[8]^t[18]^t[28]^t[38]^t[48],y=t[9]^t[19]^t[29]^t[39]^t[49];let v=p^(i<<1|s>>>31),A=y^(s<<1|i>>>31);const O=t[0]^v,j=t[1]^A,F=t[10]^v,I=t[11]^A,N=t[20]^v,D=t[21]^A,H=t[30]^v,U=t[31]^A,z=t[40]^v,ee=t[41]^A;v=r^(o<<1|a>>>31),A=n^(a<<1|o>>>31);const K=t[2]^v,Z=t[3]^A,se=t[12]^v,ne=t[13]^A,oe=t[22]^v,w=t[23]^A,u=t[32]^v,g=t[33]^A,m=t[42]^v,E=t[43]^A;v=i^(c<<1|l>>>31),A=s^(l<<1|c>>>31);const S=t[4]^v,T=t[5]^A,L=t[14]^v,_=t[15]^A,d=t[24]^v,R=t[25]^A,Y=t[34]^v,X=t[35]^A,k=t[44]^v,B=t[45]^A;v=o^(p<<1|y>>>31),A=a^(y<<1|p>>>31);const V=t[6]^v,Q=t[7]^A,ge=t[16]^v,M=t[17]^A,C=t[26]^v,q=t[27]^A,J=t[36]^v,fe=t[37]^A,ye=t[46]^v,ae=t[47]^A;v=c^(r<<1|n>>>31),A=l^(n<<1|r>>>31);const Se=t[8]^v,Pt=t[9]^A,Ae=t[18]^v,Ie=t[19]^A,ot=t[28]^v,Me=t[29]^A,Te=t[38]^v,ct=t[39]^A,Ce=t[48]^v,b=t[49]^A,f=O,h=j,x=I<<4|F>>>28,P=F<<4|I>>>28,$=N<<3|D>>>29,W=D<<3|N>>>29,de=U<<9|H>>>23,he=H<<9|U>>>23,ce=z<<18|ee>>>14,Oe=ee<<18|z>>>14,ue=K<<1|Z>>>31,Le=Z<<1|K>>>31,An=ne<<12|se>>>20,Pe=se<<12|ne>>>20,Be=oe<<10|w>>>22,Tn=w<<10|oe>>>22,De=g<<13|u>>>19,$e=u<<13|g>>>19,On=m<<2|E>>>30,Fe=E<<2|m>>>30,je=T<<30|S>>>2,kn=S<<30|T>>>2,Ue=L<<6|_>>>26,We=_<<6|L>>>26,Nn=R<<11|d>>>21,He=d<<11|R>>>21,Ve=Y<<15|X>>>17,Ln=X<<15|Y>>>17,ze=B<<29|k>>>3,qe=k<<29|B>>>3,Pn=V<<28|Q>>>4,Ge=Q<<28|V>>>4,Je=M<<23|ge>>>9,Bn=ge<<23|M>>>9,Ze=C<<25|q>>>7,Qe=q<<25|C>>>7,Wr=J<<21|fe>>>11,Hr=fe<<21|J>>>11,Vr=ae<<24|ye>>>8,zr=ye<<24|ae>>>8,qr=Se<<27|Pt>>>5,Gr=Pt<<27|Se>>>5,Jr=Ae<<20|Ie>>>12,Zr=Ie<<20|Ae>>>12,Qr=Me<<7|ot>>>25,Yr=ot<<7|Me>>>25,Kr=Te<<8|ct>>>24,Xr=ct<<8|Te>>>24,en=Ce<<14|b>>>18,tn=b<<14|Ce>>>18;t[0]=f^~An&Nn,t[1]=h^~Pe&He,t[10]=Pn^~Jr&$,t[11]=Ge^~Zr&W,t[20]=ue^~Ue&Ze,t[21]=Le^~We&Qe,t[30]=qr^~x&Be,t[31]=Gr^~P&Tn,t[40]=je^~Je&Qr,t[41]=kn^~Bn&Yr,t[2]=An^~Nn&Wr,t[3]=Pe^~He&Hr,t[12]=Jr^~$&De,t[13]=Zr^~W&$e,t[22]=Ue^~Ze&Kr,t[23]=We^~Qe&Xr,t[32]=x^~Be&Ve,t[33]=P^~Tn&Ln,t[42]=Je^~Qr&de,t[43]=Bn^~Yr&he,t[4]=Nn^~Wr&en,t[5]=He^~Hr&tn,t[14]=$^~De&ze,t[15]=W^~$e&qe,t[24]=Ze^~Kr&ce,t[25]=Qe^~Xr&Oe,t[34]=Be^~Ve&Vr,t[35]=Tn^~Ln&zr,t[44]=Qr^~de&On,t[45]=Yr^~he&Fe,t[6]=Wr^~en&f,t[7]=Hr^~tn&h,t[16]=De^~ze&Pn,t[17]=$e^~qe&Ge,t[26]=Kr^~ce&ue,t[27]=Xr^~Oe&Le,t[36]=Ve^~Vr&qr,t[37]=Ln^~zr&Gr,t[46]=de^~On&je,t[47]=he^~Fe&kn,t[8]=en^~f&An,t[9]=tn^~h&Pe,t[18]=ze^~Pn&Jr,t[19]=qe^~Ge&Zr,t[28]=ce^~ue&Ue,t[29]=Oe^~Le&We,t[38]=Vr^~qr&x,t[39]=zr^~Gr&P,t[48]=On^~je&Je,t[49]=Fe^~kn&Bn,t[0]^=Cl[e*2],t[1]^=Cl[e*2+1]}};const Gs=Yh;function _i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}_i.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};_i.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Gs.p1600(this.state),this.count=0)};_i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Gs.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Gs.p1600(this.state),this.count=0,this.squeezing=!0};_i.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Gs.p1600(this.state),this.count=0);return e};_i.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Ov=_i,vu={exports:{}},Kh=ku.EventEmitter,Ca,Il;function kv(){if(Il)return Ca;Il=1;function t(O,j){var F=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);j&&(I=I.filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable})),F.push.apply(F,I)}return F}function e(O){for(var j=1;j<arguments.length;j++){var F=arguments[j]!=null?arguments[j]:{};j%2?t(Object(F),!0).forEach(function(I){r(O,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(F)):t(Object(F)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(F,I))})}return O}function r(O,j,F){return j=o(j),j in O?Object.defineProperty(O,j,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[j]=F,O}function n(O,j){if(!(O instanceof j))throw new TypeError("Cannot call a class as a function")}function i(O,j){for(var F=0;F<j.length;F++){var I=j[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,o(I.key),I)}}function s(O,j,F){return j&&i(O.prototype,j),F&&i(O,F),Object.defineProperty(O,"prototype",{writable:!1}),O}function o(O){var j=a(O,"string");return typeof j=="symbol"?j:String(j)}function a(O,j){if(typeof O!="object"||O===null)return O;var F=O[Symbol.toPrimitive];if(F!==void 0){var I=F.call(O,j||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(O)}var c=Ki,l=c.Buffer,p=no,y=p.inspect,v=y&&y.custom||"inspect";function A(O,j,F){l.prototype.copy.call(O,j,F)}return Ca=function(){function O(){n(this,O),this.head=null,this.tail=null,this.length=0}return s(O,[{key:"push",value:function(F){var I={data:F,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(F){var I={data:F,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var F=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,F}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(F){if(this.length===0)return"";for(var I=this.head,N=""+I.data;I=I.next;)N+=F+I.data;return N}},{key:"concat",value:function(F){if(this.length===0)return l.alloc(0);for(var I=l.allocUnsafe(F>>>0),N=this.head,D=0;N;)A(N.data,I,D),D+=N.data.length,N=N.next;return I}},{key:"consume",value:function(F,I){var N;return F<this.head.data.length?(N=this.head.data.slice(0,F),this.head.data=this.head.data.slice(F)):F===this.head.data.length?N=this.shift():N=I?this._getString(F):this._getBuffer(F),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(F){var I=this.head,N=1,D=I.data;for(F-=D.length;I=I.next;){var H=I.data,U=F>H.length?H.length:F;if(U===H.length?D+=H:D+=H.slice(0,F),F-=U,F===0){U===H.length?(++N,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=H.slice(U));break}++N}return this.length-=N,D}},{key:"_getBuffer",value:function(F){var I=l.allocUnsafe(F),N=this.head,D=1;for(N.data.copy(I),F-=N.data.length;N=N.next;){var H=N.data,U=F>H.length?H.length:F;if(H.copy(I,I.length-F,0,U),F-=U,F===0){U===H.length?(++D,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=H.slice(U));break}++D}return this.length-=D,I}},{key:v,value:function(F,I){return y(this,e(e({},I),{},{depth:0,customInspect:!1}))}}]),O}(),Ca}function Nv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(mu,this,t)):process.nextTick(mu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Fs,r):(r._writableState.errorEmitted=!0,process.nextTick(Rl,r,s)):process.nextTick(Rl,r,s):e?(process.nextTick(Fs,r),e(s)):process.nextTick(Fs,r)}),this)}function Rl(t,e){mu(t,e),Fs(t)}function Fs(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Lv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mu(t,e){t.emit("error",e)}function Pv(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Xh={destroy:Nv,undestroy:Lv,errorOrDestroy:Pv},Mn={};function Bv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ed={};function qt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Bv(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,ed[t]=i}function Al(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Dv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function $v(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Fv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);qt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Dv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if($v(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Al(e,"type"));else{var s=Fv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Al(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");qt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});qt("ERR_STREAM_PREMATURE_CLOSE","Premature close");qt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");qt("ERR_STREAM_WRITE_AFTER_END","write after end");qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Mn.codes=ed;var jv=Mn.codes.ERR_INVALID_OPT_VALUE;function Uv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Wv(t,e,r,n){var i=Uv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new jv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var td={getHighWaterMark:Wv},Hv=Vv;function Vv(t,e){if(Ia("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ia("throwDeprecation"))throw new Error(e);Ia("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ia(t){try{if(!te.localStorage)return!1}catch{return!1}var e=te.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Ra,Tl;function rd(){if(Tl)return Ra;Tl=1,Ra=K;function t(k){var B=this;this.next=null,this.entry=null,this.finish=function(){X(B,k)}}var e;K.WritableState=z;var r={deprecate:Hv},n=Kh,i=Ki.Buffer,s=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(k){return i.from(k)}function a(k){return i.isBuffer(k)||k instanceof s}var c=Xh,l=td,p=l.getHighWaterMark,y=Mn.codes,v=y.ERR_INVALID_ARG_TYPE,A=y.ERR_METHOD_NOT_IMPLEMENTED,O=y.ERR_MULTIPLE_CALLBACK,j=y.ERR_STREAM_CANNOT_PIPE,F=y.ERR_STREAM_DESTROYED,I=y.ERR_STREAM_NULL_VALUES,N=y.ERR_STREAM_WRITE_AFTER_END,D=y.ERR_UNKNOWN_ENCODING,H=c.errorOrDestroy;er(K,n);function U(){}function z(k,B,V){e=e||si(),k=k||{},typeof V!="boolean"&&(V=B instanceof e),this.objectMode=!!k.objectMode,V&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=p(this,k,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=k.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){m(B,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var B=this.bufferedRequest,V=[];B;)V.push(B),B=B.next;return V},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(B){return ee.call(this,B)?!0:this!==K?!1:B&&B._writableState instanceof z}})):ee=function(B){return B instanceof this};function K(k){e=e||si();var B=this instanceof e;if(!B&&!ee.call(K,this))return new K(k);this._writableState=new z(k,this,B),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),n.call(this)}K.prototype.pipe=function(){H(this,new j)};function Z(k,B){var V=new N;H(k,V),process.nextTick(B,V)}function se(k,B,V,Q){var ge;return V===null?ge=new I:typeof V!="string"&&!B.objectMode&&(ge=new v("chunk",["string","Buffer"],V)),ge?(H(k,ge),process.nextTick(Q,ge),!1):!0}K.prototype.write=function(k,B,V){var Q=this._writableState,ge=!1,M=!Q.objectMode&&a(k);return M&&!i.isBuffer(k)&&(k=o(k)),typeof B=="function"&&(V=B,B=null),M?B="buffer":B||(B=Q.defaultEncoding),typeof V!="function"&&(V=U),Q.ending?Z(this,V):(M||se(this,Q,k,V))&&(Q.pendingcb++,ge=oe(this,Q,M,k,B,V)),ge},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,!k.writing&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&T(this,k))},K.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new D(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(K.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ne(k,B,V){return!k.objectMode&&k.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,V)),B}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function oe(k,B,V,Q,ge,M){if(!V){var C=ne(B,Q,ge);Q!==C&&(V=!0,ge="buffer",Q=C)}var q=B.objectMode?1:Q.length;B.length+=q;var J=B.length<B.highWaterMark;if(J||(B.needDrain=!0),B.writing||B.corked){var fe=B.lastBufferedRequest;B.lastBufferedRequest={chunk:Q,encoding:ge,isBuf:V,callback:M,next:null},fe?fe.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else w(k,B,!1,q,Q,ge,M);return J}function w(k,B,V,Q,ge,M,C){B.writelen=Q,B.writecb=C,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new F("write")):V?k._writev(ge,B.onwrite):k._write(ge,M,B.onwrite),B.sync=!1}function u(k,B,V,Q,ge){--B.pendingcb,V?(process.nextTick(ge,Q),process.nextTick(R,k,B),k._writableState.errorEmitted=!0,H(k,Q)):(ge(Q),k._writableState.errorEmitted=!0,H(k,Q),R(k,B))}function g(k){k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0}function m(k,B){var V=k._writableState,Q=V.sync,ge=V.writecb;if(typeof ge!="function")throw new O;if(g(V),B)u(k,V,Q,B,ge);else{var M=L(V)||k.destroyed;!M&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&T(k,V),Q?process.nextTick(E,k,V,M,ge):E(k,V,M,ge)}}function E(k,B,V,Q){V||S(k,B),B.pendingcb--,Q(),R(k,B)}function S(k,B){B.length===0&&B.needDrain&&(B.needDrain=!1,k.emit("drain"))}function T(k,B){B.bufferProcessing=!0;var V=B.bufferedRequest;if(k._writev&&V&&V.next){var Q=B.bufferedRequestCount,ge=new Array(Q),M=B.corkedRequestsFree;M.entry=V;for(var C=0,q=!0;V;)ge[C]=V,V.isBuf||(q=!1),V=V.next,C+=1;ge.allBuffers=q,w(k,B,!0,B.length,ge,"",M.finish),B.pendingcb++,B.lastBufferedRequest=null,M.next?(B.corkedRequestsFree=M.next,M.next=null):B.corkedRequestsFree=new t(B),B.bufferedRequestCount=0}else{for(;V;){var J=V.chunk,fe=V.encoding,ye=V.callback,ae=B.objectMode?1:J.length;if(w(k,B,!1,ae,J,fe,ye),V=V.next,B.bufferedRequestCount--,B.writing)break}V===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=V,B.bufferProcessing=!1}K.prototype._write=function(k,B,V){V(new A("_write()"))},K.prototype._writev=null,K.prototype.end=function(k,B,V){var Q=this._writableState;return typeof k=="function"?(V=k,k=null,B=null):typeof B=="function"&&(V=B,B=null),k!=null&&this.write(k,B),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||Y(this,Q,V),this},Object.defineProperty(K.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function _(k,B){k._final(function(V){B.pendingcb--,V&&H(k,V),B.prefinished=!0,k.emit("prefinish"),R(k,B)})}function d(k,B){!B.prefinished&&!B.finalCalled&&(typeof k._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,process.nextTick(_,k,B)):(B.prefinished=!0,k.emit("prefinish")))}function R(k,B){var V=L(B);if(V&&(d(k,B),B.pendingcb===0&&(B.finished=!0,k.emit("finish"),B.autoDestroy))){var Q=k._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&k.destroy()}return V}function Y(k,B,V){B.ending=!0,R(k,B),V&&(B.finished?process.nextTick(V):k.once("finish",V)),B.ended=!0,k.writable=!1}function X(k,B,V){var Q=k.entry;for(k.entry=null;Q;){var ge=Q.callback;B.pendingcb--,ge(V),Q=Q.next}B.corkedRequestsFree.next=k}return Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),K.prototype.destroy=c.destroy,K.prototype._undestroy=c.undestroy,K.prototype._destroy=function(k,B){B(k)},Ra}var Aa,Ol;function si(){if(Ol)return Aa;Ol=1;var t=Object.keys||function(l){var p=[];for(var y in l)p.push(y);return p};Aa=o;var e=id(),r=rd();er(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),Aa}var Ta={},kl;function Nl(){if(kl)return Ta;kl=1;var t=jr.Buffer,e=t.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(I){if(!I)return"utf8";for(var N;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(N)return;I=(""+I).toLowerCase(),N=!0}}function n(I){var N=r(I);if(typeof N!="string"&&(t.isEncoding===e||!e(I)))throw new Error("Unknown encoding: "+I);return N||I}Ta.StringDecoder=i;function i(I){this.encoding=n(I);var N;switch(this.encoding){case"utf16le":this.text=y,this.end=v,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=A,this.end=O,N=3;break;default:this.write=j,this.end=F;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}i.prototype.write=function(I){if(I.length===0)return"";var N,D;if(this.lastNeed){if(N=this.fillLast(I),N===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<I.length?N?N+this.text(I,D):this.text(I,D):N||""},i.prototype.end=p,i.prototype.text=l,i.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function s(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function o(I,N,D){var H=N.length-1;if(H<D)return 0;var U=s(N[H]);return U>=0?(U>0&&(I.lastNeed=U-1),U):--H<D||U===-2?0:(U=s(N[H]),U>=0?(U>0&&(I.lastNeed=U-2),U):--H<D||U===-2?0:(U=s(N[H]),U>=0?(U>0&&(U===2?U=0:I.lastNeed=U-3),U):0))}function a(I,N,D){if((N[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return I.lastNeed=2,""}}function c(I){var N=this.lastTotal-this.lastNeed,D=a(this,I);if(D!==void 0)return D;if(this.lastNeed<=I.length)return I.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,N,0,I.length),this.lastNeed-=I.length}function l(I,N){var D=o(this,I,N);if(!this.lastNeed)return I.toString("utf8",N);this.lastTotal=D;var H=I.length-(D-this.lastNeed);return I.copy(this.lastChar,0,H),I.toString("utf8",N,H)}function p(I){var N=I&&I.length?this.write(I):"";return this.lastNeed?N+"":N}function y(I,N){if((I.length-N)%2===0){var D=I.toString("utf16le",N);if(D){var H=D.charCodeAt(D.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",N,I.length-1)}function v(I){var N=I&&I.length?this.write(I):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,D)}return N}function A(I,N){var D=(I.length-N)%3;return D===0?I.toString("base64",N):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",N,I.length-D))}function O(I){var N=I&&I.length?this.write(I):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function j(I){return I.toString(this.encoding)}function F(I){return I&&I.length?this.write(I):""}return Ta}var Ll=Mn.codes.ERR_STREAM_PREMATURE_CLOSE;function zv(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function qv(){}function Gv(t){return t.setHeader&&typeof t.abort=="function"}function nd(t,e,r){if(typeof e=="function")return nd(t,null,e);e||(e={}),r=zv(r||qv);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},p=function(O){r.call(t,O)},y=function(){var O;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(O=new Ll),r.call(t,O);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(O=new Ll),r.call(t,O)},v=function(){t.req.on("finish",a)};return Gv(t)?(t.on("complete",a),t.on("abort",y),t.req?v():t.on("request",v)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",p),t.on("close",y),function(){t.removeListener("complete",a),t.removeListener("abort",y),t.removeListener("request",v),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",p),t.removeListener("close",y)}}var Ju=nd,Oa,Pl;function Jv(){if(Pl)return Oa;Pl=1;var t;function e(D,H,U){return H=r(H),H in D?Object.defineProperty(D,H,{value:U,enumerable:!0,configurable:!0,writable:!0}):D[H]=U,D}function r(D){var H=n(D,"string");return typeof H=="symbol"?H:String(H)}function n(D,H){if(typeof D!="object"||D===null)return D;var U=D[Symbol.toPrimitive];if(U!==void 0){var z=U.call(D,H||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(D)}var i=Ju,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),y=Symbol("stream");function v(D,H){return{value:D,done:H}}function A(D){var H=D[s];if(H!==null){var U=D[y].read();U!==null&&(D[l]=null,D[s]=null,D[o]=null,H(v(U,!1)))}}function O(D){process.nextTick(A,D)}function j(D,H){return function(U,z){D.then(function(){if(H[c]){U(v(void 0,!0));return}H[p](U,z)},z)}}var F=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var H=this,U=this[a];if(U!==null)return Promise.reject(U);if(this[c])return Promise.resolve(v(void 0,!0));if(this[y].destroyed)return new Promise(function(Z,se){process.nextTick(function(){H[a]?se(H[a]):Z(v(void 0,!0))})});var z=this[l],ee;if(z)ee=new Promise(j(z,this));else{var K=this[y].read();if(K!==null)return Promise.resolve(v(K,!1));ee=new Promise(this[p])}return this[l]=ee,ee}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var H=this;return new Promise(function(U,z){H[y].destroy(null,function(ee){if(ee){z(ee);return}U(v(void 0,!0))})})}),t),F),N=function(H){var U,z=Object.create(I,(U={},e(U,y,{value:H,writable:!0}),e(U,s,{value:null,writable:!0}),e(U,o,{value:null,writable:!0}),e(U,a,{value:null,writable:!0}),e(U,c,{value:H._readableState.endEmitted,writable:!0}),e(U,p,{value:function(K,Z){var se=z[y].read();se?(z[l]=null,z[s]=null,z[o]=null,K(v(se,!1))):(z[s]=K,z[o]=Z)},writable:!0}),U));return z[l]=null,i(H,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=z[o];K!==null&&(z[l]=null,z[s]=null,z[o]=null,K(ee)),z[a]=ee;return}var Z=z[s];Z!==null&&(z[l]=null,z[s]=null,z[o]=null,Z(v(void 0,!0))),z[c]=!0}),H.on("readable",O.bind(null,z)),z};return Oa=N,Oa}var ka,Bl;function Zv(){return Bl||(Bl=1,ka=function(){throw new Error("Readable.from is not available in the browser")}),ka}var Na,Dl;function id(){if(Dl)return Na;Dl=1,Na=Z;var t;Z.ReadableState=K,ku.EventEmitter;var e=function(C,q){return C.listeners(q).length},r=Kh,n=Ki.Buffer,i=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(M){return n.from(M)}function o(M){return n.isBuffer(M)||M instanceof i}var a=no,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=kv(),p=Xh,y=td,v=y.getHighWaterMark,A=Mn.codes,O=A.ERR_INVALID_ARG_TYPE,j=A.ERR_STREAM_PUSH_AFTER_EOF,F=A.ERR_METHOD_NOT_IMPLEMENTED,I=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,D,H;er(Z,r);var U=p.errorOrDestroy,z=["error","close","destroy","pause","resume"];function ee(M,C,q){if(typeof M.prependListener=="function")return M.prependListener(C,q);!M._events||!M._events[C]?M.on(C,q):Array.isArray(M._events[C])?M._events[C].unshift(q):M._events[C]=[q,M._events[C]]}function K(M,C,q){t=t||si(),M=M||{},typeof q!="boolean"&&(q=C instanceof t),this.objectMode=!!M.objectMode,q&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=v(this,M,"readableHighWaterMark",q),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(N||(N=Nl().StringDecoder),this.decoder=new N(M.encoding),this.encoding=M.encoding)}function Z(M){if(t=t||si(),!(this instanceof Z))return new Z(M);var C=this instanceof t;this._readableState=new K(M,this,C),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),Z.prototype.destroy=p.destroy,Z.prototype._undestroy=p.undestroy,Z.prototype._destroy=function(M,C){C(M)},Z.prototype.push=function(M,C){var q=this._readableState,J;return q.objectMode?J=!0:typeof M=="string"&&(C=C||q.defaultEncoding,C!==q.encoding&&(M=n.from(M,C),C=""),J=!0),se(this,M,C,!1,J)},Z.prototype.unshift=function(M){return se(this,M,null,!0,!1)};function se(M,C,q,J,fe){c("readableAddChunk",C);var ye=M._readableState;if(C===null)ye.reading=!1,m(M,ye);else{var ae;if(fe||(ae=oe(ye,C)),ae)U(M,ae);else if(ye.objectMode||C&&C.length>0)if(typeof C!="string"&&!ye.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=s(C)),J)ye.endEmitted?U(M,new I):ne(M,ye,C,!0);else if(ye.ended)U(M,new j);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!q?(C=ye.decoder.write(C),ye.objectMode||C.length!==0?ne(M,ye,C,!1):T(M,ye)):ne(M,ye,C,!1)}else J||(ye.reading=!1,T(M,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function ne(M,C,q,J){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,M.emit("data",q)):(C.length+=C.objectMode?1:q.length,J?C.buffer.unshift(q):C.buffer.push(q),C.needReadable&&E(M)),T(M,C)}function oe(M,C){var q;return!o(C)&&typeof C!="string"&&C!==void 0&&!M.objectMode&&(q=new O("chunk",["string","Buffer","Uint8Array"],C)),q}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(M){N||(N=Nl().StringDecoder);var C=new N(M);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,J="";q!==null;)J+=C.write(q.data),q=q.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var w=1073741824;function u(M){return M>=w?M=w:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function g(M,C){return M<=0||C.length===0&&C.ended?0:C.objectMode?1:M!==M?C.flowing&&C.length?C.buffer.head.data.length:C.length:(M>C.highWaterMark&&(C.highWaterMark=u(M)),M<=C.length?M:C.ended?C.length:(C.needReadable=!0,0))}Z.prototype.read=function(M){c("read",M),M=parseInt(M,10);var C=this._readableState,q=M;if(M!==0&&(C.emittedReadable=!1),M===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return c("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?V(this):E(this),null;if(M=g(M,C),M===0&&C.ended)return C.length===0&&V(this),null;var J=C.needReadable;c("need readable",J),(C.length===0||C.length-M<C.highWaterMark)&&(J=!0,c("length less than watermark",J)),C.ended||C.reading?(J=!1,c("reading or ended",J)):J&&(c("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(M=g(q,C)));var fe;return M>0?fe=B(M,C):fe=null,fe===null?(C.needReadable=C.length<=C.highWaterMark,M=0):(C.length-=M,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),q!==M&&C.ended&&V(this)),fe!==null&&this.emit("data",fe),fe};function m(M,C){if(c("onEofChunk"),!C.ended){if(C.decoder){var q=C.decoder.end();q&&q.length&&(C.buffer.push(q),C.length+=C.objectMode?1:q.length)}C.ended=!0,C.sync?E(M):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,S(M)))}}function E(M){var C=M._readableState;c("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(c("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(S,M))}function S(M){var C=M._readableState;c("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(M.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,k(M)}function T(M,C){C.readingMore||(C.readingMore=!0,process.nextTick(L,M,C))}function L(M,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var q=C.length;if(c("maybeReadMore read 0"),M.read(0),q===C.length)break}C.readingMore=!1}Z.prototype._read=function(M){U(this,new F("_read()"))},Z.prototype.pipe=function(M,C){var q=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=M;break;case 1:J.pipes=[J.pipes,M];break;default:J.pipes.push(M);break}J.pipesCount+=1,c("pipe count=%d opts=%j",J.pipesCount,C);var fe=(!C||C.end!==!1)&&M!==process.stdout&&M!==process.stderr,ye=fe?Se:Ce;J.endEmitted?process.nextTick(ye):q.once("end",ye),M.on("unpipe",ae);function ae(b,f){c("onunpipe"),b===q&&f&&f.hasUnpiped===!1&&(f.hasUnpiped=!0,Ie())}function Se(){c("onend"),M.end()}var Pt=_(q);M.on("drain",Pt);var Ae=!1;function Ie(){c("cleanup"),M.removeListener("close",Te),M.removeListener("finish",ct),M.removeListener("drain",Pt),M.removeListener("error",Me),M.removeListener("unpipe",ae),q.removeListener("end",Se),q.removeListener("end",Ce),q.removeListener("data",ot),Ae=!0,J.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&Pt()}q.on("data",ot);function ot(b){c("ondata");var f=M.write(b);c("dest.write",f),f===!1&&((J.pipesCount===1&&J.pipes===M||J.pipesCount>1&&ge(J.pipes,M)!==-1)&&!Ae&&(c("false write response, pause",J.awaitDrain),J.awaitDrain++),q.pause())}function Me(b){c("onerror",b),Ce(),M.removeListener("error",Me),e(M,"error")===0&&U(M,b)}ee(M,"error",Me);function Te(){M.removeListener("finish",ct),Ce()}M.once("close",Te);function ct(){c("onfinish"),M.removeListener("close",Te),Ce()}M.once("finish",ct);function Ce(){c("unpipe"),q.unpipe(M)}return M.emit("pipe",q),J.flowing||(c("pipe resume"),q.resume()),M};function _(M){return function(){var q=M._readableState;c("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&e(M,"data")&&(q.flowing=!0,k(M))}}Z.prototype.unpipe=function(M){var C=this._readableState,q={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return M&&M!==C.pipes?this:(M||(M=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,M&&M.emit("unpipe",this,q),this);if(!M){var J=C.pipes,fe=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ye=0;ye<fe;ye++)J[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=ge(C.pipes,M);return ae===-1?this:(C.pipes.splice(ae,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),M.emit("unpipe",this,q),this)},Z.prototype.on=function(M,C){var q=r.prototype.on.call(this,M,C),J=this._readableState;return M==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):M==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,c("on readable",J.length,J.reading),J.length?E(this):J.reading||process.nextTick(R,this)),q},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(M,C){var q=r.prototype.removeListener.call(this,M,C);return M==="readable"&&process.nextTick(d,this),q},Z.prototype.removeAllListeners=function(M){var C=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&process.nextTick(d,this),C};function d(M){var C=M._readableState;C.readableListening=M.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:M.listenerCount("data")>0&&M.resume()}function R(M){c("readable nexttick read 0"),M.read(0)}Z.prototype.resume=function(){var M=this._readableState;return M.flowing||(c("resume"),M.flowing=!M.readableListening,Y(this,M)),M.paused=!1,this};function Y(M,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(X,M,C))}function X(M,C){c("resume",C.reading),C.reading||M.read(0),C.resumeScheduled=!1,M.emit("resume"),k(M),C.flowing&&!C.reading&&M.read(0)}Z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function k(M){var C=M._readableState;for(c("flow",C.flowing);C.flowing&&M.read()!==null;);}Z.prototype.wrap=function(M){var C=this,q=this._readableState,J=!1;M.on("end",function(){if(c("wrapped end"),q.decoder&&!q.ended){var ae=q.decoder.end();ae&&ae.length&&C.push(ae)}C.push(null)}),M.on("data",function(ae){if(c("wrapped data"),q.decoder&&(ae=q.decoder.write(ae)),!(q.objectMode&&ae==null)&&!(!q.objectMode&&(!ae||!ae.length))){var Se=C.push(ae);Se||(J=!0,M.pause())}});for(var fe in M)this[fe]===void 0&&typeof M[fe]=="function"&&(this[fe]=function(Se){return function(){return M[Se].apply(M,arguments)}}(fe));for(var ye=0;ye<z.length;ye++)M.on(z[ye],this.emit.bind(this,z[ye]));return this._read=function(ae){c("wrapped _read",ae),J&&(J=!1,M.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=Jv()),D(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),Z._fromList=B,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(M,C){if(C.length===0)return null;var q;return C.objectMode?q=C.buffer.shift():!M||M>=C.length?(C.decoder?q=C.buffer.join(""):C.buffer.length===1?q=C.buffer.first():q=C.buffer.concat(C.length),C.buffer.clear()):q=C.buffer.consume(M,C.decoder),q}function V(M){var C=M._readableState;c("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick(Q,C,M))}function Q(M,C){if(c("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,C.readable=!1,C.emit("end"),M.autoDestroy)){var q=C._writableState;(!q||q.autoDestroy&&q.finished)&&C.destroy()}}typeof Symbol=="function"&&(Z.from=function(M,C){return H===void 0&&(H=Zv()),H(Z,M,C)});function ge(M,C){for(var q=0,J=M.length;q<J;q++)if(M[q]===C)return q;return-1}return Na}var sd=Er,yo=Mn.codes,Qv=yo.ERR_METHOD_NOT_IMPLEMENTED,Yv=yo.ERR_MULTIPLE_CALLBACK,Kv=yo.ERR_TRANSFORM_ALREADY_TRANSFORMING,Xv=yo.ERR_TRANSFORM_WITH_LENGTH_0,bo=si();er(Er,bo);function em(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Yv);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Er(t){if(!(this instanceof Er))return new Er(t);bo.call(this,t),this._transformState={afterTransform:em.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",tm)}function tm(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){$l(t,e,r)}):$l(this,null,null)}Er.prototype.push=function(t,e){return this._transformState.needTransform=!1,bo.prototype.push.call(this,t,e)};Er.prototype._transform=function(t,e,r){r(new Qv("_transform()"))};Er.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Er.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Er.prototype._destroy=function(t,e){bo.prototype._destroy.call(this,t,function(r){e(r)})};function $l(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Xv;if(t._transformState.transforming)throw new Kv;return t.push(null)}var rm=qi,od=sd;er(qi,od);function qi(t){if(!(this instanceof qi))return new qi(t);od.call(this,t)}qi.prototype._transform=function(t,e,r){r(null,t)};var La;function nm(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ad=Mn.codes,im=ad.ERR_MISSING_ARGS,sm=ad.ERR_STREAM_DESTROYED;function Fl(t){if(t)throw t}function om(t){return t.setHeader&&typeof t.abort=="function"}function am(t,e,r,n){n=nm(n);var i=!1;t.on("close",function(){i=!0}),La===void 0&&(La=Ju),La(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,om(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new sm("pipe"))}}}function jl(t){t()}function um(t,e){return t.pipe(e)}function cm(t){return!t.length||typeof t[t.length-1]!="function"?Fl:t.pop()}function lm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=cm(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new im("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return am(o,c,l,function(p){i||(i=p),p&&s.forEach(jl),!c&&(s.forEach(jl),n(i))})});return e.reduce(um)}var fm=lm;(function(t,e){e=t.exports=id(),e.Stream=e,e.Readable=e,e.Writable=rd(),e.Duplex=si(),e.Transform=sd,e.PassThrough=rm,e.finished=Ju,e.pipeline=fm})(vu,vu.exports);var ud=vu.exports;const{Transform:hm}=ud;var dm=t=>class cd extends hm{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new cd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:pm}=ud;var gm=t=>class ld extends pm{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new ld(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const ym=dm,bm=gm;var vm=function(t){const e=ym(t),r=bm(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},mm=vm(Ov);const wm=mm,_m=ao;function fd(t){return Buffer.allocUnsafe(t).fill(0)}function hd(t,e,r){const n=fd(e);return t=vo(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Em(t,e){return hd(t,e,!0)}function vo(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")dd(t)?t=Buffer.from(Mm(pd(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(_m.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Sm(t){return t=vo(t),"0x"+t.toString("hex")}function xm(t,e){return t=vo(t),e||(e=256),wm("keccak"+e).update(t).digest()}function Mm(t){return t.length%2?"0"+t:t}function dd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function pd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var gd={zeros:fd,setLength:hd,setLengthRight:Em,isHexString:dd,stripHexPrefix:pd,toBuffer:vo,bufferToHex:Sm,keccak:xm};const yn=gd,fn=ao;function yd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Yn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ul(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function bd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function an(t){var e=typeof t;if(e==="string")return yn.isHexString(t)?new fn(yn.stripHexPrefix(t),16):new fn(t,10);if(e==="number")return new fn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ar(t,e){var r,n,i,s;if(t==="address")return ar("uint160",an(e));if(t==="bool")return ar("uint8",e?1:0);if(t==="string")return ar("bytes",new Buffer(e,"utf8"));if(Im(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=bd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ar(t,e[s]));if(r==="dynamic"){var o=ar("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ar("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,yn.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Yn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return yn.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Yn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=an(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Yn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=an(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ul(t),n=an(e),n<0)throw new Error("Supplied ufixed is negative");return ar("uint256",n.mul(new fn(2).pow(new fn(r[1]))))}else if(t.startsWith("fixed"))return r=Ul(t),ar("int256",an(e).mul(new fn(2).pow(new fn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Cm(t){return t==="string"||t==="bytes"||bd(t)==="dynamic"}function Im(t){return t.lastIndexOf("]")===t.length-1}function Rm(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=yd(t[s]),a=e[s],c=ar(o,a);Cm(o)?(r.push(ar("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function vd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=yd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(yn.setLength(a,20));else if(o.startsWith("bytes")){if(r=Yn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(yn.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Yn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=an(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Yn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=an(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Am(t,e){return yn.keccak(vd(t,e))}var Tm={rawEncode:Rm,solidityPack:vd,soliditySHA3:Am};const Qt=gd,Ui=Tm,md={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Pa={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Qt.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Qt.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Qt.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const p=c.slice(0,c.lastIndexOf("[")),y=l.map(v=>o(a,p,v));return["bytes32",Qt.keccak(Ui.rawEncode(y.map(([v])=>v),y.map(([,v])=>v)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Qt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Qt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Qt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ui.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Qt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Qt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in md.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Qt.keccak(Buffer.concat(n))}};var Om={TYPED_MESSAGE_SCHEMA:md,TypedDataUtils:Pa,hashForSignTypedDataLegacy:function(t){return km(t.data)},hashForSignTypedData_v3:function(t){return Pa.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Pa.hash(t.data)}};function km(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Qt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Ui.soliditySHA3(["bytes32","bytes32"],[Ui.soliditySHA3(new Array(t.length).fill("string"),i),Ui.soliditySHA3(n,r)])}var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.filterFromParam=oi.FilterPolyfill=void 0;const qn=is,xt=re,Nm=5*60*1e3,un={jsonrpc:"2.0",id:0};class Lm{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,qn.IntNumber)(1),this.provider=e}async newFilter(e){const r=wd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,xt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,xt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,xt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Ms())}async getFilterLogs(e){const r=(0,xt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getLogs",params:[Wl(n)]})):Ms()}makeFilterId(){return(0,qn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Ms();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Cs();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getLogs",params:[Wl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,xt.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,qn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Ms();const n=await this.getCurrentBlockHeight();if(r>n)return Cs();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,xt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,qn.IntNumber)(o))))).filter(o=>!!o),s=(0,qn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},un),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Cs())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Nm);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_blockNumber",params:[]}));return(0,xt.intNumberFromHexString)((0,xt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getBlockByNumber",params:[(0,xt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,xt.ensureHexString)(r.result.hash):null}}oi.FilterPolyfill=Lm;function wd(t){return{fromBlock:Hl(t.fromBlock),toBlock:Hl(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}oi.filterFromParam=wd;function Wl(t){const e={fromBlock:Vl(t.fromBlock),toBlock:Vl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Hl(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,qn.IntNumber)(0);if((0,xt.isHexString)(t))return(0,xt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Vl(t){return t==="latest"?t:(0,xt.hexStringFromIntNumber)(t)}function Ms(){return Object.assign(Object.assign({},un),{error:{code:-32e3,message:"filter not found"}})}function Cs(){return Object.assign(Object.assign({},un),{result:[]})}var _d={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(_d);var mo={},Ed={},wo={},Zu=Pm;function Pm(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const zl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Bm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):zl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?zl(s,e):s}return n},as={},Dm=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});as.BaseBlockTracker=void 0;const $m=Dm(_n),Fm=1e3,jm=(t,e)=>t+e,ql=["sync","latest"];class Um extends $m.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Fm,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){ql.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ql.map(e=>this.listenerCount(e)).reduce(jm)}_newPotentialLatest(e){const r=this._currentBlock;r&&Gl(e)<=Gl(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}as.BaseBlockTracker=Um;function Gl(t){return Number.parseInt(t,16)}var Sd={},xd={},vt={};class Md extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Wm(t){return zt(t)&&typeof t[Symbol.iterator]=="function"}function zt(t){return typeof t=="object"&&t!=null}function Jl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ut(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Hm(t){const{done:e,value:r}=t.next();return e?void 0:r}function Vm(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ut(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*wu(t,e,r,n){Wm(t)||(t=[t]);for(const i of t){const s=Vm(i,e,r,n);s&&(yield s)}}function*Qu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&zt(e.schema)&&zt(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,p,y]of e.entries(t,a)){const v=Qu(p,y,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,p],coerce:s,mask:o,message:r.message});for(const A of v)A[0]?(c=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):s&&(p=A[1],l===void 0?t=p:t instanceof Map?t.set(l,p):t instanceof Set?t.add(p):zt(t)&&(p!==void 0||l in t)&&(t[l]=p))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class it{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const p=i(c,l);return wu(p,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const p=s(c,l);return wu(p,l,this,c)}:this.refiner=()=>[]}assert(e,r){return Cd(e,this,r)}create(e,r){return Id(e,this,r)}is(e){return Yu(e,this)}mask(e,r){return Rd(e,this,r)}validate(e,r={}){return Ei(e,this,r)}}function Cd(t,e,r){const n=Ei(t,e,{message:r});if(n[0])throw n[0]}function Id(t,e,r){const n=Ei(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Rd(t,e,r){const n=Ei(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Yu(t,e){return!Ei(t,e)[0]}function Ei(t,e,r={}){const n=Qu(t,e,r),i=Hm(n);return i[0]?[new Md(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function zm(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Xu(n):us(n)}function Tt(t,e){return new it({type:t,schema:null,validator:e})}function qm(t,e){return new it({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Gm(t){return new it({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Jm(t){let e;return new it({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Zm(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Xu(n);default:return us(n)}}function Qm(t){const e=t instanceof it?{...t.schema}:{...t};for(const r in e)e[r]=Ad(e[r]);return us(e)}function Ym(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return us(n)}function Km(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Tt(t,e)}function Xm(){return Tt("any",()=>!0)}function e1(t){return new it({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ut(e)}`}})}function t1(){return Tt("bigint",t=>typeof t=="bigint")}function r1(){return Tt("boolean",t=>typeof t=="boolean")}function n1(){return Tt("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ut(t)}`)}function i1(t){const e={},r=t.map(n=>ut(n)).join();for(const n of t)e[n]=n;return new it({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${ut(n)}`}})}function s1(){return Tt("func",t=>typeof t=="function"||`Expected a function, but received: ${ut(t)}`)}function o1(t){return Tt("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ut(e)}`)}function a1(){return Tt("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ut(t)}`)}function u1(t){return new it({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function c1(t){const e=ut(t),r=typeof t;return new it({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ut(n)}`}})}function l1(t,e){return new it({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ut(r)}`}})}function Ku(){return Tt("never",()=>!1)}function f1(t){return new it({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function h1(){return Tt("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ut(t)}`)}function us(t){const e=t?Object.keys(t):[],r=Ku();return new it({type:"object",schema:t||null,*entries(n){if(t&&zt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return zt(n)||`Expected an object, but received: ${ut(n)}`},coercer(n){return zt(n)?{...n}:n}})}function Ad(t){return new it({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function d1(t,e){return new it({type:"record",schema:null,*entries(r){if(zt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return zt(r)||`Expected an object, but received: ${ut(r)}`}})}function p1(){return Tt("regexp",t=>t instanceof RegExp)}function g1(t){return new it({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ut(e)}`}})}function Td(){return Tt("string",t=>typeof t=="string"||`Expected a string, but received: ${ut(t)}`)}function y1(t){const e=Ku();return new it({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ut(r)}`}})}function Xu(t){const e=Object.keys(t);return new it({type:"type",schema:t,*entries(r){if(zt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return zt(r)||`Expected an object, but received: ${ut(r)}`},coercer(r){return zt(r)?{...r}:r}})}function b1(t){const e=t.map(r=>r.type).join(" | ");return new it({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Qu(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ut(r)}`,...i]}})}function Od(){return Tt("unknown",()=>!0)}function ec(t,e,r){return new it({...t,coercer:(n,i)=>Yu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function v1(t,e,r={}){return ec(t,Od(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Jl(n)&&Jl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function m1(t){return ec(t,Td(),e=>e.trim())}function w1(t){return Cn(t,"empty",e=>{const r=kd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function kd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function _1(t,e,r={}){const{exclusive:n}=r;return Cn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function E1(t,e,r={}){const{exclusive:n}=r;return Cn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function S1(t){return Cn(t,"nonempty",e=>kd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function x1(t,e){return Cn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function M1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Cn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Cn(t,e,r){return new it({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=wu(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const C1=Object.freeze(Object.defineProperty({__proto__:null,Struct:it,StructError:Md,any:Xm,array:e1,assert:Cd,assign:zm,bigint:t1,boolean:r1,coerce:ec,create:Id,date:n1,defaulted:v1,define:Tt,deprecated:qm,dynamic:Gm,empty:w1,enums:i1,func:s1,instance:o1,integer:a1,intersection:u1,is:Yu,lazy:Jm,literal:c1,map:l1,mask:Rd,max:_1,min:E1,never:Ku,nonempty:S1,nullable:f1,number:h1,object:us,omit:Zm,optional:Ad,partial:Qm,pattern:x1,pick:Ym,record:d1,refine:Cn,regexp:p1,set:g1,size:M1,string:Td,struct:Km,trimmed:m1,tuple:y1,type:Xu,union:b1,unknown:Od,validate:Ei},Symbol.toStringTag,{value:"Module"})),In=wn(C1);Object.defineProperty(vt,"__esModule",{value:!0});vt.assertExhaustive=vt.assertStruct=vt.assert=vt.AssertionError=void 0;const I1=In;function R1(t){return typeof t=="object"&&t!==null&&"message"in t}function A1(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function T1(t){const e=R1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Nd(t,e){return A1(t)?new t({message:e}):t({message:e})}class tc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}vt.AssertionError=tc;function O1(t,e="Assertion failed.",r=tc){if(!t)throw e instanceof Error?e:Nd(r,e)}vt.assert=O1;function k1(t,e,r="Assertion failed",n=tc){try{(0,I1.assert)(t,e)}catch(i){throw Nd(n,`${r}: ${T1(i)}.`)}}vt.assertStruct=k1;function N1(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}vt.assertExhaustive=N1;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.base64=void 0;const L1=In,P1=vt,B1=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,P1.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,L1.pattern)(t,a)};cs.base64=B1;var Ee={},ls={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=In,r=vt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(ls);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createDataView=Ee.concatBytes=Ee.valueToBytes=Ee.stringToBytes=Ee.numberToBytes=Ee.signedBigIntToBytes=Ee.bigIntToBytes=Ee.hexToBytes=Ee.bytesToString=Ee.bytesToNumber=Ee.bytesToSignedBigInt=Ee.bytesToBigInt=Ee.bytesToHex=Ee.assertIsBytes=Ee.isBytes=void 0;const kt=vt,_u=ls,Zl=48,Ql=58,Yl=87;function D1(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const $1=D1();function rc(t){return t instanceof Uint8Array}Ee.isBytes=rc;function Si(t){(0,kt.assert)(rc(t),"Value must be a Uint8Array.")}Ee.assertIsBytes=Si;function Ld(t){if(Si(t),t.length===0)return"0x";const e=$1(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,_u.add0x)(r.join(""))}Ee.bytesToHex=Ld;function Pd(t){Si(t);const e=Ld(t);return BigInt(e)}Ee.bytesToBigInt=Pd;function F1(t){Si(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}Ee.bytesToSignedBigInt=F1;function j1(t){Si(t);const e=Pd(t);return(0,kt.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Ee.bytesToNumber=j1;function U1(t){return Si(t),new TextDecoder().decode(t)}Ee.bytesToString=U1;function _o(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,_u.assertIsHexString)(t);const r=(0,_u.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Ql?Zl:Yl),l=a-(a<Ql?Zl:Yl);i[s]=c*16+l}return i}Ee.hexToBytes=_o;function Bd(t){(0,kt.assert)(typeof t=="bigint","Value must be a bigint."),(0,kt.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return _o(e)}Ee.bigIntToBytes=Bd;function W1(t,e){(0,kt.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function H1(t,e){(0,kt.assert)(typeof t=="bigint","Value must be a bigint."),(0,kt.assert)(typeof e=="number","Byte length must be a number."),(0,kt.assert)(e>0,"Byte length must be greater than 0."),(0,kt.assert)(W1(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Ee.signedBigIntToBytes=H1;function Dd(t){(0,kt.assert)(typeof t=="number","Value must be a number."),(0,kt.assert)(t>=0,"Value must be a non-negative number."),(0,kt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return _o(e)}Ee.numberToBytes=Dd;function $d(t){return(0,kt.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Ee.stringToBytes=$d;function Fd(t){if(typeof t=="bigint")return Bd(t);if(typeof t=="number")return Dd(t);if(typeof t=="string")return t.startsWith("0x")?_o(t):$d(t);if(rc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Ee.valueToBytes=Fd;function V1(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Fd(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}Ee.concatBytes=V1;function z1(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Ee.createDataView=z1;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ChecksumStruct=void 0;const Kl=In,q1=cs;Eo.ChecksumStruct=(0,Kl.size)((0,q1.base64)((0,Kl.string)(),{paddingRequired:!0}),44,44);var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.createHex=hr.createBytes=hr.createBigInt=hr.createNumber=void 0;const Xe=In,G1=vt,jd=Ee,So=ls,Ud=(0,Xe.union)([(0,Xe.number)(),(0,Xe.bigint)(),(0,Xe.string)(),So.StrictHexStruct]),J1=(0,Xe.coerce)((0,Xe.number)(),Ud,Number),Z1=(0,Xe.coerce)((0,Xe.bigint)(),Ud,BigInt);(0,Xe.union)([So.StrictHexStruct,(0,Xe.instance)(Uint8Array)]);const Q1=(0,Xe.coerce)((0,Xe.instance)(Uint8Array),(0,Xe.union)([So.StrictHexStruct]),jd.hexToBytes),Y1=(0,Xe.coerce)(So.StrictHexStruct,(0,Xe.instance)(Uint8Array),jd.bytesToHex);function K1(t){try{const e=(0,Xe.create)(t,J1);return(0,G1.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}hr.createNumber=K1;function X1(t){try{return(0,Xe.create)(t,Z1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}hr.createBigInt=X1;function ew(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Xe.create)(t,Q1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createBytes=ew;function tw(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Xe.create)(t,Y1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createHex=tw;var ai={},Wd=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Mt=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Jt,ir;Object.defineProperty(ai,"__esModule",{value:!0});ai.FrozenSet=ai.FrozenMap=void 0;class nc{constructor(e){Jt.set(this,void 0),Wd(this,Jt,new Map(e),"f"),Object.freeze(this)}get size(){return Mt(this,Jt,"f").size}[(Jt=new WeakMap,Symbol.iterator)](){return Mt(this,Jt,"f")[Symbol.iterator]()}entries(){return Mt(this,Jt,"f").entries()}forEach(e,r){return Mt(this,Jt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Mt(this,Jt,"f").get(e)}has(e){return Mt(this,Jt,"f").has(e)}keys(){return Mt(this,Jt,"f").keys()}values(){return Mt(this,Jt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}ai.FrozenMap=nc;class ic{constructor(e){ir.set(this,void 0),Wd(this,ir,new Set(e),"f"),Object.freeze(this)}get size(){return Mt(this,ir,"f").size}[(ir=new WeakMap,Symbol.iterator)](){return Mt(this,ir,"f")[Symbol.iterator]()}entries(){return Mt(this,ir,"f").entries()}forEach(e,r){return Mt(this,ir,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Mt(this,ir,"f").has(e)}keys(){return Mt(this,ir,"f").keys()}values(){return Mt(this,ir,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}ai.FrozenSet=ic;Object.freeze(nc);Object.freeze(nc.prototype);Object.freeze(ic);Object.freeze(ic.prototype);var Hd={},sc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,p)=>Object.hasOwnProperty.call(l,p);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let p=l;for(;Object.getPrototypeOf(p)!==null;)p=Object.getPrototypeOf(p);return Object.getPrototypeOf(l)===p}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var p;return l.split("").reduce((v,A)=>o(A)?v+1:v+2,0)+((p=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&p!==void 0?p:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(sc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=In,r=vt,n=sc;t.JsonStruct=(0,e.define)("Json",U=>{const[z]=H(U,!0);return z?!0:"Expected a valid JSON-serializable value"});function i(U){return(0,e.is)(U,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(U){return(0,e.is)(U,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(U,z){(0,r.assertStruct)(U,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",z)}t.assertIsJsonRpcNotification=o;function a(U){return(0,e.is)(U,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(U,z){(0,r.assertStruct)(U,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",z)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(U){return(0,e.is)(U,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function p(U,z){(0,r.assertStruct)(U,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",z)}t.assertIsPendingJsonRpcResponse=p;function y(U){return(0,e.is)(U,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=y;function v(U,z){(0,r.assertStruct)(U,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",z)}t.assertIsJsonRpcResponse=v;function A(U){return(0,e.is)(U,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=A;function O(U,z){(0,r.assertStruct)(U,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",z)}t.assertIsJsonRpcSuccess=O;function j(U){return(0,e.is)(U,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=j;function F(U,z){(0,r.assertStruct)(U,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",z)}t.assertIsJsonRpcFailure=F;function I(U){return(0,e.is)(U,t.JsonRpcErrorStruct)}t.isJsonRpcError=I;function N(U,z){(0,r.assertStruct)(U,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",z)}t.assertIsJsonRpcError=N;function D(U){const{permitEmptyString:z,permitFractions:ee,permitNull:K}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},U);return se=>!!(typeof se=="number"&&(ee||Number.isInteger(se))||typeof se=="string"&&(z||se.length>0)||K&&se===null)}t.getJsonRpcIdValidator=D;function H(U,z=!1){const ee=new Set;function K(Z,se){if(Z===void 0)return[!1,0];if(Z===null)return[!0,se?0:n.JsonSize.Null];const ne=typeof Z;try{if(ne==="function")return[!1,0];if(ne==="string"||Z instanceof String)return[!0,se?0:(0,n.calculateStringSize)(Z)+n.JsonSize.Quote*2];if(ne==="boolean"||Z instanceof Boolean)return se?[!0,0]:[!0,Z==!0?n.JsonSize.True:n.JsonSize.False];if(ne==="number"||Z instanceof Number)return se?[!0,0]:[!0,(0,n.calculateNumberSize)(Z)];if(Z instanceof Date)return se?[!0,0]:[!0,isNaN(Z.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(Z)&&!Array.isArray(Z))return[!1,0];if(ee.has(Z))return[!1,0];ee.add(Z);try{return[!0,Object.entries(Z).reduce((oe,[w,u],g,m)=>{let[E,S]=K(u,se);if(!E)throw new Error("JSON validation did not pass. Validation process stopped.");if(ee.delete(Z),se)return 0;const T=Array.isArray(Z)?0:w.length+n.JsonSize.Comma+n.JsonSize.Colon*2,L=g<m.length-1?n.JsonSize.Comma:0;return oe+T+S+L},se?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return K(U,z)}t.validateJsonAndGetSize=H})(Hd);var ui={},Eu={exports:{}},Ba,Xl;function rw(){if(Xl)return Ba;Xl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ba=function(p,y){y=y||{};var v=typeof p;if(v==="string"&&p.length>0)return o(p);if(v==="number"&&isFinite(p))return y.long?c(p):a(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function o(p){if(p=String(p),!(p.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(y){var v=parseFloat(y[1]),A=(y[2]||"ms").toLowerCase();switch(A){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*e;case"seconds":case"second":case"secs":case"sec":case"s":return v*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function a(p){var y=Math.abs(p);return y>=n?Math.round(p/n)+"d":y>=r?Math.round(p/r)+"h":y>=e?Math.round(p/e)+"m":y>=t?Math.round(p/t)+"s":p+"ms"}function c(p){var y=Math.abs(p);return y>=n?l(p,y,n,"day"):y>=r?l(p,y,r,"hour"):y>=e?l(p,y,e,"minute"):y>=t?l(p,y,t,"second"):p+" ms"}function l(p,y,v,A){var O=y>=v*1.5;return Math.round(p/v)+" "+A+(O?"s":"")}return Ba}function nw(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=rw(),r.destroy=l,Object.keys(t).forEach(p=>{r[p]=t[p]}),r.names=[],r.skips=[],r.formatters={};function e(p){let y=0;for(let v=0;v<p.length;v++)y=(y<<5)-y+p.charCodeAt(v),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=e;function r(p){let y,v=null,A,O;function j(...F){if(!j.enabled)return;const I=j,N=Number(new Date),D=N-(y||N);I.diff=D,I.prev=y,I.curr=N,y=N,F[0]=r.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let H=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(z,ee)=>{if(z==="%%")return"%";H++;const K=r.formatters[ee];if(typeof K=="function"){const Z=F[H];z=K.call(I,Z),F.splice(H,1),H--}return z}),r.formatArgs.call(I,F),(I.log||r.log).apply(I,F)}return j.namespace=p,j.useColors=r.useColors(),j.color=r.selectColor(p),j.extend=n,j.destroy=r.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(A!==r.namespaces&&(A=r.namespaces,O=r.enabled(p)),O),set:F=>{v=F}}),typeof r.init=="function"&&r.init(j),j}function n(p,y){const v=r(this.namespace+(typeof y>"u"?":":y)+p);return v.log=this.log,v}function i(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let y;const v=(typeof p=="string"?p:"").split(/[\s,]+/),A=v.length;for(y=0;y<A;y++)v[y]&&(p=v[y].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.slice(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function s(){const p=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let y,v;for(y=0,v=r.skips.length;y<v;y++)if(r.skips[y].test(p))return!1;for(y=0,v=r.names.length;y<v;y++)if(r.names[y].test(p))return!0;return!1}function a(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function c(p){return p instanceof Error?p.stack||p.message:p}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var iw=nw;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;l.splice(1,0,p,"color: inherit");let y=0,v=0;l[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(y++,A==="%c"&&(v=y))}),l.splice(v,0,p)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=iw(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(Eu,Eu.exports);var sw=Eu.exports,ow=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});ui.createModuleLogger=ui.createProjectLogger=void 0;const aw=ow(sw),uw=(0,aw.default)("metamask");function cw(t){return uw.extend(t)}ui.createProjectLogger=cw;function lw(t,e){return t.extend(e)}ui.createModuleLogger=lw;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.hexToBigInt=dr.hexToNumber=dr.bigIntToHex=dr.numberToHex=void 0;const Kn=vt,Gi=ls,fw=t=>((0,Kn.assert)(typeof t=="number","Value must be a number."),(0,Kn.assert)(t>=0,"Value must be a non-negative number."),(0,Kn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Gi.add0x)(t.toString(16)));dr.numberToHex=fw;const hw=t=>((0,Kn.assert)(typeof t=="bigint","Value must be a bigint."),(0,Kn.assert)(t>=0,"Value must be a non-negative bigint."),(0,Gi.add0x)(t.toString(16)));dr.bigIntToHex=hw;const dw=t=>{(0,Gi.assertIsHexString)(t);const e=parseInt(t,16);return(0,Kn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};dr.hexToNumber=dw;const pw=t=>((0,Gi.assertIsHexString)(t),BigInt((0,Gi.add0x)(t)));dr.hexToBigInt=pw;var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});var zd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(zd);var qd={},Su={exports:{}};const gw="2.0.0",Gd=256,yw=Number.MAX_SAFE_INTEGER||9007199254740991,bw=16,vw=Gd-6,mw=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var xo={MAX_LENGTH:Gd,MAX_SAFE_COMPONENT_LENGTH:bw,MAX_SAFE_BUILD_LENGTH:vw,MAX_SAFE_INTEGER:yw,RELEASE_TYPES:mw,SEMVER_SPEC_VERSION:gw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Da={};const ww=typeof process=="object"&&Da&&Da.NODE_DEBUG&&/\bsemver\b/i.test(Da.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Mo=ww;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=xo,s=Mo;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.t={};let p=0;const y="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",i],[y,n]],A=j=>{for(const[F,I]of v)j=j.split(`${F}*`).join(`${F}{0,${I}}`).split(`${F}+`).join(`${F}{1,${I}}`);return j},O=(j,F,I)=>{const N=A(F),D=p++;s(j,D,F),l[j]=D,c[D]=F,o[D]=new RegExp(F,I?"g":void 0),a[D]=new RegExp(N,I?"g":void 0)};O("NUMERICIDENTIFIER","0|[1-9]\\d*"),O("NUMERICIDENTIFIERLOOSE","\\d+"),O("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),O("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),O("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),O("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),O("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),O("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),O("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),O("BUILDIDENTIFIER",`${y}+`),O("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),O("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),O("FULL",`^${c[l.FULLPLAIN]}$`),O("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),O("LOOSE",`^${c[l.LOOSEPLAIN]}$`),O("GTLT","((?:<|>)?=?)"),O("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),O("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),O("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),O("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),O("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),O("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),O("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),O("COERCERTL",c[l.COERCE],!0),O("LONETILDE","(?:~>?)"),O("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",O("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),O("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),O("LONECARET","(?:\\^)"),O("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",O("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),O("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),O("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),O("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),O("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",O("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),O("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),O("STAR","(<|>)?=?\\s*\\*"),O("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),O("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Su,Su.exports);var fs=Su.exports;const _w=Object.freeze({loose:!0}),Ew=Object.freeze({}),Sw=t=>t?typeof t!="object"?_w:t:Ew;var oc=Sw;const ef=/^[0-9]+$/,Jd=(t,e)=>{const r=ef.test(t),n=ef.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},xw=(t,e)=>Jd(e,t);var Zd={compareIdentifiers:Jd,rcompareIdentifiers:xw};const Is=Mo,{MAX_LENGTH:tf,MAX_SAFE_INTEGER:Rs}=xo,{safeRe:rf,t:nf}=fs,Mw=oc,{compareIdentifiers:jn}=Zd;let Cw=class or{constructor(e,r){if(r=Mw(r),e instanceof or){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>tf)throw new TypeError(`version is longer than ${tf} characters`);Is("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?rf[nf.LOOSE]:rf[nf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Rs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Rs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Rs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Rs)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Is("SemVer.compare",this.version,this.options,e),!(e instanceof or)){if(typeof e=="string"&&e===this.version)return 0;e=new or(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof or||(e=new or(e,this.options)),jn(this.major,e.major)||jn(this.minor,e.minor)||jn(this.patch,e.patch)}comparePre(e){if(e instanceof or||(e=new or(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Is("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}compareBuild(e){e instanceof or||(e=new or(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Is("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),jn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Rt=Cw;const sf=Rt,Iw=(t,e,r=!1)=>{if(t instanceof sf)return t;try{return new sf(t,e)}catch(n){if(!r)return null;throw n}};var xi=Iw;const Rw=xi,Aw=(t,e)=>{const r=Rw(t,e);return r?r.version:null};var Tw=Aw;const Ow=xi,kw=(t,e)=>{const r=Ow(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Nw=kw;const of=Rt,Lw=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new of(t instanceof of?t.version:t,r).inc(e,n,i).version}catch{return null}};var Pw=Lw;const af=xi,Bw=(t,e)=>{const r=af(t,null,!0),n=af(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const p=c?"pre":"";return r.major!==n.major?p+"major":r.minor!==n.minor?p+"minor":r.patch!==n.patch?p+"patch":"prerelease"};var Dw=Bw;const $w=Rt,Fw=(t,e)=>new $w(t,e).major;var jw=Fw;const Uw=Rt,Ww=(t,e)=>new Uw(t,e).minor;var Hw=Ww;const Vw=Rt,zw=(t,e)=>new Vw(t,e).patch;var qw=zw;const Gw=xi,Jw=(t,e)=>{const r=Gw(t,e);return r&&r.prerelease.length?r.prerelease:null};var Zw=Jw;const uf=Rt,Qw=(t,e,r)=>new uf(t,r).compare(new uf(e,r));var tr=Qw;const Yw=tr,Kw=(t,e,r)=>Yw(e,t,r);var Xw=Kw;const e_=tr,t_=(t,e)=>e_(t,e,!0);var r_=t_;const cf=Rt,n_=(t,e,r)=>{const n=new cf(t,r),i=new cf(e,r);return n.compare(i)||n.compareBuild(i)};var ac=n_;const i_=ac,s_=(t,e)=>t.sort((r,n)=>i_(r,n,e));var o_=s_;const a_=ac,u_=(t,e)=>t.sort((r,n)=>a_(n,r,e));var c_=u_;const l_=tr,f_=(t,e,r)=>l_(t,e,r)>0;var Co=f_;const h_=tr,d_=(t,e,r)=>h_(t,e,r)<0;var uc=d_;const p_=tr,g_=(t,e,r)=>p_(t,e,r)===0;var Qd=g_;const y_=tr,b_=(t,e,r)=>y_(t,e,r)!==0;var Yd=b_;const v_=tr,m_=(t,e,r)=>v_(t,e,r)>=0;var cc=m_;const w_=tr,__=(t,e,r)=>w_(t,e,r)<=0;var lc=__;const E_=Qd,S_=Yd,x_=Co,M_=cc,C_=uc,I_=lc,R_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return E_(t,r,n);case"!=":return S_(t,r,n);case">":return x_(t,r,n);case">=":return M_(t,r,n);case"<":return C_(t,r,n);case"<=":return I_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Kd=R_;const A_=Rt,T_=xi,{safeRe:As,t:Ts}=fs,O_=(t,e)=>{if(t instanceof A_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(As[Ts.COERCE]);else{let n;for(;(n=As[Ts.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),As[Ts.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;As[Ts.COERCERTL].lastIndex=-1}return r===null?null:T_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var k_=O_,$a,lf;function N_(){return lf||(lf=1,$a=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),$a}var L_=xe;xe.Node=bn;xe.create=xe;function xe(t){var e=this;if(e instanceof xe||(e=new xe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}xe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};xe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};xe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};xe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)B_(this,arguments[t]);return this.length};xe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)D_(this,arguments[t]);return this.length};xe.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};xe.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};xe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};xe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};xe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};xe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};xe.prototype.map=function(t,e){e=e||this;for(var r=new xe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};xe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new xe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};xe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};xe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};xe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};xe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};xe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};xe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};xe.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=P_(this,i,r[n]);return s};xe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function P_(t,e,r){var n=e===t.head?new bn(r,null,e,t):new bn(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function B_(t,e){t.tail=new bn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function D_(t,e){t.head=new bn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bn(t,e,r,n){if(!(this instanceof bn))return new bn(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{N_()(xe)}catch{}const $_=L_,cn=Symbol("max"),wr=Symbol("length"),Un=Symbol("lengthCalculator"),Wi=Symbol("allowStale"),hn=Symbol("maxAge"),br=Symbol("dispose"),ff=Symbol("noDisposeOnSet"),ht=Symbol("lruList"),Yt=Symbol("cache"),Xd=Symbol("updateAgeOnGet"),Fa=()=>1;class F_{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[cn]=e.max||1/0;const r=e.length||Fa;if(this[Un]=typeof r!="function"?Fa:r,this[Wi]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[hn]=e.maxAge||0,this[br]=e.dispose,this[ff]=e.noDisposeOnSet||!1,this[Xd]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[cn]=e||1/0,Oi(this)}get max(){return this[cn]}set allowStale(e){this[Wi]=!!e}get allowStale(){return this[Wi]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[hn]=e,Oi(this)}get maxAge(){return this[hn]}set lengthCalculator(e){typeof e!="function"&&(e=Fa),e!==this[Un]&&(this[Un]=e,this[wr]=0,this[ht].forEach(r=>{r.length=this[Un](r.value,r.key),this[wr]+=r.length})),Oi(this)}get lengthCalculator(){return this[Un]}get length(){return this[wr]}get itemCount(){return this[ht].length}rforEach(e,r){r=r||this;for(let n=this[ht].tail;n!==null;){const i=n.prev;hf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ht].head;n!==null;){const i=n.next;hf(this,e,n,r),n=i}}keys(){return this[ht].toArray().map(e=>e.key)}values(){return this[ht].toArray().map(e=>e.value)}reset(){this[br]&&this[ht]&&this[ht].length&&this[ht].forEach(e=>this[br](e.key,e.value)),this[Yt]=new Map,this[ht]=new $_,this[wr]=0}dump(){return this[ht].map(e=>Js(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ht]}set(e,r,n){if(n=n||this[hn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Un](r,e);if(this[Yt].has(e)){if(s>this[cn])return Xn(this,this[Yt].get(e)),!1;const c=this[Yt].get(e).value;return this[br]&&(this[ff]||this[br](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[wr]+=s-c.length,c.length=s,this.get(e),Oi(this),!0}const o=new j_(e,r,s,i,n);return o.length>this[cn]?(this[br]&&this[br](e,r),!1):(this[wr]+=o.length,this[ht].unshift(o),this[Yt].set(e,this[ht].head),Oi(this),!0)}has(e){if(!this[Yt].has(e))return!1;const r=this[Yt].get(e).value;return!Js(this,r)}get(e){return ja(this,e,!0)}peek(e){return ja(this,e,!1)}pop(){const e=this[ht].tail;return e?(Xn(this,e),e.value):null}del(e){Xn(this,this[Yt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Yt].forEach((e,r)=>ja(this,r,!1))}}const ja=(t,e,r)=>{const n=t[Yt].get(e);if(n){const i=n.value;if(Js(t,i)){if(Xn(t,n),!t[Wi])return}else r&&(t[Xd]&&(n.value.now=Date.now()),t[ht].unshiftNode(n));return i.value}},Js=(t,e)=>{if(!e||!e.maxAge&&!t[hn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[hn]&&r>t[hn]},Oi=t=>{if(t[wr]>t[cn])for(let e=t[ht].tail;t[wr]>t[cn]&&e!==null;){const r=e.prev;Xn(t,e),e=r}},Xn=(t,e)=>{if(e){const r=e.value;t[br]&&t[br](r.key,r.value),t[wr]-=r.length,t[Yt].delete(r.key),t[ht].removeNode(e)}};class j_{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const hf=(t,e,r,n)=>{let i=r.value;Js(t,i)&&(Xn(t,r),t[Wi]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var U_=F_,Ua,df;function rr(){if(df)return Ua;df=1;class t{constructor(u,g){if(g=n(g),u instanceof t)return u.loose===!!g.loose&&u.includePrerelease===!!g.includePrerelease?u:new t(u.raw,g);if(u instanceof i)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(m=>this.parseRange(m.trim())).filter(m=>m.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const m=this.set[0];if(this.set=this.set.filter(E=>!O(E[0])),this.set.length===0)this.set=[m];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&j(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const m=((this.options.includePrerelease&&v)|(this.options.loose&&A))+":"+u,E=r.get(m);if(E)return E;const S=this.options.loose,T=S?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];u=u.replace(T,ne(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(a[c.COMPARATORTRIM],l),s("comparator trim",u),u=u.replace(a[c.TILDETRIM],p),s("tilde trim",u),u=u.replace(a[c.CARETTRIM],y),s("caret trim",u);let L=u.split(" ").map(Y=>I(Y,this.options)).join(" ").split(/\s+/).map(Y=>se(Y,this.options));S&&(L=L.filter(Y=>(s("loose invalid filter",Y,this.options),!!Y.match(a[c.COMPARATORLOOSE])))),s("range list",L);const _=new Map,d=L.map(Y=>new i(Y,this.options));for(const Y of d){if(O(Y))return[Y];_.set(Y.value,Y)}_.size>1&&_.has("")&&_.delete("");const R=[..._.values()];return r.set(m,R),R}intersects(u,g){if(!(u instanceof t))throw new TypeError("a Range is required");return this.set.some(m=>F(m,g)&&u.set.some(E=>F(E,g)&&m.every(S=>E.every(T=>S.intersects(T,g)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}for(let g=0;g<this.set.length;g++)if(oe(this.set[g],u,this.options))return!0;return!1}}Ua=t;const e=U_,r=new e({max:1e3}),n=oc,i=Io(),s=Mo,o=Rt,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:p,caretTrimReplace:y}=fs,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:A}=xo,O=w=>w.value==="<0.0.0-0",j=w=>w.value==="",F=(w,u)=>{let g=!0;const m=w.slice();let E=m.pop();for(;g&&m.length;)g=m.every(S=>E.intersects(S,u)),E=m.pop();return g},I=(w,u)=>(s("comp",w,u),w=U(w,u),s("caret",w),w=D(w,u),s("tildes",w),w=ee(w,u),s("xrange",w),w=Z(w,u),s("stars",w),w),N=w=>!w||w.toLowerCase()==="x"||w==="*",D=(w,u)=>w.trim().split(/\s+/).map(g=>H(g,u)).join(" "),H=(w,u)=>{const g=u.loose?a[c.TILDELOOSE]:a[c.TILDE];return w.replace(g,(m,E,S,T,L)=>{s("tilde",w,m,E,S,T,L);let _;return N(E)?_="":N(S)?_=`>=${E}.0.0 <${+E+1}.0.0-0`:N(T)?_=`>=${E}.${S}.0 <${E}.${+S+1}.0-0`:L?(s("replaceTilde pr",L),_=`>=${E}.${S}.${T}-${L} <${E}.${+S+1}.0-0`):_=`>=${E}.${S}.${T} <${E}.${+S+1}.0-0`,s("tilde return",_),_})},U=(w,u)=>w.trim().split(/\s+/).map(g=>z(g,u)).join(" "),z=(w,u)=>{s("caret",w,u);const g=u.loose?a[c.CARETLOOSE]:a[c.CARET],m=u.includePrerelease?"-0":"";return w.replace(g,(E,S,T,L,_)=>{s("caret",w,E,S,T,L,_);let d;return N(S)?d="":N(T)?d=`>=${S}.0.0${m} <${+S+1}.0.0-0`:N(L)?S==="0"?d=`>=${S}.${T}.0${m} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.0${m} <${+S+1}.0.0-0`:_?(s("replaceCaret pr",_),S==="0"?T==="0"?d=`>=${S}.${T}.${L}-${_} <${S}.${T}.${+L+1}-0`:d=`>=${S}.${T}.${L}-${_} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.${L}-${_} <${+S+1}.0.0-0`):(s("no pr"),S==="0"?T==="0"?d=`>=${S}.${T}.${L}${m} <${S}.${T}.${+L+1}-0`:d=`>=${S}.${T}.${L}${m} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.${L} <${+S+1}.0.0-0`),s("caret return",d),d})},ee=(w,u)=>(s("replaceXRanges",w,u),w.split(/\s+/).map(g=>K(g,u)).join(" ")),K=(w,u)=>{w=w.trim();const g=u.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return w.replace(g,(m,E,S,T,L,_)=>{s("xRange",w,m,E,S,T,L,_);const d=N(S),R=d||N(T),Y=R||N(L),X=Y;return E==="="&&X&&(E=""),_=u.includePrerelease?"-0":"",d?E===">"||E==="<"?m="<0.0.0-0":m="*":E&&X?(R&&(T=0),L=0,E===">"?(E=">=",R?(S=+S+1,T=0,L=0):(T=+T+1,L=0)):E==="<="&&(E="<",R?S=+S+1:T=+T+1),E==="<"&&(_="-0"),m=`${E+S}.${T}.${L}${_}`):R?m=`>=${S}.0.0${_} <${+S+1}.0.0-0`:Y&&(m=`>=${S}.${T}.0${_} <${S}.${+T+1}.0-0`),s("xRange return",m),m})},Z=(w,u)=>(s("replaceStars",w,u),w.trim().replace(a[c.STAR],"")),se=(w,u)=>(s("replaceGTE0",w,u),w.trim().replace(a[u.includePrerelease?c.GTE0PRE:c.GTE0],"")),ne=w=>(u,g,m,E,S,T,L,_,d,R,Y,X,k)=>(N(m)?g="":N(E)?g=`>=${m}.0.0${w?"-0":""}`:N(S)?g=`>=${m}.${E}.0${w?"-0":""}`:T?g=`>=${g}`:g=`>=${g}${w?"-0":""}`,N(d)?_="":N(R)?_=`<${+d+1}.0.0-0`:N(Y)?_=`<${d}.${+R+1}.0-0`:X?_=`<=${d}.${R}.${Y}-${X}`:w?_=`<${d}.${R}.${+Y+1}-0`:_=`<=${_}`,`${g} ${_}`.trim()),oe=(w,u,g)=>{for(let m=0;m<w.length;m++)if(!w[m].test(u))return!1;if(u.prerelease.length&&!g.includePrerelease){for(let m=0;m<w.length;m++)if(s(w[m].semver),w[m].semver!==i.ANY&&w[m].semver.prerelease.length>0){const E=w[m].semver;if(E.major===u.major&&E.minor===u.minor&&E.patch===u.patch)return!0}return!1}return!0};return Ua}var Wa,pf;function Io(){if(pf)return Wa;pf=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(p,y){if(y=r(y),p instanceof e){if(p.loose===!!y.loose)return p;p=p.value}p=p.trim().split(/\s+/).join(" "),o("comparator",p,y),this.options=y,this.loose=!!y.loose,this.parse(p),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(p){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=p.match(y);if(!v)throw new TypeError(`Invalid comparator: ${p}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new a(v[2],this.options.loose):this.semver=t}toString(){return this.value}test(p){if(o("Comparator.test",p,this.options.loose),this.semver===t||p===t)return!0;if(typeof p=="string")try{p=new a(p,this.options)}catch{return!1}return s(p,this.operator,this.semver,this.options)}intersects(p,y){if(!(p instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(p.value,y).test(this.value):p.operator===""?p.value===""?!0:new c(this.value,y).test(p.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||p.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||p.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&p.operator.startsWith(">")||this.operator.startsWith("<")&&p.operator.startsWith("<")||this.semver.version===p.semver.version&&this.operator.includes("=")&&p.operator.includes("=")||s(this.semver,"<",p.semver,y)&&this.operator.startsWith(">")&&p.operator.startsWith("<")||s(this.semver,">",p.semver,y)&&this.operator.startsWith("<")&&p.operator.startsWith(">")))}}Wa=e;const r=oc,{safeRe:n,t:i}=fs,s=Kd,o=Mo,a=Rt,c=rr();return Wa}const W_=rr(),H_=(t,e,r)=>{try{e=new W_(e,r)}catch{return!1}return e.test(t)};var Ro=H_;const V_=rr(),z_=(t,e)=>new V_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var q_=z_;const G_=Rt,J_=rr(),Z_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new J_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new G_(n,r))}),n};var Q_=Z_;const Y_=Rt,K_=rr(),X_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new K_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Y_(n,r))}),n};var e2=X_;const Ha=Rt,t2=rr(),gf=Co,r2=(t,e)=>{t=new t2(t,e);let r=new Ha("0.0.0");if(t.test(r)||(r=new Ha("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Ha(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||gf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||gf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var n2=r2;const i2=rr(),s2=(t,e)=>{try{return new i2(t,e).range||"*"}catch{return null}};var o2=s2;const a2=Rt,ep=Io(),{ANY:u2}=ep,c2=rr(),l2=Ro,yf=Co,bf=uc,f2=lc,h2=cc,d2=(t,e,r,n)=>{t=new a2(t,n),e=new c2(e,n);let i,s,o,a,c;switch(r){case">":i=yf,s=f2,o=bf,a=">",c=">=";break;case"<":i=bf,s=h2,o=yf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l2(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const p=e.set[l];let y=null,v=null;if(p.forEach(A=>{A.semver===u2&&(A=new ep(">=0.0.0")),y=y||A,v=v||A,i(A.semver,y.semver,n)?y=A:o(A.semver,v.semver,n)&&(v=A)}),y.operator===a||y.operator===c||(!v.operator||v.operator===a)&&s(t,v.semver))return!1;if(v.operator===c&&o(t,v.semver))return!1}return!0};var fc=d2;const p2=fc,g2=(t,e,r)=>p2(t,e,">",r);var y2=g2;const b2=fc,v2=(t,e,r)=>b2(t,e,"<",r);var m2=v2;const vf=rr(),w2=(t,e,r)=>(t=new vf(t,r),e=new vf(e,r),t.intersects(e,r));var _2=w2;const E2=Ro,S2=tr;var x2=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((p,y)=>S2(p,y,r));for(const p of o)E2(p,e,r)?(s=p,i||(i=p)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[p,y]of n)p===y?a.push(p):!y&&p===o[0]?a.push("*"):y?p===o[0]?a.push(`<=${y}`):a.push(`${p} - ${y}`):a.push(`>=${p}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const mf=rr(),hc=Io(),{ANY:Va}=hc,ki=Ro,dc=tr,M2=(t,e,r={})=>{if(t===e)return!0;t=new mf(t,r),e=new mf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=I2(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},C2=[new hc(">=0.0.0-0")],wf=[new hc(">=0.0.0")],I2=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Va){if(e.length===1&&e[0].semver===Va)return!0;r.includePrerelease?t=C2:t=wf}if(e.length===1&&e[0].semver===Va){if(r.includePrerelease)return!0;e=wf}const n=new Set;let i,s;for(const A of t)A.operator===">"||A.operator===">="?i=_f(i,A,r):A.operator==="<"||A.operator==="<="?s=Ef(s,A,r):n.add(A.semver);if(n.size>1)return null;let o;if(i&&s){if(o=dc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const A of n){if(i&&!ki(A,String(i),r)||s&&!ki(A,String(s),r))return null;for(const O of e)if(!ki(A,String(O),r))return!1;return!0}let a,c,l,p,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const A of e){if(p=p||A.operator===">"||A.operator===">=",l=l||A.operator==="<"||A.operator==="<=",i){if(v&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===v.major&&A.semver.minor===v.minor&&A.semver.patch===v.patch&&(v=!1),A.operator===">"||A.operator===">="){if(a=_f(i,A,r),a===A&&a!==i)return!1}else if(i.operator===">="&&!ki(i.semver,String(A),r))return!1}if(s){if(y&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===y.major&&A.semver.minor===y.minor&&A.semver.patch===y.patch&&(y=!1),A.operator==="<"||A.operator==="<="){if(c=Ef(s,A,r),c===A&&c!==s)return!1}else if(s.operator==="<="&&!ki(s.semver,String(A),r))return!1}if(!A.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&p&&!i&&o!==0||v||y)},_f=(t,e,r)=>{if(!t)return e;const n=dc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ef=(t,e,r)=>{if(!t)return e;const n=dc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var R2=M2;const za=fs,Sf=xo,A2=Rt,xf=Zd,T2=xi,O2=Tw,k2=Nw,N2=Pw,L2=Dw,P2=jw,B2=Hw,D2=qw,$2=Zw,F2=tr,j2=Xw,U2=r_,W2=ac,H2=o_,V2=c_,z2=Co,q2=uc,G2=Qd,J2=Yd,Z2=cc,Q2=lc,Y2=Kd,K2=k_,X2=Io(),eE=rr(),tE=Ro,rE=q_,nE=Q_,iE=e2,sE=n2,oE=o2,aE=fc,uE=y2,cE=m2,lE=_2,fE=x2,hE=R2;var dE={parse:T2,valid:O2,clean:k2,inc:N2,diff:L2,major:P2,minor:B2,patch:D2,prerelease:$2,compare:F2,rcompare:j2,compareLoose:U2,compareBuild:W2,sort:H2,rsort:V2,gt:z2,lt:q2,eq:G2,neq:J2,gte:Z2,lte:Q2,cmp:Y2,coerce:K2,Comparator:X2,Range:eE,satisfies:tE,toComparators:rE,maxSatisfying:nE,minSatisfying:iE,minVersion:sE,validRange:oE,outside:aE,gtr:uE,ltr:cE,intersects:lE,simplifyRange:fE,subset:hE,SemVer:A2,re:za.re,src:za.src,tokens:za.t,SEMVER_SPEC_VERSION:Sf.SEMVER_SPEC_VERSION,RELEASE_TYPES:Sf.RELEASE_TYPES,compareIdentifiers:xf.compareIdentifiers,rcompareIdentifiers:xf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=dE,r=In,n=vt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",y=>(0,e.valid)(y)===null?`Expected SemVer version, got "${y}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",y=>(0,e.validRange)(y)===null?`Expected SemVer range, got "${y}"`:!0);function i(y){return(0,r.is)(y,t.VersionStruct)}t.isValidSemVerVersion=i;function s(y){return(0,r.is)(y,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(y){(0,n.assertStruct)(y,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(y){(0,n.assertStruct)(y,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(y,v){return(0,e.gt)(y,v)}t.gtVersion=c;function l(y,v){return(0,e.gtr)(y,v)}t.gtRange=l;function p(y,v){return(0,e.satisfies)(y,v,{includePrerelease:!0})}t.satisfiesVersionRange=p})(qd);(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vt,t),r(cs,t),r(Ee,t),r(Eo,t),r(hr,t),r(ai,t),r(ls,t),r(Hd,t),r(ui,t),r(sc,t),r(dr,t),r(Vd,t),r(zd,t),r(qd,t)})(xd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=xd;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Sd);var tp=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wo,"__esModule",{value:!0});wo.PollingBlockTracker=void 0;const pE=tp(Zu),gE=tp(Bm),yE=as,Mf=Sd,Cf=(0,Mf.createModuleLogger)(Mf.projectLogger,"polling-block-tracker"),bE=(0,pE.default)(),vE=1e3;class mE extends yE.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*vE,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=If(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=If(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:bE(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Cf("Making request",e);const r=await(0,gE.default)(n=>this._provider.sendAsync(e,n))();if(Cf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}wo.PollingBlockTracker=mE;function If(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ao={},wE=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.SubscribeBlockTracker=void 0;const _E=wE(Zu),EE=as,SE=(0,_E.default)();class xE extends EE.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:SE(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Ao.SubscribeBlockTracker=xE;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wo,t),r(Ao,t),r(rp,t)})(Ed);var pc={},To={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.getUniqueId=void 0;const np=4294967295;let qa=Math.floor(Math.random()*np);function ME(){return qa=(qa+1)%np,qa}hs.getUniqueId=ME;Object.defineProperty(To,"__esModule",{value:!0});To.createIdRemapMiddleware=void 0;const CE=hs;function IE(){return(t,e,r,n)=>{const i=t.id,s=CE.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}To.createIdRemapMiddleware=IE;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.createAsyncMiddleware=void 0;function RE(t){return async(e,r,n,i)=>{let s;const o=new Promise(p=>{s=p});let a=null,c=!1;const l=async()=>{c=!0,n(p=>{a=p,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(p){a?a(p):i(p)}}}Oo.createAsyncMiddleware=RE;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.createScaffoldMiddleware=void 0;function AE(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}ko.createScaffoldMiddleware=AE;var ds={},ip={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.EthereumProviderError=Pr.EthereumRpcError=void 0;const TE=ch;class sp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return TE.default(this.serialize(),NE,2)}}Pr.EthereumRpcError=sp;class OE extends sp{constructor(e,r,n){if(!kE(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Pr.EthereumProviderError=OE;function kE(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function NE(t,e){if(e!=="[Circular]")return e}var gc={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.errorValues=Br.errorCodes=void 0;Br.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Br.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Br,r=Pr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(v,A=i){if(Number.isInteger(v)){const O=v.toString();if(y(e.errorValues,O))return e.errorValues[O].message;if(l(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return A}t.getMessageFromCode=o;function a(v){if(!Number.isInteger(v))return!1;const A=v.toString();return!!(e.errorValues[A]||l(v))}t.isValidCode=a;function c(v,{fallbackError:A=s,shouldIncludeStack:O=!1}={}){var j,F;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const I={};if(v&&typeof v=="object"&&!Array.isArray(v)&&y(v,"code")&&a(v.code)){const D=v;I.code=D.code,D.message&&typeof D.message=="string"?(I.message=D.message,y(D,"data")&&(I.data=D.data)):(I.message=o(I.code),I.data={originalError:p(v)})}else{I.code=A.code;const D=(j=v)===null||j===void 0?void 0:j.message;I.message=D&&typeof D=="string"?D:A.message,I.data={originalError:p(v)}}const N=(F=v)===null||F===void 0?void 0:F.stack;return O&&v&&N&&typeof N=="string"&&(I.stack=N),I}t.serializeError=c;function l(v){return v>=-32099&&v<=-32e3}function p(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function y(v,A){return Object.prototype.hasOwnProperty.call(v,A)}})(gc);var No={};Object.defineProperty(No,"__esModule",{value:!0});No.ethErrors=void 0;const yc=Pr,op=gc,wt=Br;No.ethErrors={rpc:{parse:t=>Dt(wt.errorCodes.rpc.parse,t),invalidRequest:t=>Dt(wt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Dt(wt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Dt(wt.errorCodes.rpc.methodNotFound,t),internal:t=>Dt(wt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Dt(e,t)},invalidInput:t=>Dt(wt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Dt(wt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Dt(wt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Dt(wt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Dt(wt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Dt(wt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ni(wt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ni(wt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ni(wt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ni(wt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ni(wt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new yc.EthereumProviderError(e,r,n)}}};function Dt(t,e){const[r,n]=ap(e);return new yc.EthereumRpcError(t,r||op.getMessageFromCode(t),n)}function Ni(t,e){const[r,n]=ap(e);return new yc.EthereumProviderError(t,r||op.getMessageFromCode(t),n)}function ap(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Pr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=gc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=No;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Br;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ip);var LE=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});ds.JsonRpcEngine=void 0;const PE=LE(_n),$t=ip;class vr extends PE.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await vr._runAllMiddleware(e,r,this._middleware);return o?(await vr._runReturnHandlers(a),i(s)):n(async c=>{try{await vr._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new $t.EthereumRpcError($t.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new $t.EthereumRpcError($t.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=$t.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await vr._runAllMiddleware(e,r,this._middleware);if(vr._checkForCompletion(e,r,i),await vr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await vr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=$t.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new $t.EthereumRpcError($t.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ga(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new $t.EthereumRpcError($t.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ga(e)}`,{request:e});if(!n)throw new $t.EthereumRpcError($t.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ga(e)}`,{request:e})}}ds.JsonRpcEngine=vr;function Ga(t){return JSON.stringify(t,null,2)}var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.mergeMiddleware=void 0;const BE=ds;function DE(t){const e=new BE.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Lo.mergeMiddleware=DE;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(To,t),r(Oo,t),r(ko,t),r(hs,t),r(ds,t),r(Lo,t)})(pc);var up={},bc={},xu=function(t,e){return xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xu(t,e)};function cp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zs=function(){return Zs=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zs.apply(this,arguments)};function lp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fp(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function hp(t,e){return function(r,n){e(r,n,t)}}function $E(t,e,r,n,i,s){function o(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,p=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),y,v=!1,A=r.length-1;A>=0;A--){var O={};for(var j in n)O[j]=j==="access"?{}:n[j];for(var j in n.access)O.access[j]=n.access[j];O.addInitializer=function(I){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(I||null))};var F=(0,r[A])(a==="accessor"?{get:p.get,set:p.set}:p[c],O);if(a==="accessor"){if(F===void 0)continue;if(F===null||typeof F!="object")throw new TypeError("Object expected");(y=o(F.get))&&(p.get=y),(y=o(F.set))&&(p.set=y),(y=o(F.init))&&i.unshift(y)}else(y=o(F))&&(a==="field"?i.unshift(y):p[c]=y)}l&&Object.defineProperty(l,n.name,p),v=!0}function FE(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function jE(t){return typeof t=="symbol"?t:"".concat(t)}function UE(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function dp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pp(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{l(n.next(p))}catch(y){o(y)}}function c(p){try{l(n.throw(p))}catch(y){o(y)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function gp(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Po=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function yp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Po(e,t,r)}function Qs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function bp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vc(arguments[e]));return t}function vp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function mp(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function wp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){n[v]&&(i[v]=function(A){return new Promise(function(O,j){s.push([v,A,O,j])>1||a(v,A)})})}function a(v,A){try{c(n[v](A))}catch(O){y(s[0][3],O)}}function c(v){v.value instanceof ci?Promise.resolve(v.value.v).then(l,p):y(s[0][2],v)}function l(v){a("next",v)}function p(v){a("throw",v)}function y(v,A){v(A),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _p(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ci(t[i](o)),done:!1}:s?s(o):o}:s}}function Ep(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Qs=="function"?Qs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Sp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var WE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function xp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Po(e,t,r);return WE(e,t),e}function Mp(t){return t&&t.__esModule?t:{default:t}}function Cp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Ip(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Rp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ap(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var HE=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Tp(t){function e(n){t.error=t.hasError?new HE(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}const VE={__extends:cp,__assign:Zs,__rest:lp,__decorate:fp,__param:hp,__metadata:dp,__awaiter:pp,__generator:gp,__createBinding:Po,__exportStar:yp,__values:Qs,__read:vc,__spread:bp,__spreadArrays:vp,__spreadArray:mp,__await:ci,__asyncGenerator:wp,__asyncDelegator:_p,__asyncValues:Ep,__makeTemplateObject:Sp,__importStar:xp,__importDefault:Mp,__classPrivateFieldGet:Cp,__classPrivateFieldSet:Ip,__classPrivateFieldIn:Rp,__addDisposableResource:Ap,__disposeResources:Tp},zE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ap,get __assign(){return Zs},__asyncDelegator:_p,__asyncGenerator:wp,__asyncValues:Ep,__await:ci,__awaiter:pp,__classPrivateFieldGet:Cp,__classPrivateFieldIn:Rp,__classPrivateFieldSet:Ip,__createBinding:Po,__decorate:fp,__disposeResources:Tp,__esDecorate:$E,__exportStar:yp,__extends:cp,__generator:gp,__importDefault:Mp,__importStar:xp,__makeTemplateObject:Sp,__metadata:dp,__param:hp,__propKey:jE,__read:vc,__rest:lp,__runInitializers:FE,__setFunctionName:UE,__spread:bp,__spreadArray:mp,__spreadArrays:vp,__values:Qs,default:VE},Symbol.toStringTag,{value:"Module"})),mc=wn(zE);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});var Rf=mc,qE=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Rf.__awaiter(this,void 0,void 0,function(){var r,n,i;return Rf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Bo.default=qE;Object.defineProperty(bc,"__esModule",{value:!0});var Af=mc,GE=Bo,JE=function(){function t(){this._semaphore=new GE.default(1)}return t.prototype.acquire=function(){return Af.__awaiter(this,void 0,void 0,function(){var e,r;return Af.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();bc.default=JE;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.withTimeout=void 0;var Os=mc;function ZE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Os.__awaiter(n,void 0,void 0,function(){var o,a,c;return Os.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Os.__awaiter(this,void 0,void 0,function(){var s,o;return Os.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Do.withTimeout=ZE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=bc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Bo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Do;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(up);var QE=KE,YE=Object.prototype.hasOwnProperty;function KE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)YE.call(r,n)&&(t[n]=r[n])}return t}const XE=QE,eS=Zu();var tS=pe;function pe(t){const e=this;e.currentProvider=t}pe.prototype.getBalance=ps(2,"eth_getBalance");pe.prototype.getCode=ps(2,"eth_getCode");pe.prototype.getTransactionCount=ps(2,"eth_getTransactionCount");pe.prototype.getStorageAt=ps(3,"eth_getStorageAt");pe.prototype.call=ps(2,"eth_call");pe.prototype.protocolVersion=me("eth_protocolVersion");pe.prototype.syncing=me("eth_syncing");pe.prototype.coinbase=me("eth_coinbase");pe.prototype.mining=me("eth_mining");pe.prototype.hashrate=me("eth_hashrate");pe.prototype.gasPrice=me("eth_gasPrice");pe.prototype.accounts=me("eth_accounts");pe.prototype.blockNumber=me("eth_blockNumber");pe.prototype.getBlockTransactionCountByHash=me("eth_getBlockTransactionCountByHash");pe.prototype.getBlockTransactionCountByNumber=me("eth_getBlockTransactionCountByNumber");pe.prototype.getUncleCountByBlockHash=me("eth_getUncleCountByBlockHash");pe.prototype.getUncleCountByBlockNumber=me("eth_getUncleCountByBlockNumber");pe.prototype.sign=me("eth_sign");pe.prototype.sendTransaction=me("eth_sendTransaction");pe.prototype.sendRawTransaction=me("eth_sendRawTransaction");pe.prototype.estimateGas=me("eth_estimateGas");pe.prototype.getBlockByHash=me("eth_getBlockByHash");pe.prototype.getBlockByNumber=me("eth_getBlockByNumber");pe.prototype.getTransactionByHash=me("eth_getTransactionByHash");pe.prototype.getTransactionByBlockHashAndIndex=me("eth_getTransactionByBlockHashAndIndex");pe.prototype.getTransactionByBlockNumberAndIndex=me("eth_getTransactionByBlockNumberAndIndex");pe.prototype.getTransactionReceipt=me("eth_getTransactionReceipt");pe.prototype.getUncleByBlockHashAndIndex=me("eth_getUncleByBlockHashAndIndex");pe.prototype.getUncleByBlockNumberAndIndex=me("eth_getUncleByBlockNumberAndIndex");pe.prototype.getCompilers=me("eth_getCompilers");pe.prototype.compileLLL=me("eth_compileLLL");pe.prototype.compileSolidity=me("eth_compileSolidity");pe.prototype.compileSerpent=me("eth_compileSerpent");pe.prototype.newFilter=me("eth_newFilter");pe.prototype.newBlockFilter=me("eth_newBlockFilter");pe.prototype.newPendingTransactionFilter=me("eth_newPendingTransactionFilter");pe.prototype.uninstallFilter=me("eth_uninstallFilter");pe.prototype.getFilterChanges=me("eth_getFilterChanges");pe.prototype.getFilterLogs=me("eth_getFilterLogs");pe.prototype.getLogs=me("eth_getLogs");pe.prototype.getWork=me("eth_getWork");pe.prototype.submitWork=me("eth_submitWork");pe.prototype.submitHashrate=me("eth_submitHashrate");pe.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(rS(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function me(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ps(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function rS(t){return XE({id:eS(),jsonrpc:"2.0",params:[]},t)}const Tf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,p)=>{l?a(l):o(p)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Of=new WeakMap;var nS=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Of.get(o);if(c||(c={},Of.set(o,c)),a in c)return c[a];const l=O=>typeof O=="string"||typeof a=="symbol"?a===O:O.test(a),p=Reflect.getOwnPropertyDescriptor(o,a),y=p===void 0||p.writable||p.configurable,A=(e.include?e.include.some(l):!e.exclude.some(l))&&y;return c[a]=A,A},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const p=e.excludeMain?o:Tf(o,e,s,o);return i.set(o,p),Reflect.apply(p,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const p=Tf(c,e,s,o);return i.set(c,p),p}return c}});return s};const iS=_n.default;let sS=class extends iS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var wc=sS;const oS=wc;let aS=class extends oS{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var uS=aS,gs={minBlockRef:cS,maxBlockRef:lS,sortBlockRefs:_c,bnToHex:fS,blockRefIsNumber:hS,hexToInt:Ys,incrementHexInt:dS,intToHex:Op,unsafeRandomBytes:pS};function cS(...t){return _c(t)[0]}function lS(...t){const e=_c(t);return e[e.length-1]}function _c(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Ys(e)-Ys(r))}function fS(t){return"0x"+t.toString(16)}function hS(t){return t&&!["earliest","latest","pending"].includes(t)}function Ys(t){return t==null?t:Number.parseInt(t,16)}function dS(t){if(t==null)return t;const e=Ys(t);return Op(e+1)}function Op(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function pS(t){let e="0x";for(let r=0;r<t;r++)e+=kf(),e+=kf();return e}function kf(){return Math.floor(Math.random()*16).toString(16)}const gS=tS,yS=nS,bS=uS,{bnToHex:_6,hexToInt:ks,incrementHexInt:vS,minBlockRef:mS,blockRefIsNumber:wS}=gs;let _S=class extends bS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new gS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=mS(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=vS(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await yS(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(ks(this.params.fromBlock)>=ks(e.blockNumber)||wS(this.params.toBlock)&&ks(this.params.toBlock)<=ks(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(p=>p.toLowerCase()),a.includes(o))})}};var ES=_S,Ec=SS;async function SS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Nf(e),s=Nf(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(xS);return await Promise.all(o.map(c=>CS(t,"eth_getBlockByNumber",[c,!1])))}function Nf(t){return t==null?t:Number.parseInt(t,16)}function xS(t){return t==null?t:"0x"+t.toString(16)}function MS(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function CS(t,e,r){for(let n=0;n<3;n++)try{return await MS(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const IS=wc,RS=Ec,{incrementHexInt:AS}=gs;let TS=class extends IS{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=AS(e),o=(await RS({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var OS=TS;const kS=wc,NS=Ec,{incrementHexInt:LS}=gs;let PS=class extends kS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=LS(e),i=await NS({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var BS=PS;const DS=up.Mutex,{createAsyncMiddleware:$S,createScaffoldMiddleware:FS}=pc,jS=ES,US=OS,WS=BS,{intToHex:kp,hexToInt:Ja}=gs;var HS=VS;function VS({blockTracker:t,provider:e}){let r=0,n={};const i=new DS,s=zS({mutex:i}),o=FS({eth_newFilter:s(Za(c)),eth_newBlockFilter:s(Za(l)),eth_newPendingTransactionFilter:s(Za(p)),eth_uninstallFilter:s(js(A)),eth_getFilterChanges:s(js(y)),eth_getFilterLogs:s(js(v))}),a=async({oldBlock:N,newBlock:D})=>{if(n.length===0)return;const H=await i.acquire();try{await Promise.all(Wn(n).map(async U=>{try{await U.update({oldBlock:N,newBlock:D})}catch(z){console.error(z)}}))}catch(U){console.error(U)}H()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=p,o.uninstallFilter=A,o.getFilterChanges=y,o.getFilterLogs=v,o.destroy=()=>{F()},o;async function c(N){const D=new jS({provider:e,params:N});return await O(D),D}async function l(){const N=new US({provider:e});return await O(N),N}async function p(){const N=new WS({provider:e});return await O(N),N}async function y(N){const D=Ja(N),H=n[D];if(!H)throw new Error(`No filter for index "${D}"`);return H.getChangesAndClear()}async function v(N){const D=Ja(N),H=n[D];if(!H)throw new Error(`No filter for index "${D}"`);let U=[];return H.type==="log"&&(U=H.getAllResults()),U}async function A(N){const D=Ja(N),U=!!n[D];return U&&await j(D),U}async function O(N){const D=Wn(n).length,H=await t.getLatestBlock();await N.initialize({currentBlock:H}),r++,n[r]=N,N.id=r,N.idHex=kp(r);const U=Wn(n).length;return I({prevFilterCount:D,newFilterCount:U}),r}async function j(N){const D=Wn(n).length;delete n[N];const H=Wn(n).length;I({prevFilterCount:D,newFilterCount:H})}async function F(){const N=Wn(n).length;n={},I({prevFilterCount:N,newFilterCount:0})}function I({prevFilterCount:N,newFilterCount:D}){if(N===0&&D>0){t.on("sync",a);return}if(N>0&&D===0){t.removeListener("sync",a);return}}}function Za(t){return js(async(...e)=>{const r=await t(...e);return kp(r.id)})}function js(t){return $S(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function zS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Wn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const qS=_n.default,{createAsyncMiddleware:Lf,createScaffoldMiddleware:GS}=pc,JS=HS,{unsafeRandomBytes:ZS,incrementHexInt:QS}=gs,YS=Ec;var KS=XS;function XS({blockTracker:t,provider:e}){const r={},n=JS({blockTracker:t,provider:e});let i=!1;const s=new qS,o=GS({eth_subscribe:Lf(a),eth_unsubscribe:Lf(c)});return o.destroy=p,{events:s,middleware:o};async function a(y,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=y.params[0],O=ZS(16);let j;switch(A){case"newHeads":j=F({subId:O});break;case"logs":const N=y.params[1],D=await n.newLogFilter(N);j=I({subId:O,filter:D});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${A}"`)}r[O]=j,v.result=O;return;function F({subId:N}){const D={type:A,destroy:async()=>{t.removeListener("sync",D.update)},update:async({oldBlock:H,newBlock:U})=>{const z=U,ee=QS(H);(await YS({provider:e,fromBlock:ee,toBlock:z})).map(e3).filter(se=>se!==null).forEach(se=>{l(N,se)})}};return t.on("sync",D.update),D}function I({subId:N,filter:D}){return D.on("update",U=>l(N,U)),{type:A,destroy:async()=>await n.uninstallFilter(D.idHex)}}}async function c(y,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=y.params[0],O=r[A];if(!O){v.result=!1;return}delete r[A],await O.destroy(),v.result=!0}function l(y,v){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:y,result:v}})}function p(){s.removeAllListeners();for(const y in r)r[y].destroy(),delete r[y];i=!0}}function e3(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(mo,"__esModule",{value:!0});mo.SubscriptionManager=void 0;const t3=Ed,r3=KS,Pf=()=>{};class n3{constructor(e){const r=new t3.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=r3({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Pf,Pf),r}destroy(){this.subscriptionMiddleware.destroy()}}mo.SubscriptionManager=n3;var Sc=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});ti.CoinbaseWalletProvider=void 0;const i3=Sc(_n),s3=Sc(ao),Qa=yi,ke=Yi,Bf=vi,Df=Xt,Ya=co,o3=Ne,be=re,Ka=Sc(Om),a3=oi,Re=_d,u3=mo,$f="DefaultChainId",Ff="DefaultJsonRpcUrl";class c3 extends i3.default{constructor(e){var r,n;super(),this._filterPolyfill=new a3.FilterPolyfill(this),this._subscriptionManager=new u3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,be.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Df.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,be.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,p=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(p,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,be.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Ff))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Ff,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem($f,r.toString(10)),((0,be.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,be.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),p=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!p&&await l.requestEthereumAccounts().promise;const y=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=y.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=y.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,o3.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===ke.standardErrorCodes.provider.unsupportedChain?ke.standardErrors.provider.unsupportedChain(e):ke.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Qa.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Bf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Re.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ke.serializeError)(i,e)})}catch(n){throw(0,ke.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,ke.serializeError)(n,e)})}catch(n){return Promise.reject((0,ke.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,ke.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,ke.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ke.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ke.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ke.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,be.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,ke.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Ya.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,ke.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Ya.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,ke.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Ya.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,be.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Df.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Re.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Re.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Re.JSONRPCMethod.net_version:return this._net_version();case Re.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Re.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Re.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Re.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Re.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Re.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Re.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Re.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Re.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Re.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Re.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Re.JSONRPCMethod.eth_signTypedData_v4:case Re.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Re.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Re.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Re.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Re.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Re.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Re.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Re.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Re.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Re.JSONRPCMethod.eth_subscribe:case Re.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,be.ensureAddressString)(e);return this._addresses.map(i=>(0,be.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Qa.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,be.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,be.ensureAddressString)(e.to):null,i=e.value!=null?(0,be.ensureBN)(e.value):new s3.default(0),s=e.data?(0,be.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,be.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,be.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,be.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,be.ensureBN)(e.maxPriorityFeePerGas):null,p=e.gas!=null?(0,be.ensureBN)(e.gas):null,y=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:p,chainId:y}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ke.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ke.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ke.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,be.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem($f);if(!e)return(0,be.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,be.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Qa.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Bf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ke.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ke.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,be.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ke.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,be.ensureParsedJSONObject)(e[0]),n=(0,be.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ka.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ka.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ka.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ke.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw ke.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ke.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ke.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ke.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ke.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}ti.CoinbaseWalletProvider=c3;var $o={},Fo={};const Lt=wn(D0);function li(t){return typeof t=="function"}var jf=!1,Ut={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}jf=t},get useDeprecatedSynchronousErrorHandling(){return jf}};function Gn(t){setTimeout(function(){throw t},0)}var Ks={closed:!0,next:function(t){},error:function(t){if(Ut.useDeprecatedSynchronousErrorHandling)throw t;Gn(t)},complete:function(){}},Ct=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function xc(t){return t!==null&&typeof t=="object"}var l3=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Hi=l3,et=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(li(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(y){e=y instanceof Hi?Uf(y.errors):[y]}}if(Ct(o))for(var a=-1,l=o.length;++a<l;){var p=o[a];if(xc(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof Hi?e=e.concat(Uf(v.errors)):e.push(v)}}if(e)throw new Hi(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Uf(t){return t.reduce(function(e,r){return e.concat(r instanceof Hi?r.errors:r)},[])}var Xs=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ie=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ks;break;case 1:if(!r){s.destination=Ks;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Wf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Wf(s,r,n,i);break}return s}return e.prototype[Xs]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(et),Wf=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return li(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Ks&&(c=Object.create(n),li(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ut.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ut.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Gn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Gn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ut.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ut.useDeprecatedSynchronousErrorHandling)throw i;Gn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ut.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ut.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Gn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ie);function Mc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ie?t=n:t=null}return!0}function f3(t,e,r){if(t){if(t instanceof ie)return t;if(t[Xs])return t[Xs]()}return!t&&!e&&!r?new ie(Ks):new ie(t,e,r)}var Mi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dr(t){return t}function Mu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Np(t)}function Np(t){return t.length===0?Dr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ve=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=f3(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ut.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ut.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ut.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Mc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Hf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Mi]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Np(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Hf(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Hf(t){if(t||(t=Ut.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var h3=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Tr=h3,Lp=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(et),Pp=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ie),gt=function(t){G(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Xs]=function(){return new Pp(this)},e.prototype.lift=function(r){var n=new Vf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Tr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Tr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Tr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Tr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Tr;return this.hasError?(r.error(this.thrownError),et.EMPTY):this.isStopped?(r.complete(),et.EMPTY):(this.observers.push(r),new Lp(this,r))},e.prototype.asObservable=function(){var r=new ve;return r.source=this,r},e.create=function(r,n){return new Vf(r,n)},e}(ve),Vf=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):et.EMPTY},e}(gt);function Cc(){return function(e){return e.lift(new d3(e))}}var d3=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new p3(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),p3=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ie),Bp=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new et,r.add(this.source.subscribe(new y3(this.getSubject(),this))),r.closed&&(this._connection=null,r=et.EMPTY)),r},e.prototype.refCount=function(){return Cc()(this)},e}(ve),g3=function(){var t=Bp.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),y3=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Pp);function b3(t,e,r,n){return function(i){return i.lift(new v3(t,e,r,n))}}var v3=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new m3(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),m3=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new gt,i.set(n,s);var a=new Cu(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Cu(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new w3(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ie),w3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ie),Cu=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new et,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new _3(s)),n.add(o.subscribe(r)),n},e}(ve),_3=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(et),Dp=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(gt),E3=function(t){G(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(et),ys=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(E3),S3=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ys),Iu=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),bs=function(t){G(e,t);function e(r,n){n===void 0&&(n=Iu.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Iu),x3=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(bs),$p=new x3(S3),Fp=$p,fi=new ve(function(t){return t.complete()});function Ci(t){return t?M3(t):fi}function M3(t){return new ve(function(e){return t.schedule(function(){return e.complete()})})}function Nt(t){return t&&typeof t.schedule=="function"}var jp=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Ic(t,e){return new ve(function(r){var n=new et,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function vs(t,e){return e?Ic(t,e):new ve(jp(t))}function jo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Nt(r)?(t.pop(),Ic(t,r)):vs(t)}function Rc(t,e){return e?new ve(function(r){return e.schedule(C3,0,{error:t,subscriber:r})}):new ve(function(r){return r.error(t)})}function C3(t){var e=t.error,r=t.subscriber;r.error(e)}var Ru;Ru||(Ru={});var _r=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return jo(this.value);case"E":return Rc(this.error);case"C":return Ci()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function I3(t,e){return e===void 0&&(e=0),function(n){return n.lift(new R3(t,e))}}var R3=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Up(e,this.scheduler,this.delay))},t}(),Up=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new A3(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(_r.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(_r.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(_r.createComplete()),this.unsubscribe()},e}(ie),A3=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Ac=function(t){G(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new T3(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Tr;if(this.isStopped||this.hasError?a=et.EMPTY:(this.observers.push(r),a=new Lp(this,r)),s&&r.add(r=new Up(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Fp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(gt),T3=function(){function t(e,r){this.time=e,this.value=r}return t}(),Ii=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),et.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),et.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(gt),O3=1,k3=function(){return Promise.resolve()}(),Au={};function zf(t){return t in Au?(delete Au[t],!0):!1}var qf={setImmediate:function(t){var e=O3++;return Au[e]=!0,k3.then(function(){return zf(e)&&t()}),e},clearImmediate:function(t){zf(t)}},N3=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=qf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(qf.clearImmediate(n),r.scheduled=void 0)},e}(ys),L3=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(bs),Wp=new L3(N3),Us=Wp,Hp=new bs(ys),It=Hp,P3=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(ys),B3=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(bs),Vp=new B3(P3),D3=Vp,$3=function(t){G(e,t);function e(r,n){r===void 0&&(r=zp),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(bs),zp=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ys);function ur(){}function F3(t){return!!t&&(t instanceof ve||typeof t.lift=="function"&&typeof t.subscribe=="function")}var j3=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),hi=j3,U3=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ms=U3,W3=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),qp=W3;function Gt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H3(t,e))}}var H3=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new V3(e,this.project,this.thisArg))},t}(),V3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ie);function Gp(t,e,r){if(e)if(Nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gp(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ve(function(c){if(r){var p={args:n,subscriber:c,params:a};return r.schedule(z3,0,p)}else{if(!o){o=new Ii;var l=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];o.next(y.length<=1?y[0]:y),o.complete()};try{t.apply(s,n.concat([l]))}catch(y){Mc(o)?o.error(y):console.warn(y)}}return o.subscribe(c)}})}}function z3(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Ii;var l=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var v=p.length<=1?p[0]:p;e.add(a.schedule(q3,0,{value:v,subject:c}))};try{s.apply(o,r.concat([l]))}catch(p){c.error(p)}}this.add(c.subscribe(n))}function q3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Jp(t,e,r){if(e)if(Nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Jp(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ve(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(G3,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Ii;var l=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var v=p.shift();if(v){c.error(v);return}c.next(p.length<=1?p[0]:p),c.complete()};try{t.apply(a,n.concat([l]))}catch(p){Mc(c)?c.error(p):console.warn(p)}}return c.subscribe(o)})}}function G3(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Ii;var l=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var v=p.shift();if(v)e.add(a.schedule(Gf,0,{err:v,subject:c}));else{var A=p.length<=1?p[0]:p;e.add(a.schedule(J3,0,{value:A,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(p){this.add(a.schedule(Gf,0,{err:p,subject:c}))}}this.add(c.subscribe(n))}function J3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gf(t){var e=t.err,r=t.subject;r.error(e)}var Rn=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ie),Z3=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ie),Q3=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Gn),e}};function Y3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $r=Y3(),K3=function(t){return function(e){var r=t[$r]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},X3=function(t){return function(e){var r=t[Mi]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Zp=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Qp(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Ji=function(t){if(t&&typeof t[Mi]=="function")return X3(t);if(Zp(t))return jp(t);if(Qp(t))return Q3(t);if(t&&typeof t[$r]=="function")return K3(t);var e=xc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Sr(t,e,r,n,i){if(i===void 0&&(i=new Z3(t,r,n)),!i.closed)return e instanceof ve?e.subscribe(i):Ji(e)(i)}var Jf={};function e4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Nt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0]),vs(t,n).lift(new Tc(r))}var Tc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.resultSelector))},t}(),t4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Jf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Sr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Jf?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rn);function r4(t,e){return new ve(function(r){var n=new et;return n.add(e.schedule(function(){var i=t[Mi]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function n4(t,e){return new ve(function(r){var n=new et;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function i4(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(function(r){var n=new et,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[$r](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function s4(t){return t&&typeof t[Mi]=="function"}function o4(t){return t&&typeof t[$r]=="function"}function Yp(t,e){if(t!=null){if(s4(t))return r4(t,e);if(Qp(t))return n4(t,e);if(Zp(t))return Ic(t,e);if(o4(t)||typeof t=="string")return i4(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function xr(t,e){return e?Yp(t,e):t instanceof ve?t:new ve(Ji(t))}var tt=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ie),rt=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ie);function nt(t,e){if(!e.closed){if(t instanceof ve)return t.subscribe(e);var r;try{r=Ji(t)(e)}catch(n){e.error(n)}return r}}function vn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(vn(function(i,s){return xr(t(i,s)).pipe(Gt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new a4(t,r))})}var a4=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new u4(e,this.project,this.concurrent))},t}(),u4=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(rt),c4=vn;function Oc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),vn(Dr,t)}function Kp(){return Oc(1)}function Zi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kp()(jo.apply(void 0,t))}function kc(t){return new ve(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?xr(r):Ci();return n.subscribe(e)})}function l4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ct(r))return Ns(r,null);if(xc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ns(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ct(t[0])?t[0]:t,Ns(t,null).pipe(Gt(function(s){return i.apply(void 0,s)}))}return Ns(t,null)}function Ns(t,e){return new ve(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var p=xr(t[l]),y=!1;r.add(p.subscribe({next:function(v){y||(y=!0,o++),i[l]=v},error:function(v){return r.error(v)},complete:function(){s++,(s===n||!y)&&(o===n&&r.next(e?e.reduce(function(v,A,O){return v[A]=i[O],v},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Xp(t,e,r,n){return li(r)&&(n=r,r=void 0),n?Xp(t,e,r).pipe(Gt(function(i){return Ct(i)?n.apply(void 0,i):n(i)})):new ve(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}e0(t,e,s,i,r)})}function e0(t,e,r,n,i){var s;if(d4(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(h4(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(f4(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,p=t.length;l<p;l++)e0(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function f4(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function h4(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function d4(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function t0(t,e,r){return r?t0(t,e).pipe(Gt(function(n){return Ct(n)?r.apply(void 0,n):r(n)})):new ve(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(li(e))return function(){return e(i,s)}})}function p4(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Dr,i=a.scheduler}else n===void 0||Nt(n)?(o=t,s=Dr,i=n):(o=t,s=n);return new ve(function(c){var l=o;if(i)return i.schedule(g4,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var p=void 0;try{p=e(l)}catch(v){c.error(v);return}if(!p){c.complete();break}}var y=void 0;try{y=s(l)}catch(v){c.error(v);return}if(c.next(y),c.closed)break;try{l=r(l)}catch(v){c.error(v);return}}while(!0)})}function g4(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function y4(t,e,r){return e===void 0&&(e=fi),r===void 0&&(r=fi),kc(function(){return t()?e:r})}function di(t){return!Ct(t)&&t-parseFloat(t)+1>=0}function b4(t,e){return t===void 0&&(t=0),e===void 0&&(e=It),(!di(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=It),new ve(function(r){return r.add(e.schedule(v4,t,{subscriber:r,counter:0,period:t})),r})}function v4(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function r0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Nt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ve?t[0]:Oc(r)(vs(t,n))}var n0=new ve(ur);function m4(){return n0}function Tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return fi;var r=t[0],n=t.slice(1);return t.length===1&&Ct(r)?Tu.apply(void 0,r):new ve(function(i){var s=function(){return i.add(Tu.apply(void 0,n).subscribe(i))};return xr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function w4(t,e){return e?new ve(function(r){var n=Object.keys(t),i=new et;return i.add(e.schedule(_4,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ve(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function _4(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function i0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Fr(t,e){return function(n){return n.lift(new E4(t,e))}}var E4=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new S4(e,this.predicate,this.thisArg))},t}(),S4=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ie);function x4(t,e,r){return[Fr(e,r)(new ve(Ji(t))),Fr(i0(e,r))(new ve(Ji(t)))]}function s0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ct(t[0]))t=t[0];else return t[0];return vs(t,void 0).lift(new M4)}var M4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new C4(e))},t}(),C4=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Sr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Rn);function I4(t,e,r){return t===void 0&&(t=0),new ve(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(R4,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function R4(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function o0(t,e,r){t===void 0&&(t=0);var n=-1;return di(e)?n=Number(e)<1&&1||Number(e):Nt(e)&&(r=e),Nt(r)||(r=It),new ve(function(i){var s=di(t)?t:+t-r.now();return r.schedule(A4,s,{index:0,period:n,subscriber:i})})}function A4(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function T4(t,e){return new ve(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?xr(i):fi,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function a0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),vs(t,void 0).lift(new u0(r))}var u0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new O4(e,this.resultSelector))},t}(),O4=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ct(r)?n.push(new N4(r)):typeof r[$r]=="function"?n.push(new k4(r[$r]())):n.push(new L4(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ie),k4=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),N4=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[$r]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),L4=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[$r]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return nt(this.observable,new tt(this))},e}(rt);const P4=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:hi,AsyncSubject:Ii,BehaviorSubject:Dp,ConnectableObservable:Bp,EMPTY:fi,EmptyError:ms,GroupedObservable:Cu,NEVER:n0,Notification:_r,get NotificationKind(){return Ru},ObjectUnsubscribedError:Tr,Observable:ve,ReplaySubject:Ac,Scheduler:Iu,Subject:gt,Subscriber:ie,Subscription:et,TimeoutError:qp,UnsubscriptionError:Hi,VirtualAction:zp,VirtualTimeScheduler:$3,animationFrame:D3,animationFrameScheduler:Vp,asap:Us,asapScheduler:Wp,async:It,asyncScheduler:Hp,bindCallback:Gp,bindNodeCallback:Jp,combineLatest:e4,concat:Zi,config:Ut,defer:kc,empty:Ci,forkJoin:l4,from:xr,fromEvent:Xp,fromEventPattern:t0,generate:p4,identity:Dr,iif:y4,interval:b4,isObservable:F3,merge:r0,never:m4,noop:ur,observable:Mi,of:jo,onErrorResumeNext:Tu,pairs:w4,partition:x4,pipe:Mu,queue:Fp,queueScheduler:$p,race:s0,range:I4,scheduled:Yp,throwError:Rc,timer:o0,using:T4,zip:a0},Symbol.toStringTag,{value:"Module"})),Uo=wn(P4);var Wo={};function c0(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=c0(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Zf(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=c0(t))&&(n&&(n+=" "),n+=e);return n}const B4=Object.freeze(Object.defineProperty({__proto__:null,clsx:Zf,default:Zf},Symbol.toStringTag,{value:"Module"})),Ho=wn(B4),ws=wn($0);var pr={},Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.CloseIcon=void 0;const Qf=Lt;function D4(t){return(0,Qf.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Qf.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Vo.CloseIcon=D4;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.QRCodeIcon=void 0;const sr=Lt;function $4(t){return(0,sr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,sr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,sr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,sr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,sr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,sr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,sr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,sr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,sr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,sr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}zo.QRCodeIcon=$4;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});const F4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Pc.default=F4;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.StatusDotIcon=void 0;const Yf=Lt;function j4(t){return(0,Yf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Yf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}qo.StatusDotIcon=j4;var Go={};function l0(t){this.mode=Ot.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}l0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function gr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}gr.prototype={addData:function(t){var e=new l0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=gr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ke.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ke.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ke.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ke.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=Ke.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};gr.PAD0=236;gr.PAD1=17;gr.createData=function(t,e,r){for(var n=fr.getRSBlocks(t,e),i=new f0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ke.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(gr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(gr.PAD1,8);return gr.createBytes(i,n)};gr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var p=0;p<s[a].length;p++)s[a][p]=255&t.buffer[p+r];r+=c;var y=Ke.getErrorCorrectPolynomial(l),v=new ei(s[a],y.getLength()-1),A=v.mod(y);o[a]=new Array(y.getLength()-1);for(var p=0;p<o[a].length;p++){var O=p+A.getLength()-o[a].length;o[a][p]=O>=0?A.get(O):0}}for(var j=0,p=0;p<e.length;p++)j+=e[p].totalCount;for(var F=new Array(j),I=0,p=0;p<n;p++)for(var a=0;a<e.length;a++)p<s[a].length&&(F[I++]=s[a][p]);for(var p=0;p<i;p++)for(var a=0;a<e.length;a++)p<o[a].length&&(F[I++]=o[a][p]);return F};var Ot={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},kr={L:1,M:0,Q:3,H:2},Mr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ke={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15)>=0;)e^=Ke.G15<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15);return(t<<10|e)^Ke.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18)>=0;)e^=Ke.G18<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ke.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Mr.PATTERN000:return(e+r)%2==0;case Mr.PATTERN001:return e%2==0;case Mr.PATTERN010:return r%3==0;case Mr.PATTERN011:return(e+r)%3==0;case Mr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Mr.PATTERN101:return e*r%2+e*r%3==0;case Mr.PATTERN110:return(e*r%2+e*r%3)%2==0;case Mr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ei([1],0),r=0;r<t;r++)e=e.multiply(new ei([1,pt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ot.MODE_NUMBER:return 10;case Ot.MODE_ALPHA_NUM:return 9;case Ot.MODE_8BIT_BYTE:return 8;case Ot.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ot.MODE_NUMBER:return 12;case Ot.MODE_ALPHA_NUM:return 11;case Ot.MODE_8BIT_BYTE:return 16;case Ot.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ot.MODE_NUMBER:return 14;case Ot.MODE_ALPHA_NUM:return 13;case Ot.MODE_8BIT_BYTE:return 16;case Ot.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var p=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&p++;var y=Math.abs(100*p/e/e-50)/5;return r+=y*10,r}},pt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return pt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return pt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var bt=0;bt<8;bt++)pt.EXP_TABLE[bt]=1<<bt;for(var bt=8;bt<256;bt++)pt.EXP_TABLE[bt]=pt.EXP_TABLE[bt-4]^pt.EXP_TABLE[bt-5]^pt.EXP_TABLE[bt-6]^pt.EXP_TABLE[bt-8];for(var bt=0;bt<255;bt++)pt.LOG_TABLE[pt.EXP_TABLE[bt]]=bt;function ei(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}ei.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=pt.gexp(pt.glog(this.get(r))+pt.glog(t.get(n)));return new ei(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=pt.glog(this.get(0))-pt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=pt.gexp(pt.glog(t.get(n))+e);return new ei(r,0).mod(t)}};function fr(t,e){this.totalCount=t,this.dataCount=e}fr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];fr.getRSBlocks=function(t,e){var r=fr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new fr(a,c));return i};fr.getRsBlockTable=function(t,e){switch(e){case kr.L:return fr.RS_BLOCK_TABLE[(t-1)*4+0];case kr.M:return fr.RS_BLOCK_TABLE[(t-1)*4+1];case kr.Q:return fr.RS_BLOCK_TABLE[(t-1)*4+2];case kr.H:return fr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function f0(){this.buffer=[],this.length=0}f0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Xa=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return kr.L;case"M":return kr.M;case"Q":return kr.Q;case"H":return kr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var p=i(c),y=1,v=0,A=0,O=Xa.length;A<=O;A++){var j=Xa[A];if(!j)throw new Error("Content too long: expected "+v+" but got "+p);switch(l){case"L":v=j[0];break;case"M":v=j[1];break;case"Q":v=j[2];break;case"H":v=j[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(p<=v)break;y++}if(y>Xa.length)throw new Error("Content too long");return y}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new gr(o,a),this.qrcode.addData(s),this.qrcode.make()}h0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),p=a/(c+2*e.padding),y=typeof e.join<"u"?!!e.join:!1,v=typeof e.swap<"u"?!!e.swap:!1,A=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,O=typeof e.predefined<"u"?!!e.predefined:!1,j=O?i+'<defs><path id="qrmodule" d="M0 0 h'+p+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",F=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,I="",N="",D=0;D<c;D++)for(var H=0;H<c;H++){var U=r[H][D];if(U){var z=H*l+e.padding*l,ee=D*p+e.padding*p;if(v){var K=z;z=ee,ee=K}if(y){var Z=l+z,se=p+ee;z=Number.isInteger(z)?Number(z):z.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),se=Number.isInteger(se)?Number(se):se.toFixed(2),N+="M"+z+","+ee+" V"+se+" H"+Z+" V"+ee+" H"+z+" Z "}else O?I+=i+'<use x="'+z.toString()+'" y="'+ee.toString()+'" href="#qrmodule" />'+s:I+=i+'<rect x="'+z.toString()+'" y="'+ee.toString()+'" width="'+l+'" height="'+p+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}y&&(I=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+N+'" />');let ne="";if(this.options.image!==void 0&&this.options.image.svg){const w=o*this.options.image.width/100,u=a*this.options.image.height/100,g=o/2-w/2,m=a/2-u/2;ne+=`<svg x="${g}" y="${m}" width="${w}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ne+=this.options.image.svg+s,ne+="</svg>"}var oe="";switch(t.container){case"svg":A&&(oe+='<?xml version="1.0" standalone="yes"?>'+s),oe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,oe+=j+F+I,oe+=ne,oe+="</svg>";break;case"svg-viewbox":A&&(oe+='<?xml version="1.0" standalone="yes"?>'+s),oe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,oe+=j+F+I,oe+=ne,oe+="</svg>";break;case"g":oe+='<g width="'+o+'" height="'+a+'">'+s,oe+=j+F+I,oe+=ne,oe+="</g>";break;default:oe+=(j+F+I+ne).replace(/^\s+/,"");break}return oe};var U4=h0,W4=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Go,"__esModule",{value:!0});Go.QRCode=void 0;const H4=Lt,Kf=ws,V4=W4(U4),z4=t=>{const[e,r]=(0,Kf.useState)("");return(0,Kf.useEffect)(()=>{var n,i;const s=new V4.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,H4.h)("img",{src:e,alt:"QR Code"}):null};Go.QRCode=z4;var Jo={},Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var q4=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.Spinner=void 0;const Ls=Lt,G4=q4(Dc),J4=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ls.h)("div",{class:"-cbwsdk-spinner"},(0,Ls.h)("style",null,G4.default),(0,Ls.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ls.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Jo.Spinner=J4;var $c={};Object.defineProperty($c,"__esModule",{value:!0});$c.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ri=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.CoinbaseAppSteps=pr.CoinbaseWalletSteps=pr.ConnectItem=pr.ConnectContent=void 0;const Ht=Ri(Ho),le=Lt,Xf=ws,Z4=re,Q4=bi,Y4=Vo,K4=Ri(Nc),X4=Ri(Lc),d0=zo,ex=Ri(Pc),tx=Ri(Bc),rx=qo,nx=Go,ix=Jo,sx=Ri($c),eh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:X4.default,steps:g0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:K4.default,steps:y0}},ox=t=>{switch(t){case"coinbase-app":return ex.default;case"coinbase-wallet-app":default:return tx.default}},Ou=t=>t==="light"?"#FFFFFF":"#0A0B0D";function ax(t){const{theme:e}=t,[r,n]=(0,Xf.useState)("coinbase-wallet-app"),i=(0,Xf.useCallback)(l=>{n(l)},[]),s=(0,Z4.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=eh[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,le.h)("div",{"data-testid":"connect-content",class:(0,Ht.default)("-cbwsdk-connect-content",e)},(0,le.h)("style",null,sx.default),(0,le.h)("div",{class:"-cbwsdk-connect-content-header"},(0,le.h)("h2",{class:(0,Ht.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,le.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,le.h)(Y4.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,le.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,le.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,le.h)("div",null,Object.entries(eh).map(([l,p])=>(0,le.h)(p0,{key:l,title:p.title,description:p.description,icon:p.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,le.h)("div",{class:(0,Ht.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,le.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,le.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,le.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,le.h)(nx.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:ox(r),width:25,height:25}}),(0,le.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Q4.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:s})),(0,le.h)(a,{theme:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Ht.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,le.h)(ix.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting...")))))}pr.ConnectContent=ax;function p0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,le.h)("div",{onClick:s,class:(0,Ht.default)("-cbwsdk-connect-item",i,{selected:n})},(0,le.h)("div",null,(0,le.h)("img",{src:r,alt:t})),(0,le.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,le.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,le.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}pr.ConnectItem=p0;function g0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"Scan")," "),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(d0.QRCodeIcon,{fill:Ou(t)})))))}pr.CoinbaseWalletSteps=g0;function y0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"More")),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(rx.StatusDotIcon,{fill:Ou(t)})),(0,le.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,le.h)("strong",null,"Scan")),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(d0.QRCodeIcon,{fill:Ou(t)})))))}pr.CoinbaseAppSteps=y0;var Zo={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ArrowLeftIcon=void 0;const th=Lt;function ux(t){return(0,th.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,th.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Qo.ArrowLeftIcon=ux;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.LaptopIcon=void 0;const eu=Lt;function cx(t){return(0,eu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,eu.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,eu.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Yo.LaptopIcon=cx;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.SafeIcon=void 0;const rh=Lt;function lx(t){return(0,rh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,rh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Ko.SafeIcon=lx;var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var b0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.TryExtensionContent=void 0;const rn=b0(Ho),st=Lt,tu=ws,fx=Qo,hx=Yo,dx=Ko,px=b0(Fc);function gx({theme:t}){const[e,r]=(0,tu.useState)(!1),n=(0,tu.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,tu.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension",t)},(0,st.h)("style",null,px.default),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("h3",{class:(0,rn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,st.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,st.h)("button",{class:(0,rn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,st.h)("div",null,!e&&(0,st.h)(fx.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(hx.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(dx.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Zo.TryExtensionContent=gx;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var v0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.ConnectDialog=void 0;const ru=v0(Ho),nn=Lt,nu=ws,yx=pr,bx=Zo,vx=v0(jc),mx=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,nu.useState)(!e),[s,o]=(0,nu.useState)(!e);(0,nu.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,nn.h)("div",{class:(0,ru.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,nn.h)("style",null,vx.default),(0,nn.h)("div",{class:(0,ru.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,nn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,nn.h)("div",{class:(0,ru.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,nn.h)(yx.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,nn.h)(bx.TryExtensionContent,{theme:a}))))};Wo.ConnectDialog=mx;Object.defineProperty(Fo,"__esModule",{value:!0});Fo.LinkFlow=void 0;const iu=Lt,nh=Uo,wx=Wo;class _x{constructor(e){this.extensionUI$=new nh.BehaviorSubject({}),this.subscriptions=new nh.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,iu.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,iu.render)((0,iu.h)(wx.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Fo.LinkFlow=_x;var m0={},Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=te&&te.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ho),n=Lt,i=ws,s=e(Uc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(y){switch(y){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(v){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=v.darkMode}attach(v){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",v.appendChild(this.root),this.render()}presentItem(v){const A=this.nextItemKey++;return this.items.set(A,v),this.render(),()=>{this.items.delete(A),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([v,A])=>(0,n.h)(t.SnackbarInstance,Object.assign({},A,{key:v}))))),this.root)}}t.Snackbar=c;const l=y=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},y.children));t.SnackbarContainer=l;const p=({autoExpand:y,message:v,menuItems:A,appSrc:O})=>{const[j,F]=(0,i.useState)(!0),[I,N]=(0,i.useState)(y??!1);(0,i.useEffect)(()=>{const H=[window.setTimeout(()=>{F(!1)},1),window.setTimeout(()=>{N(!0)},1e4)];return()=>{H.forEach(window.clearTimeout)}});const D=()=>{N(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",j&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:D},(0,n.h)("img",{src:a(O),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},v),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),A&&A.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},A.map((H,U)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:H.onClick,key:U},(0,n.h)("svg",{width:H.svgWidth,height:H.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":H.defaultFillRule,"clip-rule":H.defaultClipRule,d:H.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},H.info)))))};t.SnackbarInstance=p})(m0);var Xo={},Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Ex=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.injectCssReset=void 0;const Sx=Ex(Wc);function xx(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Sx.default)),document.documentElement.appendChild(t)}Xo.injectCssReset=xx;Object.defineProperty($o,"__esModule",{value:!0});$o.WalletSDKUI=void 0;const Mx=Fo,Cx=m0,Ix=Xo;class Rx{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Cx.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Mx.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,Ix.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}$o.WalletSDKUI=Rx;var ea={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});var Jn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Jn||(Jn={}));function w0(t,e,r){if(!r||typeof r.value!==Jn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Jn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Jn.boolTrue,writable:Jn.boolTrue}),n}}}ta.bind=w0;ta.default=w0;function _0(t){return function(r){return r.lift(new Ax(t))}}var Ax=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Tx(e,this.durationSelector))},t}(),Tx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=nt(n,new tt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(rt);function Ox(t,e){return e===void 0&&(e=It),_0(function(){return o0(t,e)})}function kx(t){return function(r){return r.lift(new Nx(t))}}var Nx=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Lx(e,this.closingNotifier))},t}(),Lx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(nt(n,new tt(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(rt);function Px(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Bx(t,e))}}var Bx=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Dx:this.subscriberClass=$x}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Dx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ie),$x=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ie);function Fx(t){var e=arguments.length,r=It;Nt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new jx(t,n,i,r))}}var jx=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Wx(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Ux=function(){function t(){this.buffer=[]}return t}(),Wx=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ih,n,l))}else{var p={subscriber:a,context:c},y={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(E0,n,p)),a.add(o.schedule(Hx,i,y))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(ih,i,s))}},e.prototype.openContext=function(){var r=new Ux;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ie);function ih(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Hx(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(E0,r,{subscriber:n,context:s})),o.schedule(t,e))}function E0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Vx(t,e){return function(n){return n.lift(new zx(t,e))}}var zx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new qx(e,this.openings,this.closingSelector))},t}(),qx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Sr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new et,o={buffer:i,subscription:s};n.push(o);var a=Sr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Rn);function Gx(t){return function(e){return e.lift(new Jx(t))}}var Jx=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Zx(e,this.closingSelector))},t}(),Zx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new et,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(nt(i,new tt(this))),this.subscribing=!1},e}(rt);function Qx(t){return function(r){var n=new Yx(t),i=r.lift(n);return n.caught=i}}var Yx=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Kx(e,this.selector,this.caught))},t}(),Kx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new tt(this);this.add(i);var s=nt(n,i);s!==i&&this.add(s)}},e}(rt);function Xx(t){return function(e){return e.lift(new Tc(t))}}function e5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(xr([n].concat(t)),new Tc(r))}}function t5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Zi.apply(void 0,[r].concat(t)))}}function S0(t,e){return vn(t,e,1)}function r5(t,e){return S0(function(){return t},e)}function n5(t){return function(e){return e.lift(new i5(t,e))}}var i5=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new s5(e,this.predicate,this.source))},t}(),s5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ie);function o5(t){return function(e){return e.lift(new a5(t))}}var a5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new u5(e,this.durationSelector))},t}(),u5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=nt(n,new tt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(rt);function c5(t,e){return e===void 0&&(e=It),function(r){return r.lift(new l5(t,e))}}var l5=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new f5(e,this.dueTime,this.scheduler))},t}(),f5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(h5,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ie);function h5(t){t.debouncedNext()}function _s(t){return t===void 0&&(t=null),function(e){return e.lift(new d5(t))}}var d5=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new p5(e,this.defaultValue))},t}(),p5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ie);function x0(t){return t instanceof Date&&!isNaN(+t)}function g5(t,e){e===void 0&&(e=It);var r=x0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new y5(n,e))}}var y5=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new b5(e,this.delay,this.scheduler))},t}(),b5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new v5(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(_r.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(_r.createComplete()),this.unsubscribe()},e}(ie),v5=function(){function t(e,r){this.time=e,this.notification=r}return t}();function m5(t,e){return e?function(r){return new _5(r,e).lift(new sh(t))}:function(r){return r.lift(new sh(t))}}var sh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new w5(e,this.delayDurationSelector))},t}(),w5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Sr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Rn),_5=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new E5(r,this.source))},e}(ve),E5=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ie);function S5(){return function(e){return e.lift(new x5)}}var x5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new M5(e))},t}(),M5=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ie);function C5(t,e){return function(r){return r.lift(new I5(t,e))}}var I5=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new R5(e,this.keySelector,this.flushes))},t}(),R5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(nt(i,new tt(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(rt);function M0(t,e){return function(r){return r.lift(new A5(t,e))}}var A5=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new T5(e,this.compare,this.keySelector))},t}(),T5=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ie);function O5(t,e){return M0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ra(t){return t===void 0&&(t=L5),function(e){return e.lift(new k5(t))}}var k5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new N5(e,this.errorFactory))},t}(),N5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ie);function L5(){return new ms}function Hc(t){return function(e){return t===0?Ci():e.lift(new P5(t))}}var P5=function(){function t(e){if(this.total=e,this.total<0)throw new hi}return t.prototype.call=function(e,r){return r.subscribe(new B5(e,this.total))},t}(),B5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ie);function D5(t,e){if(t<0)throw new hi;var r=arguments.length>=2;return function(n){return n.pipe(Fr(function(i,s){return s===t}),Hc(1),r?_s(e):ra(function(){return new hi}))}}function $5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Zi(r,jo.apply(void 0,t))}}function F5(t,e){return function(r){return r.lift(new j5(t,e,r))}}var j5=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new U5(e,this.predicate,this.thisArg,this.source))},t}(),U5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function W5(){return function(t){return t.lift(new H5)}}var H5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new V5(e))},t}(),V5=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(nt(r,new tt(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function C0(t,e){return e?function(r){return r.pipe(C0(function(n,i){return xr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new z5(t))}}var z5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new q5(e,this.project))},t}(),q5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function G5(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new J5(t,e,r))}}var J5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new Z5(e,this.project,this.concurrent,this.scheduler))},t}(),Z5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(nt(r,new tt(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(rt);function Q5(t){return function(e){return e.lift(new Y5(t))}}var Y5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new K5(e,this.callback))},t}(),K5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new et(n)),i}return e}(ie);function X5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new I0(t,r,!1,e))}}var I0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new eM(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),eM=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ie);function tM(t,e){return function(r){return r.lift(new I0(t,r,!0,e))}}function rM(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Fr(function(i,s){return t(i,s,n)}):Dr,Hc(1),r?_s(e):ra(function(){return new ms}))}}function nM(){return function(e){return e.lift(new iM)}}var iM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new sM(e))},t}(),sM=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ie);function oM(){return function(t){return t.lift(new aM)}}var aM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new uM(e))},t}(),uM=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function eo(t){return function(r){return t===0?Ci():r.lift(new cM(t))}}var cM=function(){function t(e){if(this.total=e,this.total<0)throw new hi}return t.prototype.call=function(e,r){return r.subscribe(new lM(e,this.total))},t}(),lM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ie);function fM(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Fr(function(i,s){return t(i,s,n)}):Dr,eo(1),r?_s(e):ra(function(){return new ms}))}}function hM(t){return function(e){return e.lift(new dM(t))}}var dM=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new pM(e,this.value))},t}(),pM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ie);function gM(){return function(e){return e.lift(new yM)}}var yM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new bM(e))},t}(),bM=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(_r.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(_r.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(_r.createComplete()),r.complete()},e}(ie);function to(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new vM(t,e,r))}}var vM=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new mM(e,this.accumulator,this.seed,this.hasSeed))},t}(),mM=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ie);function na(t,e){return arguments.length>=2?function(n){return Mu(to(t,e),eo(1),_s(e))(n)}:function(n){return Mu(to(function(i,s,o){return t(i,s,o+1)}),eo(1))(n)}}function wM(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return na(e)}function _M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(r0.apply(void 0,[r].concat(t)))}}function EM(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?vn(function(){return t},e,r):(typeof e=="number"&&(r=e),vn(function(){return t},r))}function SM(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new xM(t,e,r))}}var xM=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new MM(e,this.accumulator,this.seed,this.concurrent))},t}(),MM=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(rt);function CM(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return na(e)}function mn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new IM(i,e));var s=Object.create(n,g3);return s.source=n,s.subjectFactory=i,s}}var IM=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function RM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ct(t[0])&&(t=t[0]),function(r){return r.lift(new AM(t))}}var AM=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new TM(e,this.nextSources))},t}(),TM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(rt);function OM(){return function(t){return t.lift(new kM)}}var kM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new NM(e))},t}(),NM=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ie);function LM(t,e){return function(r){return[Fr(t,e)(r),Fr(i0(t,e))(r)]}}function PM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Gt(BM(t,r))(n)}}function BM(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function DM(t){return t?mn(function(){return new gt},t):mn(new gt)}function $M(t){return function(e){return mn(new Dp(t))(e)}}function FM(){return function(t){return mn(new Ii)(t)}}function jM(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Ac(t,e,n);return function(o){return mn(function(){return s},i)(o)}}function UM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ct(t[0])&&(t=t[0]),n.lift.call(s0.apply(void 0,[n].concat(t)))}}function WM(t){return t===void 0&&(t=-1),function(e){return t===0?Ci():t<0?e.lift(new oh(-1,e)):e.lift(new oh(t-1,e))}}var oh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new HM(e,this.count,this.source))},t}(),HM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function VM(t){return function(e){return e.lift(new zM(t))}}var zM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new qM(e,this.notifier,r))},t}(),qM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new gt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=nt(r,new tt(this))},e}(rt);function GM(t){return t===void 0&&(t=-1),function(e){return e.lift(new JM(t,e))}}var JM=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ZM(e,this.count,this.source))},t}(),ZM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function QM(t){return function(e){return e.lift(new YM(t,e))}}var YM=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new KM(e,this.notifier,this.source))},t}(),KM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new gt;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=nt(i,new tt(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(rt);function XM(t){return function(e){return e.lift(new eC(t))}}var eC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new tC(e),i=r.subscribe(n);return i.add(nt(this.notifier,new tt(n))),i},t}(),tC=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(rt);function rC(t,e){return e===void 0&&(e=It),function(r){return r.lift(new nC(t,e))}}var nC=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new iC(e,this.period,this.scheduler))},t}(),iC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(sC,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ie);function sC(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function oC(t,e){return function(r){return r.lift(new aC(t,e))}}var aC=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new uC(e,this.compareTo,this.comparator))},t}(),uC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new cC(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ie),cC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ie);function lC(){return new gt}function fC(){return function(t){return Cc()(mn(lC)(t))}}function hC(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(dC(n))}}function dC(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,p=!1,y=!1;return function(A){c++;var O;!a||p?(p=!1,a=new Ac(r,i,o),O=a.subscribe(this),l=A.subscribe({next:function(j){a.next(j)},error:function(j){p=!0,a.error(j)},complete:function(){y=!0,l=void 0,a.complete()}}),y&&(l=void 0)):O=a.subscribe(this),this.add(function(){c--,O.unsubscribe(),O=void 0,l&&!y&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function pC(t){return function(e){return e.lift(new gC(t,e))}}var gC=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new yC(e,this.predicate,this.source))},t}(),yC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new ms)},e}(ie);function bC(t){return function(e){return e.lift(new vC(t))}}var vC=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new mC(e,this.total))},t}(),mC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ie);function wC(t){return function(e){return e.lift(new _C(t))}}var _C=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new hi}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ie(e)):r.subscribe(new EC(e,this._skipCount))},t}(),EC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ie);function SC(t){return function(e){return e.lift(new xC(t))}}var xC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new MC(e,this.notifier))},t}(),MC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new tt(i);i.add(s),i.innerSubscription=s;var o=nt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(rt);function CC(t){return function(e){return e.lift(new IC(t))}}var IC=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new RC(e,this.predicate))},t}(),RC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(ie);function AC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Nt(r)?(t.pop(),function(n){return Zi(t,n,r)}):function(n){return Zi(t,n)}}var TC=function(t){G(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Us);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!di(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Us),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Us),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ve);function OC(t,e){return e===void 0&&(e=0),function(n){return n.lift(new kC(t,e))}}var kC=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new TC(r,this.delay,this.scheduler).subscribe(e)},t}();function Qi(t,e){return typeof e=="function"?function(r){return r.pipe(Qi(function(n,i){return xr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new NC(t))}}var NC=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new LC(e,this.project))},t}(),LC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new tt(this),s=this.destination;s.add(i),this.innerSubscription=nt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(rt);function PC(){return Qi(Dr)}function BC(t,e){return e?Qi(function(){return t},e):Qi(function(){return t})}function DC(t){return function(e){return e.lift(new $C(t))}}var $C=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new FC(e),i=nt(this.notifier,new tt(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),FC=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(rt);function jC(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new UC(t,e))}}var UC=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new WC(e,this.predicate,this.inclusive))},t}(),WC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ie);function HC(t,e,r){return function(i){return i.lift(new VC(t,e,r))}}var VC=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new zC(e,this.nextOrObserver,this.error,this.complete))},t}(),zC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ur,o._tapError=ur,o._tapComplete=ur,o._tapError=i||ur,o._tapComplete=s||ur,li(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ur,o._tapError=n.error||ur,o._tapComplete=n.complete||ur),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ie),R0={leading:!0,trailing:!1};function qC(t,e){return e===void 0&&(e=R0),function(r){return r.lift(new GC(t,!!e.leading,!!e.trailing))}}var GC=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new JC(e,this.durationSelector,this.leading,this.trailing))},t}(),JC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=nt(n,new tt(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(rt);function ZC(t,e,r){return e===void 0&&(e=It),r===void 0&&(r=R0),function(n){return n.lift(new QC(t,e,r.leading,r.trailing))}}var QC=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new YC(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),YC=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(KC,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ie);function KC(t){var e=t.subscriber;e.clearThrottle()}function XC(t){return t===void 0&&(t=It),function(e){return kc(function(){return e.pipe(to(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Gt(function(r){var n=r.current,i=r.last,s=r.value;return new eI(s,n-i)}))})}}var eI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function A0(t,e,r){return r===void 0&&(r=It),function(n){var i=x0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new tI(s,i,e,r))}}var tI=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new rI(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),rI=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(nt(n,new tt(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(rt);function nI(t,e){return e===void 0&&(e=It),A0(t,Rc(new qp),e)}function iI(t){return t===void 0&&(t=It),Gt(function(e){return new sI(e,t.now())})}var sI=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function oI(t,e,r){return r===0?[e]:(t.push(e),t)}function aI(){return na(oI,[])}function uI(t){return function(r){return r.lift(new cI(t))}}var cI=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new lI(e),i=r.subscribe(n);return i.closed||n.add(nt(this.windowBoundaries,new tt(n))),i},t}(),lI=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new gt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new gt;n.next(i)},e}(rt);function fI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new hI(t,e))}}var hI=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new dI(e,this.windowSize,this.startWindowEvery))},t}(),dI=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new gt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var p=new gt;o.push(p),i.next(p)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ie);function pI(t){var e=It,r=null,n=Number.POSITIVE_INFINITY;return Nt(arguments[3])&&(e=arguments[3]),Nt(arguments[2])?e=arguments[2]:di(arguments[2])&&(n=Number(arguments[2])),Nt(arguments[1])?e=arguments[1]:di(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new gI(t,r,n,e))}}var gI=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new bI(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),yI=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(gt),bI=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},p={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(T0,n,l)),a.add(o.schedule(mI,i,p))}else{var y={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(vI,n,y))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new yI;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ie);function vI(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function mI(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(T0,e,c),o.add(a.subscription),o.schedule(t,i)}function T0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function wI(t,e){return function(r){return r.lift(new _I(t,e))}}var _I=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new EI(e,this.openings,this.closingSelector))},t}(),EI=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Sr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(A){return this.error(A)}var l=new gt,p=new et,y={window:l,subscription:p};this.contexts.push(y);var v=Sr(this,a,y);v.closed?this.closeWindow(this.contexts.length-1):(v.context=y,p.add(v)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Rn);function SI(t){return function(r){return r.lift(new xI(t))}}var xI=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new MI(e,this.closingSelector))},t}(),MI=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new gt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Sr(this,s))},e}(Rn);function CI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new II(i,n))}}var II=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new RI(e,this.observables,this.project))},t}(),RI=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Sr(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rn);function AI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(a0.apply(void 0,[n].concat(t)))}}function TI(t){return function(e){return e.lift(new u0(t))}}const OI=Object.freeze(Object.defineProperty({__proto__:null,audit:_0,auditTime:Ox,buffer:kx,bufferCount:Px,bufferTime:Fx,bufferToggle:Vx,bufferWhen:Gx,catchError:Qx,combineAll:Xx,combineLatest:e5,concat:t5,concatAll:Kp,concatMap:S0,concatMapTo:r5,count:n5,debounce:o5,debounceTime:c5,defaultIfEmpty:_s,delay:g5,delayWhen:m5,dematerialize:S5,distinct:C5,distinctUntilChanged:M0,distinctUntilKeyChanged:O5,elementAt:D5,endWith:$5,every:F5,exhaust:W5,exhaustMap:C0,expand:G5,filter:Fr,finalize:Q5,find:X5,findIndex:tM,first:rM,flatMap:c4,groupBy:b3,ignoreElements:nM,isEmpty:oM,last:fM,map:Gt,mapTo:hM,materialize:gM,max:wM,merge:_M,mergeAll:Oc,mergeMap:vn,mergeMapTo:EM,mergeScan:SM,min:CM,multicast:mn,observeOn:I3,onErrorResumeNext:RM,pairwise:OM,partition:LM,pluck:PM,publish:DM,publishBehavior:$M,publishLast:FM,publishReplay:jM,race:UM,reduce:na,refCount:Cc,repeat:WM,repeatWhen:VM,retry:GM,retryWhen:QM,sample:XM,sampleTime:rC,scan:to,sequenceEqual:oC,share:fC,shareReplay:hC,single:pC,skip:bC,skipLast:wC,skipUntil:SC,skipWhile:CC,startWith:AC,subscribeOn:OC,switchAll:PC,switchMap:Qi,switchMapTo:BC,take:Hc,takeLast:eo,takeUntil:DC,takeWhile:jC,tap:HC,throttle:qC,throttleTime:ZC,throwIfEmpty:ra,timeInterval:XC,timeout:nI,timeoutWith:A0,timestamp:iI,toArray:aI,window:uI,windowCount:fI,windowTime:pI,windowToggle:wI,windowWhen:SI,withLatestFrom:CI,zip:AI,zipAll:TI},Symbol.toStringTag,{value:"Module"})),Vc=wn(OI);var ia={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ClientMessagePublishEvent=Wt.ClientMessageSetSessionConfig=Wt.ClientMessageGetSessionConfig=Wt.ClientMessageIsLinked=Wt.ClientMessageHostSession=void 0;function kI(t){return Object.assign({type:"HostSession"},t)}Wt.ClientMessageHostSession=kI;function NI(t){return Object.assign({type:"IsLinked"},t)}Wt.ClientMessageIsLinked=NI;function LI(t){return Object.assign({type:"GetSessionConfig"},t)}Wt.ClientMessageGetSessionConfig=LI;function PI(t){return Object.assign({type:"SetSessionConfig"},t)}Wt.ClientMessageSetSessionConfig=PI;function BI(t){return Object.assign({type:"PublishEvent"},t)}Wt.ClientMessagePublishEvent=BI;var O0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Uo,r=Vc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(O0);var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.isServerMessageFail=void 0;function DI(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}sa.isServerMessageFail=DI;Object.defineProperty(ia,"__esModule",{value:!0});ia.WalletSDKConnection=void 0;const Zt=Uo,_e=Vc,Li=vi,Hn=is,Pi=Wt,Bi=yi,Ps=O0,su=sa,ah=1e4,$I=6e4;class FI{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Zt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Hn.IntNumber)(1),this.connectedSubject=new Zt.BehaviorSubject(!1),this.linkedSubject=new Zt.BehaviorSubject(!1),this.sessionConfigSubject=new Zt.ReplaySubject(1);const o=new Ps.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,_e.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Bi.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Li.Session.hash(e)})}),(0,_e.skip)(1),(0,_e.filter)(a=>a===Ps.ConnectionState.DISCONNECTED&&!this.destroyed),(0,_e.delay)(5e3),(0,_e.filter)(a=>!this.destroyed),(0,_e.flatMap)(a=>o.connect()),(0,_e.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(2),(0,_e.switchMap)(a=>(0,Zt.iif)(()=>a===Ps.ConnectionState.CONNECTED,this.authenticate().pipe((0,_e.tap)(c=>this.sendIsLinked()),(0,_e.tap)(c=>this.sendGetSessionConfig()),(0,_e.map)(c=>!0)),(0,Zt.of)(!1))),(0,_e.distinctUntilChanged)(),(0,_e.catchError)(a=>(0,Zt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(1),(0,_e.switchMap)(a=>(0,Zt.iif)(()=>a===Ps.ConnectionState.CONNECTED,(0,Zt.timer)(0,ah)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,_e.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Bi.EVENTS.LINKED,{sessionIdHash:Li.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Bi.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Li.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Bi.EVENTS.STARTED_CONNECTING,{sessionIdHash:Li.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Bi.EVENTS.DISCONNECTED,{sessionIdHash:Li.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,_e.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,_e.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Pi.ClientMessageSetSessionConfig)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,_e.flatMap)(i=>this.makeRequest(n)),(0,_e.map)(i=>{if((0,su.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Pi.ClientMessagePublishEvent)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,_e.flatMap)(s=>this.makeRequest(i)),(0,_e.map)(s=>{if((0,su.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ah*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=$I){const n=e.id;try{this.sendData(e)}catch(i){return(0,Zt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,_e.timeoutWith)(r,(0,Zt.throwError)(new Error(`request ${n} timed out`))),(0,_e.filter)(i=>i.id===n),(0,_e.take)(1))}authenticate(){const e=(0,Pi.ClientMessageHostSession)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,_e.map)(r=>{if((0,su.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Pi.ClientMessageIsLinked)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Pi.ClientMessageGetSessionConfig)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ia.WalletSDKConnection=FI;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.decrypt=pi.encrypt=void 0;const ro=re;async function jI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,ro.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),p=new Uint8Array(c),y=new Uint8Array([...r,...l,...p]);return(0,ro.uint8ArrayToHex)(y)}pi.encrypt=jI;function UI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,ro.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,ro.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),p={name:"AES-GCM",iv:new Uint8Array(o)};try{const y=await window.crypto.subtle.decrypt(p,i,l),v=new TextDecoder;r(v.decode(y))}catch(y){n(y)}})()})}pi.decrypt=UI;var oa={},aa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(aa);Object.defineProperty(oa,"__esModule",{value:!0});oa.Web3RequestCanceledMessage=void 0;const WI=aa;function HI(t){return{type:WI.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}oa.Web3RequestCanceledMessage=HI;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.Web3RequestMessage=void 0;const VI=aa;function zI(t){return Object.assign({type:VI.RelayMessageType.WEB3_REQUEST},t)}ua.Web3RequestMessage=zI;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.isWeb3ResponseMessage=gi.Web3ResponseMessage=void 0;const k0=aa;function qI(t){return Object.assign({type:k0.RelayMessageType.WEB3_RESPONSE},t)}gi.Web3ResponseMessage=qI;function GI(t){return t&&t.type===k0.RelayMessageType.WEB3_RESPONSE}gi.isWeb3ResponseMessage=GI;var JI=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZI=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N0=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},QI=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JI(e,t,r);return ZI(e,t),e},YI=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ea,"__esModule",{value:!0});ea.WalletSDKRelay=void 0;const L0=YI(ta),sn=Uo,at=Vc,_t=yi,KI=ia,Vn=Yi,XI=is,Ye=re,Cr=QI(pi),Ir=vi,Bs=Xt,yt=co,e6=oa,t6=ua,Ft=Ne,At=gi;class Kt extends Bs.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new sn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new sn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ir.Session.load(this.storage)||new Ir.Session(this.storage).save(),r=new KI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,at.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,at.skip)(1),(0,at.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Bs.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(_t.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Bs.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Bs.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,at.mergeMap)(i=>(0,sn.zip)(Cr.decrypt(i.metadata.ChainId,e.secret),Cr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,at.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Kt.accountRequestCallbackIds.size>0&&(Array.from(Kt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,At.Web3ResponseMessage)({id:s,response:(0,Ft.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Kt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,at.timeout)(1e3),(0,at.catchError)(e=>(0,sn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(_t.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ir.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ir.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new sn.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:yt.Web3Method.signEthereumMessage,params:{message:(0,Ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:yt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ye.hexStringFromBuffer)(e,!0),signature:(0,Ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:yt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ye.bigIntStringFromBN)(e.weiValue),data:(0,Ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:yt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ye.bigIntStringFromBN)(e.weiValue),data:(0,Ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:yt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:yt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:yt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,t6.Web3RequestMessage)({id:e,request:r}),s=Ir.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(_t.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ir.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(_t.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ir.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,e6.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new sn.Observable(s=>{Cr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,at.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,sn.from)(Cr.decrypt(e.data,this.session.secret)).pipe((0,at.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,At.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ft.isRequestEthereumAccountsResponse)(n)){Kt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Kt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Vn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:yt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ye.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,Ye.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=p=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:r,response:(0,Ft.RequestEthereumAccountsResponse)(p)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Vn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Kt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:yt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,p=>{if(p.errorMessage)return a(new Error(p.errorMessage));o(p)});const c=p=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(XI.ProviderType.Unselected)}))},l=p=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(p)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:yt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,Ye.randomBytesHex)(8),p=v=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,v),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}));const y=new Promise((v,A)=>{this.relayEventManager.callbacks.set(l,F=>{if(c==null||c(),F.errorMessage)return A(new Error(F.errorMessage));v(F)});const O=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Ft.WatchAssetReponse)(!1)}))},j=()=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Ft.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:j,onCancel:O,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:p,promise:y}}addEthereumChain(e,r,n,i,s,o){const a={method:yt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,Ye.randomBytesHex)(8),p=v=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,v),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload})),{promise:new Promise((v,A)=>{this.relayEventManager.callbacks.set(l,F=>{if(c==null||c(),F.errorMessage)return A(new Error(F.errorMessage));v(F)});const O=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Ft.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},j=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:l,response:(0,Ft.AddEthereumChainResponse)({isApproved:!0,rpcUrl:F})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:O,onApprove:j,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:p}}switchEthereumChain(e,r){const n={method:yt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ye.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,y=>{if((0,Ft.isErrorResponse)(y)&&y.errorCode)return c(Vn.standardErrors.provider.custom({code:y.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(y.errorMessage)return c(new Error(y.errorMessage));a(y)});const l=y=>{var v;if(y){const A=(v=(0,Vn.getErrorCode)(y))!==null&&v!==void 0?v:Vn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,yt.Web3Method.switchEthereumChain,y instanceof Error?y:Vn.standardErrors.provider.unsupportedChain(e),A)}else this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},p=y=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:p,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ir.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case yt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Kt.accountRequestCallbackIds=new Set;N0([L0.default],Kt.prototype,"resetAndReload",null);N0([L0.default],Kt.prototype,"handleIncomingEvent",null);ea.WalletSDKRelay=Kt;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.WalletSDKRelayEventManager=void 0;const r6=re;class n6{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,r6.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ca.WalletSDKRelayEventManager=n6;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.CoinbaseWalletSDK=void 0;const i6=io,s6=so,o6=oo,a6=ti,u6=$o,c6=ea,l6=ca,f6=re,P0=bi;class la{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||s6.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new u6.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new o6.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",la.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new l6.WalletSDKRelayEventManager,this._relay=new c6.WalletSDKRelay({linkAPIUrl:s,version:P0.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new a6.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,f6.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,i6.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Vi.CoinbaseWalletSDK=la;la.VERSION=P0.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Vi,r=ti;var n=Vi;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=ti;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Nu);const h6=B0(Nu),M6=F0({__proto__:null,default:h6},[Nu]);export{M6 as i};
